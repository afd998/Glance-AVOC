function n_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function bu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r_(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Wf={exports:{}},Ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function a_(){if(Hy)return Ao;Hy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:o}}return Ao.Fragment=e,Ao.jsx=n,Ao.jsxs=n,Ao}var Fy;function s_(){return Fy||(Fy=1,Wf.exports=a_()),Wf.exports}var h=s_(),Gf={exports:{}},Ro={},Xf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function i_(){return zy||(zy=1,(function(t){function e(A,H){var z=A.length;A.push(H);e:for(;0<z;){var te=z-1>>>1,O=A[te];if(0<s(O,H))A[te]=H,A[z]=O,z=te;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var H=A[0],z=A.pop();if(z!==H){A[0]=z;e:for(var te=0,O=A.length,K=O>>>1;te<K;){var re=2*(te+1)-1,ne=A[re],ce=re+1,le=A[ce];if(0>s(ne,z))ce<O&&0>s(le,ne)?(A[te]=le,A[ce]=z,te=ce):(A[te]=ne,A[re]=z,te=re);else if(ce<O&&0>s(le,z))A[te]=le,A[ce]=z,te=ce;else break e}}return H}function s(A,H){var z=A.sortIndex-H.sortIndex;return z!==0?z:A.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],m=[],p=1,y=null,b=3,w=!1,x=!1,k=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function T(A){for(var H=n(m);H!==null;){if(H.callback===null)r(m);else if(H.startTime<=A)r(m),H.sortIndex=H.expirationTime,e(f,H);else break;H=n(m)}}function M(A){if(k=!1,T(A),!x)if(n(f)!==null)x=!0,L||(L=!0,X());else{var H=n(m);H!==null&&I(M,H.startTime-A)}}var L=!1,R=-1,$=5,U=-1;function q(){return _?!0:!(t.unstable_now()-U<$)}function V(){if(_=!1,L){var A=t.unstable_now();U=A;var H=!0;try{e:{x=!1,k&&(k=!1,D(R),R=-1),w=!0;var z=b;try{t:{for(T(A),y=n(f);y!==null&&!(y.expirationTime>A&&q());){var te=y.callback;if(typeof te=="function"){y.callback=null,b=y.priorityLevel;var O=te(y.expirationTime<=A);if(A=t.unstable_now(),typeof O=="function"){y.callback=O,T(A),H=!0;break t}y===n(f)&&r(f),T(A)}else r(f);y=n(f)}if(y!==null)H=!0;else{var K=n(m);K!==null&&I(M,K.startTime-A),H=!1}}break e}finally{y=null,b=z,w=!1}H=void 0}}finally{H?X():L=!1}}}var X;if(typeof C=="function")X=function(){C(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=V,X=function(){F.postMessage(null)}}else X=function(){S(V,0)};function I(A,H){R=S(function(){A(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(A){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var z=b;b=H;try{return A()}finally{b=z}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(A,H){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=b;b=A;try{return H()}finally{b=z}},t.unstable_scheduleCallback=function(A,H,z){var te=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?te+z:te):z=te,A){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=z+O,A={id:p++,callback:H,priorityLevel:A,startTime:z,expirationTime:O,sortIndex:-1},z>te?(A.sortIndex=z,e(m,A),n(f)===null&&A===n(m)&&(k?(D(R),R=-1):k=!0,I(M,z-te))):(A.sortIndex=O,e(f,A),x||w||(x=!0,L||(L=!0,X()))),A},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(A){var H=b;return function(){var z=b;b=H;try{return A.apply(this,arguments)}finally{b=z}}}})(Zf)),Zf}var qy;function o_(){return qy||(qy=1,Xf.exports=i_()),Xf.exports}var Jf={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function l_(){if(Iy)return Ae;Iy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,k={};function _(O,K,re){this.props=O,this.context=K,this.refs=k,this.updater=re||w}_.prototype.isReactComponent={},_.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},_.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function S(){}S.prototype=_.prototype;function D(O,K,re){this.props=O,this.context=K,this.refs=k,this.updater=re||w}var C=D.prototype=new S;C.constructor=D,x(C,_.prototype),C.isPureReactComponent=!0;var T=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function R(O,K,re,ne,ce,le){return re=le.ref,{$$typeof:t,type:O,key:K,ref:re!==void 0?re:null,props:le}}function $(O,K){return R(O.type,K,void 0,void 0,void 0,O.props)}function U(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function q(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return K[re]})}var V=/\/+/g;function X(O,K){return typeof O=="object"&&O!==null&&O.key!=null?q(""+O.key):K.toString(36)}function B(){}function F(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(B,B):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function I(O,K,re,ne,ce){var le=typeof O;(le==="undefined"||le==="boolean")&&(O=null);var ie=!1;if(O===null)ie=!0;else switch(le){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(O.$$typeof){case t:case e:ie=!0;break;case p:return ie=O._init,I(ie(O._payload),K,re,ne,ce)}}if(ie)return ce=ce(O),ie=ne===""?"."+X(O,0):ne,T(ce)?(re="",ie!=null&&(re=ie.replace(V,"$&/")+"/"),I(ce,K,re,"",function(Re){return Re})):ce!=null&&(U(ce)&&(ce=$(ce,re+(ce.key==null||O&&O.key===ce.key?"":(""+ce.key).replace(V,"$&/")+"/")+ie)),K.push(ce)),1;ie=0;var me=ne===""?".":ne+":";if(T(O))for(var fe=0;fe<O.length;fe++)ne=O[fe],le=me+X(ne,fe),ie+=I(ne,K,re,le,ce);else if(fe=b(O),typeof fe=="function")for(O=fe.call(O),fe=0;!(ne=O.next()).done;)ne=ne.value,le=me+X(ne,fe++),ie+=I(ne,K,re,le,ce);else if(le==="object"){if(typeof O.then=="function")return I(F(O),K,re,ne,ce);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ie}function A(O,K,re){if(O==null)return O;var ne=[],ce=0;return I(O,ne,"","",function(le){return K.call(re,le,ce++)}),ne}function H(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var z=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function te(){}return Ae.Children={map:A,forEach:function(O,K,re){A(O,function(){K.apply(this,arguments)},re)},count:function(O){var K=0;return A(O,function(){K++}),K},toArray:function(O){return A(O,function(K){return K})||[]},only:function(O){if(!U(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ae.Component=_,Ae.Fragment=n,Ae.Profiler=s,Ae.PureComponent=D,Ae.StrictMode=r,Ae.Suspense=f,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return M.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cloneElement=function(O,K,re){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ne=x({},O.props),ce=O.key,le=void 0;if(K!=null)for(ie in K.ref!==void 0&&(le=void 0),K.key!==void 0&&(ce=""+K.key),K)!L.call(K,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&K.ref===void 0||(ne[ie]=K[ie]);var ie=arguments.length-2;if(ie===1)ne.children=re;else if(1<ie){for(var me=Array(ie),fe=0;fe<ie;fe++)me[fe]=arguments[fe+2];ne.children=me}return R(O.type,ce,void 0,void 0,le,ne)},Ae.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},Ae.createElement=function(O,K,re){var ne,ce={},le=null;if(K!=null)for(ne in K.key!==void 0&&(le=""+K.key),K)L.call(K,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ce[ne]=K[ne]);var ie=arguments.length-2;if(ie===1)ce.children=re;else if(1<ie){for(var me=Array(ie),fe=0;fe<ie;fe++)me[fe]=arguments[fe+2];ce.children=me}if(O&&O.defaultProps)for(ne in ie=O.defaultProps,ie)ce[ne]===void 0&&(ce[ne]=ie[ne]);return R(O,le,void 0,void 0,null,ce)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:u,render:O}},Ae.isValidElement=U,Ae.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:H}},Ae.memo=function(O,K){return{$$typeof:m,type:O,compare:K===void 0?null:K}},Ae.startTransition=function(O){var K=M.T,re={};M.T=re;try{var ne=O(),ce=M.S;ce!==null&&ce(re,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(te,z)}catch(le){z(le)}finally{M.T=K}},Ae.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ae.use=function(O){return M.H.use(O)},Ae.useActionState=function(O,K,re){return M.H.useActionState(O,K,re)},Ae.useCallback=function(O,K){return M.H.useCallback(O,K)},Ae.useContext=function(O){return M.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,K){return M.H.useDeferredValue(O,K)},Ae.useEffect=function(O,K,re){var ne=M.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(O,K)},Ae.useId=function(){return M.H.useId()},Ae.useImperativeHandle=function(O,K,re){return M.H.useImperativeHandle(O,K,re)},Ae.useInsertionEffect=function(O,K){return M.H.useInsertionEffect(O,K)},Ae.useLayoutEffect=function(O,K){return M.H.useLayoutEffect(O,K)},Ae.useMemo=function(O,K){return M.H.useMemo(O,K)},Ae.useOptimistic=function(O,K){return M.H.useOptimistic(O,K)},Ae.useReducer=function(O,K,re){return M.H.useReducer(O,K,re)},Ae.useRef=function(O){return M.H.useRef(O)},Ae.useState=function(O){return M.H.useState(O)},Ae.useSyncExternalStore=function(O,K,re){return M.H.useSyncExternalStore(O,K,re)},Ae.useTransition=function(){return M.H.useTransition()},Ae.version="19.1.1",Ae}var Yy;function vu(){return Yy||(Yy=1,Jf.exports=l_()),Jf.exports}var eh={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function c_(){if(Qy)return cn;Qy=1;var t=vu();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,m,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:f,containerInfo:m,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,p)},cn.flushSync=function(f){var m=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=p,r.d.f()}},cn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},cn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},cn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,y=u(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},cn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},cn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,y=u(p,m.crossOrigin);r.d.L(f,p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},cn.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=u(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},cn.requestFormReset=function(f){r.d.r(f)},cn.unstable_batchedUpdates=function(f,m){return f(m)},cn.useFormState=function(f,m,p){return c.H.useFormState(f,m,p)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.1.1",cn}var Ky;function Iv(){if(Ky)return eh.exports;Ky=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eh.exports=c_(),eh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function u_(){if(Vy)return Ro;Vy=1;var t=o_(),e=vu(),n=Iv();function r(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var i=a,l=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(l=i.return),a=i.return;while(a)}return i.tag===3?l:null}function c(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(r(188))}function f(a){var i=a.alternate;if(!i){if(i=o(a),i===null)throw Error(r(188));return i!==a?null:a}for(var l=a,d=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return u(g),a;if(v===d)return u(g),i;v=v.sibling}throw Error(r(188))}if(l.return!==d.return)l=g,d=v;else{for(var E=!1,j=g.child;j;){if(j===l){E=!0,l=g,d=v;break}if(j===d){E=!0,d=g,l=v;break}j=j.sibling}if(!E){for(j=v.child;j;){if(j===l){E=!0,l=v,d=g;break}if(j===d){E=!0,d=v,l=g;break}j=j.sibling}if(!E)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?a:i}function m(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=m(a),i!==null)return i;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function F(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case _:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case L:return"SuspenseList";case U:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case C:return(a.displayName||"Context")+".Provider";case D:return(a._context.displayName||"Context")+".Consumer";case T:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return i=a.displayName||null,i!==null?i:F(a.type)||"Memo";case $:i=a._payload,a=a._init;try{return F(a(i))}catch{}}return null}var I=Array.isArray,A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},te=[],O=-1;function K(a){return{current:a}}function re(a){0>O||(a.current=te[O],te[O]=null,O--)}function ne(a,i){O++,te[O]=a.current,a.current=i}var ce=K(null),le=K(null),ie=K(null),me=K(null);function fe(a,i){switch(ne(ie,i),ne(le,a),ne(ce,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?my(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=my(i),a=py(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}re(ce),ne(ce,a)}function Re(){re(ce),re(le),re(ie)}function Me(a){a.memoizedState!==null&&ne(me,a);var i=ce.current,l=py(i,a.type);i!==l&&(ne(le,a),ne(ce,l))}function Ne(a){le.current===a&&(re(ce),re(le)),me.current===a&&(re(me),No._currentValue=z)}var Le=Object.prototype.hasOwnProperty,rt=t.unstable_scheduleCallback,We=t.unstable_cancelCallback,ot=t.unstable_shouldYield,Qe=t.unstable_requestPaint,$e=t.unstable_now,pe=t.unstable_getCurrentPriorityLevel,_e=t.unstable_ImmediatePriority,Oe=t.unstable_UserBlockingPriority,be=t.unstable_NormalPriority,Pe=t.unstable_LowPriority,Je=t.unstable_IdlePriority,Ye=t.log,at=t.unstable_setDisableYieldValue,Ke=null,je=null;function Ue(a){if(typeof Ye=="function"&&at(a),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ke,a)}catch{}}var ve=Math.clz32?Math.clz32:qt,gt=Math.log,tn=Math.LN2;function qt(a){return a>>>=0,a===0?32:31-(gt(a)/tn|0)|0}var It=256,Yt=4194304;function Ct(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Qt(a,i,l){var d=a.pendingLanes;if(d===0)return 0;var g=0,v=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var j=d&134217727;return j!==0?(d=j&~v,d!==0?g=Ct(d):(E&=j,E!==0?g=Ct(E):l||(l=j&~a,l!==0&&(g=Ct(l))))):(j=d&~v,j!==0?g=Ct(j):E!==0?g=Ct(E):l||(l=d&~a,l!==0&&(g=Ct(l)))),g===0?0:i!==0&&i!==g&&(i&v)===0&&(v=g&-g,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:g}function Lt(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function Sn(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function we(){var a=It;return It<<=1,(It&4194048)===0&&(It=256),a}function De(){var a=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),a}function Kt(a){for(var i=[],l=0;31>l;l++)i.push(a);return i}function et(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Xr(a,i,l,d,g,v){var E=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var j=a.entanglements,P=a.expirationTimes,G=a.hiddenUpdates;for(l=E&~l;0<l;){var ae=31-ve(l),oe=1<<ae;j[ae]=0,P[ae]=-1;var Z=G[ae];if(Z!==null)for(G[ae]=null,ae=0;ae<Z.length;ae++){var J=Z[ae];J!==null&&(J.lane&=-536870913)}l&=~oe}d!==0&&bs(a,d,0),v!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=v&~(E&~i))}function bs(a,i,l){a.pendingLanes|=i,a.suspendedLanes&=~i;var d=31-ve(i);a.entangledLanes|=i,a.entanglements[d]=a.entanglements[d]|1073741824|l&4194090}function dl(a,i){var l=a.entangledLanes|=i;for(a=a.entanglements;l;){var d=31-ve(l),g=1<<d;g&i|a[d]&i&&(a[d]|=i),l&=~g}}function Uu(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Bu(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function tm(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:Ry(a.type))}function Yx(a,i){var l=H.p;try{return H.p=a,i()}finally{H.p=l}}var Zr=Math.random().toString(36).slice(2),on="__reactFiber$"+Zr,yn="__reactProps$"+Zr,vs="__reactContainer$"+Zr,Hu="__reactEvents$"+Zr,Qx="__reactListeners$"+Zr,Kx="__reactHandles$"+Zr,nm="__reactResources$"+Zr,Ui="__reactMarker$"+Zr;function Fu(a){delete a[on],delete a[yn],delete a[Hu],delete a[Qx],delete a[Kx]}function xs(a){var i=a[on];if(i)return i;for(var l=a.parentNode;l;){if(i=l[vs]||l[on]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(a=vy(a);a!==null;){if(l=a[on])return l;a=vy(a)}return i}a=l,l=a.parentNode}return null}function ws(a){if(a=a[on]||a[vs]){var i=a.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return a}return null}function Bi(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(r(33))}function _s(a){var i=a[nm];return i||(i=a[nm]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Vt(a){a[Ui]=!0}var rm=new Set,am={};function Ra(a,i){ks(a,i),ks(a+"Capture",i)}function ks(a,i){for(am[a]=i,a=0;a<i.length;a++)rm.add(i[a])}var Vx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sm={},im={};function Wx(a){return Le.call(im,a)?!0:Le.call(sm,a)?!1:Vx.test(a)?im[a]=!0:(sm[a]=!0,!1)}function fl(a,i,l){if(Wx(i))if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+l)}}function hl(a,i,l){if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+l)}}function Sr(a,i,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(i,l,""+d)}}var zu,om;function Ss(a){if(zu===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);zu=i&&i[1]||"",om=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zu+a+om}var qu=!1;function Iu(a,i){if(!a||qu)return"";qu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(J){var Z=J}Reflect.construct(a,[],oe)}else{try{oe.call()}catch(J){Z=J}a.call(oe.prototype)}}else{try{throw Error()}catch(J){Z=J}(oe=a())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),E=v[0],j=v[1];if(E&&j){var P=E.split(`
`),G=j.split(`
`);for(g=d=0;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(d===P.length||g===G.length)for(d=P.length-1,g=G.length-1;1<=d&&0<=g&&P[d]!==G[g];)g--;for(;1<=d&&0<=g;d--,g--)if(P[d]!==G[g]){if(d!==1||g!==1)do if(d--,g--,0>g||P[d]!==G[g]){var ae=`
`+P[d].replace(" at new "," at ");return a.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",a.displayName)),ae}while(1<=d&&0<=g);break}}}finally{qu=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?Ss(l):""}function Gx(a){switch(a.tag){case 26:case 27:case 5:return Ss(a.type);case 16:return Ss("Lazy");case 13:return Ss("Suspense");case 19:return Ss("SuspenseList");case 0:case 15:return Iu(a.type,!1);case 11:return Iu(a.type.render,!1);case 1:return Iu(a.type,!0);case 31:return Ss("Activity");default:return""}}function lm(a){try{var i="";do i+=Gx(a),a=a.return;while(a);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Rn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function cm(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xx(a){var i=cm(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),d=""+a[i];if(!a.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return g.call(this)},set:function(E){d=""+E,v.call(this,E)}}),Object.defineProperty(a,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function ml(a){a._valueTracker||(a._valueTracker=Xx(a))}function um(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return a&&(d=cm(a)?a.checked?"true":"false":a.value),a=d,a!==l?(i.setValue(a),!0):!1}function pl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Zx=/[\n"\\]/g;function Ln(a){return a.replace(Zx,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Yu(a,i,l,d,g,v,E,j){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),i!=null?E==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+Rn(i)):a.value!==""+Rn(i)&&(a.value=""+Rn(i)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),i!=null?Qu(a,E,Rn(i)):l!=null?Qu(a,E,Rn(l)):d!=null&&a.removeAttribute("value"),g==null&&v!=null&&(a.defaultChecked=!!v),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.name=""+Rn(j):a.removeAttribute("name")}function dm(a,i,l,d,g,v,E,j){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;l=l!=null?""+Rn(l):"",i=i!=null?""+Rn(i):l,j||i===a.value||(a.value=i),a.defaultValue=i}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=j?a.checked:!!d,a.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E)}function Qu(a,i,l){i==="number"&&pl(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function Ds(a,i,l,d){if(a=a.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<a.length;l++)g=i.hasOwnProperty("$"+a[l].value),a[l].selected!==g&&(a[l].selected=g),g&&d&&(a[l].defaultSelected=!0)}else{for(l=""+Rn(l),i=null,g=0;g<a.length;g++){if(a[g].value===l){a[g].selected=!0,d&&(a[g].defaultSelected=!0);return}i!==null||a[g].disabled||(i=a[g])}i!==null&&(i.selected=!0)}}function fm(a,i,l){if(i!=null&&(i=""+Rn(i),i!==a.value&&(a.value=i),l==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=l!=null?""+Rn(l):""}function hm(a,i,l,d){if(i==null){if(d!=null){if(l!=null)throw Error(r(92));if(I(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),i=l}l=Rn(i),a.defaultValue=l,d=a.textContent,d===l&&d!==""&&d!==null&&(a.value=d)}function Es(a,i){if(i){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=i;return}}a.textContent=i}var Jx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mm(a,i,l){var d=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":d?a.setProperty(i,l):typeof l!="number"||l===0||Jx.has(i)?i==="float"?a.cssFloat=l:a[i]=(""+l).trim():a[i]=l+"px"}function pm(a,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(a=a.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var g in i)d=i[g],i.hasOwnProperty(g)&&l[g]!==d&&mm(a,g,d)}else for(var v in i)i.hasOwnProperty(v)&&mm(a,v,i[v])}function Ku(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ew=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(a){return tw.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Vu=null;function Wu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Cs=null,Ns=null;function gm(a){var i=ws(a);if(i&&(a=i.stateNode)){var l=a[yn]||null;e:switch(a=i.stateNode,i.type){case"input":if(Yu(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ln(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==a&&d.form===a.form){var g=d[yn]||null;if(!g)throw Error(r(90));Yu(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)d=l[i],d.form===a.form&&um(d)}break e;case"textarea":fm(a,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Ds(a,!!l.multiple,i,!1)}}}var Gu=!1;function ym(a,i,l){if(Gu)return a(i,l);Gu=!0;try{var d=a(i);return d}finally{if(Gu=!1,(Cs!==null||Ns!==null)&&(tc(),Cs&&(i=Cs,a=Ns,Ns=Cs=null,gm(i),a)))for(i=0;i<a.length;i++)gm(a[i])}}function Hi(a,i){var l=a.stateNode;if(l===null)return null;var d=l[yn]||null;if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=!1;if(Dr)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Xu=!1}var Jr=null,Zu=null,yl=null;function bm(){if(yl)return yl;var a,i=Zu,l=i.length,d,g="value"in Jr?Jr.value:Jr.textContent,v=g.length;for(a=0;a<l&&i[a]===g[a];a++);var E=l-a;for(d=1;d<=E&&i[l-d]===g[v-d];d++);return yl=g.slice(a,1<d?1-d:void 0)}function bl(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function vl(){return!0}function vm(){return!1}function bn(a){function i(l,d,g,v,E){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(l=a[j],this[j]=l?l(v):v[j]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?vl:vm,this.isPropagationStopped=vm,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),i}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=bn(La),zi=p({},La,{view:0,detail:0}),nw=bn(zi),Ju,ed,qi,wl=p({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==qi&&(qi&&a.type==="mousemove"?(Ju=a.screenX-qi.screenX,ed=a.screenY-qi.screenY):ed=Ju=0,qi=a),Ju)},movementY:function(a){return"movementY"in a?a.movementY:ed}}),xm=bn(wl),rw=p({},wl,{dataTransfer:0}),aw=bn(rw),sw=p({},zi,{relatedTarget:0}),td=bn(sw),iw=p({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),ow=bn(iw),lw=p({},La,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),cw=bn(lw),uw=p({},La,{data:0}),wm=bn(uw),dw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mw(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=hw[a])?!!i[a]:!1}function nd(){return mw}var pw=p({},zi,{key:function(a){if(a.key){var i=dw[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=bl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?fw[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nd,charCode:function(a){return a.type==="keypress"?bl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?bl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),gw=bn(pw),yw=p({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_m=bn(yw),bw=p({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nd}),vw=bn(bw),xw=p({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),ww=bn(xw),_w=p({},wl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),kw=bn(_w),Sw=p({},La,{newState:0,oldState:0}),Dw=bn(Sw),Ew=[9,13,27,32],rd=Dr&&"CompositionEvent"in window,Ii=null;Dr&&"documentMode"in document&&(Ii=document.documentMode);var Cw=Dr&&"TextEvent"in window&&!Ii,km=Dr&&(!rd||Ii&&8<Ii&&11>=Ii),Sm=" ",Dm=!1;function Em(a,i){switch(a){case"keyup":return Ew.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var js=!1;function Nw(a,i){switch(a){case"compositionend":return Cm(i);case"keypress":return i.which!==32?null:(Dm=!0,Sm);case"textInput":return a=i.data,a===Sm&&Dm?null:a;default:return null}}function jw(a,i){if(js)return a==="compositionend"||!rd&&Em(a,i)?(a=bm(),yl=Zu=Jr=null,js=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return km&&i.locale!=="ko"?null:i.data;default:return null}}var Tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nm(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!Tw[a.type]:i==="textarea"}function jm(a,i,l,d){Cs?Ns?Ns.push(d):Ns=[d]:Cs=d,i=oc(i,"onChange"),0<i.length&&(l=new xl("onChange","change",null,l,d),a.push({event:l,listeners:i}))}var Yi=null,Qi=null;function Mw(a){cy(a,0)}function _l(a){var i=Bi(a);if(um(i))return a}function Tm(a,i){if(a==="change")return i}var Mm=!1;if(Dr){var ad;if(Dr){var sd="oninput"in document;if(!sd){var Om=document.createElement("div");Om.setAttribute("oninput","return;"),sd=typeof Om.oninput=="function"}ad=sd}else ad=!1;Mm=ad&&(!document.documentMode||9<document.documentMode)}function Am(){Yi&&(Yi.detachEvent("onpropertychange",Rm),Qi=Yi=null)}function Rm(a){if(a.propertyName==="value"&&_l(Qi)){var i=[];jm(i,Qi,a,Wu(a)),ym(Mw,i)}}function Ow(a,i,l){a==="focusin"?(Am(),Yi=i,Qi=l,Yi.attachEvent("onpropertychange",Rm)):a==="focusout"&&Am()}function Aw(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return _l(Qi)}function Rw(a,i){if(a==="click")return _l(i)}function Lw(a,i){if(a==="input"||a==="change")return _l(i)}function $w(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var Dn=typeof Object.is=="function"?Object.is:$w;function Ki(a,i){if(Dn(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var l=Object.keys(a),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!Le.call(i,g)||!Dn(a[g],i[g]))return!1}return!0}function Lm(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function $m(a,i){var l=Lm(a);a=0;for(var d;l;){if(l.nodeType===3){if(d=a+l.textContent.length,a<=i&&d>=i)return{node:l,offset:i-a};a=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lm(l)}}function Pm(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?Pm(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function Um(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=pl(a.document);i instanceof a.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)a=i.contentWindow;else break;i=pl(a.document)}return i}function id(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var Pw=Dr&&"documentMode"in document&&11>=document.documentMode,Ts=null,od=null,Vi=null,ld=!1;function Bm(a,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ld||Ts==null||Ts!==pl(d)||(d=Ts,"selectionStart"in d&&id(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Vi&&Ki(Vi,d)||(Vi=d,d=oc(od,"onSelect"),0<d.length&&(i=new xl("onSelect","select",null,i,l),a.push({event:i,listeners:d}),i.target=Ts)))}function $a(a,i){var l={};return l[a.toLowerCase()]=i.toLowerCase(),l["Webkit"+a]="webkit"+i,l["Moz"+a]="moz"+i,l}var Ms={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},cd={},Hm={};Dr&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Pa(a){if(cd[a])return cd[a];if(!Ms[a])return a;var i=Ms[a],l;for(l in i)if(i.hasOwnProperty(l)&&l in Hm)return cd[a]=i[l];return a}var Fm=Pa("animationend"),zm=Pa("animationiteration"),qm=Pa("animationstart"),Uw=Pa("transitionrun"),Bw=Pa("transitionstart"),Hw=Pa("transitioncancel"),Im=Pa("transitionend"),Ym=new Map,ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ud.push("scrollEnd");function Wn(a,i){Ym.set(a,i),Ra(i,[a])}var Qm=new WeakMap;function $n(a,i){if(typeof a=="object"&&a!==null){var l=Qm.get(a);return l!==void 0?l:(i={value:a,source:i,stack:lm(i)},Qm.set(a,i),i)}return{value:a,source:i,stack:lm(i)}}var Pn=[],Os=0,dd=0;function kl(){for(var a=Os,i=dd=Os=0;i<a;){var l=Pn[i];Pn[i++]=null;var d=Pn[i];Pn[i++]=null;var g=Pn[i];Pn[i++]=null;var v=Pn[i];if(Pn[i++]=null,d!==null&&g!==null){var E=d.pending;E===null?g.next=g:(g.next=E.next,E.next=g),d.pending=g}v!==0&&Km(l,g,v)}}function Sl(a,i,l,d){Pn[Os++]=a,Pn[Os++]=i,Pn[Os++]=l,Pn[Os++]=d,dd|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function fd(a,i,l,d){return Sl(a,i,l,d),Dl(a)}function As(a,i){return Sl(a,null,null,i),Dl(a)}function Km(a,i,l){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l);for(var g=!1,v=a.return;v!==null;)v.childLanes|=l,d=v.alternate,d!==null&&(d.childLanes|=l),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(g=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,g&&i!==null&&(g=31-ve(l),a=v.hiddenUpdates,d=a[g],d===null?a[g]=[i]:d.push(i),i.lane=l|536870912),v):null}function Dl(a){if(50<xo)throw xo=0,vf=null,Error(r(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var Rs={};function Fw(a,i,l,d){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(a,i,l,d){return new Fw(a,i,l,d)}function hd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Er(a,i){var l=a.alternate;return l===null?(l=En(a.tag,i,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=i,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,i=a.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function Vm(a,i){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,i=l.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function El(a,i,l,d,g,v){var E=0;if(d=a,typeof a=="function")hd(a)&&(E=1);else if(typeof a=="string")E=q2(a,l,ce.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case U:return a=En(31,l,i,g),a.elementType=U,a.lanes=v,a;case x:return Ua(l.children,g,v,i);case k:E=8,g|=24;break;case _:return a=En(12,l,i,g|2),a.elementType=_,a.lanes=v,a;case M:return a=En(13,l,i,g),a.elementType=M,a.lanes=v,a;case L:return a=En(19,l,i,g),a.elementType=L,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case S:case C:E=10;break e;case D:E=9;break e;case T:E=11;break e;case R:E=14;break e;case $:E=16,d=null;break e}E=29,l=Error(r(130,a===null?"null":typeof a,"")),d=null}return i=En(E,l,i,g),i.elementType=a,i.type=d,i.lanes=v,i}function Ua(a,i,l,d){return a=En(7,a,d,i),a.lanes=l,a}function md(a,i,l){return a=En(6,a,null,i),a.lanes=l,a}function pd(a,i,l){return i=En(4,a.children!==null?a.children:[],a.key,i),i.lanes=l,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var Ls=[],$s=0,Cl=null,Nl=0,Un=[],Bn=0,Ba=null,Cr=1,Nr="";function Ha(a,i){Ls[$s++]=Nl,Ls[$s++]=Cl,Cl=a,Nl=i}function Wm(a,i,l){Un[Bn++]=Cr,Un[Bn++]=Nr,Un[Bn++]=Ba,Ba=a;var d=Cr;a=Nr;var g=32-ve(d)-1;d&=~(1<<g),l+=1;var v=32-ve(i)+g;if(30<v){var E=g-g%5;v=(d&(1<<E)-1).toString(32),d>>=E,g-=E,Cr=1<<32-ve(i)+g|l<<g|d,Nr=v+a}else Cr=1<<v|l<<g|d,Nr=a}function gd(a){a.return!==null&&(Ha(a,1),Wm(a,1,0))}function yd(a){for(;a===Cl;)Cl=Ls[--$s],Ls[$s]=null,Nl=Ls[--$s],Ls[$s]=null;for(;a===Ba;)Ba=Un[--Bn],Un[Bn]=null,Nr=Un[--Bn],Un[Bn]=null,Cr=Un[--Bn],Un[Bn]=null}var dn=null,St=null,tt=!1,Fa=null,ir=!1,bd=Error(r(519));function za(a){var i=Error(r(418,""));throw Xi($n(i,a)),bd}function Gm(a){var i=a.stateNode,l=a.type,d=a.memoizedProps;switch(i[on]=a,i[yn]=d,l){case"dialog":qe("cancel",i),qe("close",i);break;case"iframe":case"object":case"embed":qe("load",i);break;case"video":case"audio":for(l=0;l<_o.length;l++)qe(_o[l],i);break;case"source":qe("error",i);break;case"img":case"image":case"link":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"input":qe("invalid",i),dm(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ml(i);break;case"select":qe("invalid",i);break;case"textarea":qe("invalid",i),hm(i,d.value,d.defaultValue,d.children),ml(i)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||d.suppressHydrationWarning===!0||hy(i.textContent,l)?(d.popover!=null&&(qe("beforetoggle",i),qe("toggle",i)),d.onScroll!=null&&qe("scroll",i),d.onScrollEnd!=null&&qe("scrollend",i),d.onClick!=null&&(i.onclick=lc),i=!0):i=!1,i||za(a)}function Xm(a){for(dn=a.return;dn;)switch(dn.tag){case 5:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:dn=dn.return}}function Wi(a){if(a!==dn)return!1;if(!tt)return Xm(a),tt=!0,!1;var i=a.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||Lf(a.type,a.memoizedProps)),l=!l),l&&St&&za(a),Xm(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(i===0){St=Xn(a.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;a=a.nextSibling}St=null}}else i===27?(i=St,pa(a.type)?(a=Bf,Bf=null,St=a):St=i):St=dn?Xn(a.stateNode.nextSibling):null;return!0}function Gi(){St=dn=null,tt=!1}function Zm(){var a=Fa;return a!==null&&(wn===null?wn=a:wn.push.apply(wn,a),Fa=null),a}function Xi(a){Fa===null?Fa=[a]:Fa.push(a)}var vd=K(null),qa=null,jr=null;function ea(a,i,l){ne(vd,i._currentValue),i._currentValue=l}function Tr(a){a._currentValue=vd.current,re(vd)}function xd(a,i,l){for(;a!==null;){var d=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),a===l)break;a=a.return}}function wd(a,i,l,d){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var v=g.dependencies;if(v!==null){var E=g.child;v=v.firstContext;e:for(;v!==null;){var j=v;v=g;for(var P=0;P<i.length;P++)if(j.context===i[P]){v.lanes|=l,j=v.alternate,j!==null&&(j.lanes|=l),xd(v.return,l,a),d||(E=null);break e}v=j.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(r(341));E.lanes|=l,v=E.alternate,v!==null&&(v.lanes|=l),xd(E,l,a),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===a){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Zi(a,i,l,d){a=null;for(var g=i,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var j=g.type;Dn(g.pendingProps.value,E.value)||(a!==null?a.push(j):a=[j])}}else if(g===me.current){if(E=g.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(No):a=[No])}g=g.return}a!==null&&wd(i,a,l,d),i.flags|=262144}function jl(a){for(a=a.firstContext;a!==null;){if(!Dn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ia(a){qa=a,jr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ln(a){return Jm(qa,a)}function Tl(a,i){return qa===null&&Ia(a),Jm(a,i)}function Jm(a,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},jr===null){if(a===null)throw Error(r(308));jr=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else jr=jr.next=i;return l}var zw=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(l,d){a.push(d)}};this.abort=function(){i.aborted=!0,a.forEach(function(l){return l()})}},qw=t.unstable_scheduleCallback,Iw=t.unstable_NormalPriority,$t={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new zw,data:new Map,refCount:0}}function Ji(a){a.refCount--,a.refCount===0&&qw(Iw,function(){a.controller.abort()})}var eo=null,kd=0,Ps=0,Us=null;function Yw(a,i){if(eo===null){var l=eo=[];kd=0,Ps=Ef(),Us={status:"pending",value:void 0,then:function(d){l.push(d)}}}return kd++,i.then(ep,ep),i}function ep(){if(--kd===0&&eo!==null){Us!==null&&(Us.status="fulfilled");var a=eo;eo=null,Ps=0,Us=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function Qw(a,i){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return a.then(function(){d.status="fulfilled",d.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var tp=A.S;A.S=function(a,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Yw(a,i),tp!==null&&tp(a,i)};var Ya=K(null);function Sd(){var a=Ya.current;return a!==null?a:yt.pooledCache}function Ml(a,i){i===null?ne(Ya,Ya.current):ne(Ya,i.pool)}function np(){var a=Sd();return a===null?null:{parent:$t._currentValue,pool:a}}var to=Error(r(460)),rp=Error(r(474)),Ol=Error(r(542)),Dd={then:function(){}};function ap(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Al(){}function sp(a,i,l){switch(l=a[l],l===void 0?a.push(i):l!==i&&(i.then(Al,Al),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,op(a),a;default:if(typeof i.status=="string")i.then(Al,Al);else{if(a=yt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=i,a.status="pending",a.then(function(d){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=d}},function(d){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,op(a),a}throw no=i,to}}var no=null;function ip(){if(no===null)throw Error(r(459));var a=no;return no=null,a}function op(a){if(a===to||a===Ol)throw Error(r(483))}var ta=!1;function Ed(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function na(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ra(a,i,l){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(lt&2)!==0){var g=d.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),d.pending=i,i=Dl(a),Km(a,null,l),i}return Sl(a,d,i,l),Dl(a)}function ro(a,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var d=i.lanes;d&=a.pendingLanes,l|=d,i.lanes=l,dl(a,l)}}function Nd(a,i){var l=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=i:a.next=i,l.lastBaseUpdate=i}var jd=!1;function ao(){if(jd){var a=Us;if(a!==null)throw a}}function so(a,i,l,d){jd=!1;var g=a.updateQueue;ta=!1;var v=g.firstBaseUpdate,E=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var P=j,G=P.next;P.next=null,E===null?v=G:E.next=G,E=P;var ae=a.alternate;ae!==null&&(ae=ae.updateQueue,j=ae.lastBaseUpdate,j!==E&&(j===null?ae.firstBaseUpdate=G:j.next=G,ae.lastBaseUpdate=P))}if(v!==null){var oe=g.baseState;E=0,ae=G=P=null,j=v;do{var Z=j.lane&-536870913,J=Z!==j.lane;if(J?(Ve&Z)===Z:(d&Z)===Z){Z!==0&&Z===Ps&&(jd=!0),ae!==null&&(ae=ae.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ee=a,ke=j;Z=i;var ht=l;switch(ke.tag){case 1:if(Ee=ke.payload,typeof Ee=="function"){oe=Ee.call(ht,oe,Z);break e}oe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ke.payload,Z=typeof Ee=="function"?Ee.call(ht,oe,Z):Ee,Z==null)break e;oe=p({},oe,Z);break e;case 2:ta=!0}}Z=j.callback,Z!==null&&(a.flags|=64,J&&(a.flags|=8192),J=g.callbacks,J===null?g.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ae===null?(G=ae=J,P=oe):ae=ae.next=J,E|=Z;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;J=j,j=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);ae===null&&(P=oe),g.baseState=P,g.firstBaseUpdate=G,g.lastBaseUpdate=ae,v===null&&(g.shared.lanes=0),da|=E,a.lanes=E,a.memoizedState=oe}}function lp(a,i){if(typeof a!="function")throw Error(r(191,a));a.call(i)}function cp(a,i){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)lp(l[a],i)}var Bs=K(null),Rl=K(0);function up(a,i){a=Pr,ne(Rl,a),ne(Bs,i),Pr=a|i.baseLanes}function Td(){ne(Rl,Pr),ne(Bs,Bs.current)}function Md(){Pr=Rl.current,re(Bs),re(Rl)}var aa=0,Be=null,dt=null,At=null,Ll=!1,Hs=!1,Qa=!1,$l=0,io=0,Fs=null,Kw=0;function Nt(){throw Error(r(321))}function Od(a,i){if(i===null)return!1;for(var l=0;l<i.length&&l<a.length;l++)if(!Dn(a[l],i[l]))return!1;return!0}function Ad(a,i,l,d,g,v){return aa=v,Be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=a===null||a.memoizedState===null?Kp:Vp,Qa=!1,v=l(d,g),Qa=!1,Hs&&(v=fp(i,l,d,g)),dp(a),v}function dp(a){A.H=zl;var i=dt!==null&&dt.next!==null;if(aa=0,At=dt=Be=null,Ll=!1,io=0,Fs=null,i)throw Error(r(300));a===null||Wt||(a=a.dependencies,a!==null&&jl(a)&&(Wt=!0))}function fp(a,i,l,d){Be=a;var g=0;do{if(Hs&&(Fs=null),io=0,Hs=!1,25<=g)throw Error(r(301));if(g+=1,At=dt=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}A.H=e2,v=i(l,d)}while(Hs);return v}function Vw(){var a=A.H,i=a.useState()[0];return i=typeof i.then=="function"?oo(i):i,a=a.useState()[0],(dt!==null?dt.memoizedState:null)!==a&&(Be.flags|=1024),i}function Rd(){var a=$l!==0;return $l=0,a}function Ld(a,i,l){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~l}function $d(a){if(Ll){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}Ll=!1}aa=0,At=dt=Be=null,Hs=!1,io=$l=0,Fs=null}function vn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Be.memoizedState=At=a:At=At.next=a,At}function Rt(){if(dt===null){var a=Be.alternate;a=a!==null?a.memoizedState:null}else a=dt.next;var i=At===null?Be.memoizedState:At.next;if(i!==null)At=i,dt=a;else{if(a===null)throw Be.alternate===null?Error(r(467)):Error(r(310));dt=a,a={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},At===null?Be.memoizedState=At=a:At=At.next=a}return At}function Pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oo(a){var i=io;return io+=1,Fs===null&&(Fs=[]),a=sp(Fs,a,i),i=Be,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Kp:Vp),a}function Pl(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return oo(a);if(a.$$typeof===C)return ln(a)}throw Error(r(438,String(a)))}function Ud(a){var i=null,l=Be.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var d=Be.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Pd(),Be.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(a),d=0;d<a;d++)l[d]=q;return i.index++,l}function Mr(a,i){return typeof i=="function"?i(a):i}function Ul(a){var i=Rt();return Bd(i,dt,a)}function Bd(a,i,l){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var g=a.baseQueue,v=d.pending;if(v!==null){if(g!==null){var E=g.next;g.next=v.next,v.next=E}i.baseQueue=g=v,d.pending=null}if(v=a.baseState,g===null)a.memoizedState=v;else{i=g.next;var j=E=null,P=null,G=i,ae=!1;do{var oe=G.lane&-536870913;if(oe!==G.lane?(Ve&oe)===oe:(aa&oe)===oe){var Z=G.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),oe===Ps&&(ae=!0);else if((aa&Z)===Z){G=G.next,Z===Ps&&(ae=!0);continue}else oe={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(j=P=oe,E=v):P=P.next=oe,Be.lanes|=Z,da|=Z;oe=G.action,Qa&&l(v,oe),v=G.hasEagerState?G.eagerState:l(v,oe)}else Z={lane:oe,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(j=P=Z,E=v):P=P.next=Z,Be.lanes|=oe,da|=oe;G=G.next}while(G!==null&&G!==i);if(P===null?E=v:P.next=j,!Dn(v,a.memoizedState)&&(Wt=!0,ae&&(l=Us,l!==null)))throw l;a.memoizedState=v,a.baseState=E,a.baseQueue=P,d.lastRenderedState=v}return g===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Hd(a){var i=Rt(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do v=a(v,E.action),E=E.next;while(E!==g);Dn(v,i.memoizedState)||(Wt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,d]}function hp(a,i,l){var d=Be,g=Rt(),v=tt;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=i();var E=!Dn((dt||g).memoizedState,l);E&&(g.memoizedState=l,Wt=!0),g=g.queue;var j=gp.bind(null,d,g,a);if(lo(2048,8,j,[a]),g.getSnapshot!==i||E||At!==null&&At.memoizedState.tag&1){if(d.flags|=2048,zs(9,Bl(),pp.bind(null,d,g,l,i),null),yt===null)throw Error(r(349));v||(aa&124)!==0||mp(d,i,l)}return l}function mp(a,i,l){a.flags|=16384,a={getSnapshot:i,value:l},i=Be.updateQueue,i===null?(i=Pd(),Be.updateQueue=i,i.stores=[a]):(l=i.stores,l===null?i.stores=[a]:l.push(a))}function pp(a,i,l,d){i.value=l,i.getSnapshot=d,yp(i)&&bp(a)}function gp(a,i,l){return l(function(){yp(i)&&bp(a)})}function yp(a){var i=a.getSnapshot;a=a.value;try{var l=i();return!Dn(a,l)}catch{return!0}}function bp(a){var i=As(a,2);i!==null&&Mn(i,a,2)}function Fd(a){var i=vn();if(typeof a=="function"){var l=a;if(a=l(),Qa){Ue(!0);try{l()}finally{Ue(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:a},i}function vp(a,i,l,d){return a.baseState=l,Bd(a,dt,typeof d=="function"?d:Mr)}function Ww(a,i,l,d,g){if(Fl(a))throw Error(r(485));if(a=i.action,a!==null){var v={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};A.T!==null?l(!0):v.isTransition=!1,d(v),l=i.pending,l===null?(v.next=i.pending=v,xp(i,v)):(v.next=l.next,i.pending=l.next=v)}}function xp(a,i){var l=i.action,d=i.payload,g=a.state;if(i.isTransition){var v=A.T,E={};A.T=E;try{var j=l(g,d),P=A.S;P!==null&&P(E,j),wp(a,i,j)}catch(G){zd(a,i,G)}finally{A.T=v}}else try{v=l(g,d),wp(a,i,v)}catch(G){zd(a,i,G)}}function wp(a,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){_p(a,i,d)},function(d){return zd(a,i,d)}):_p(a,i,l)}function _p(a,i,l){i.status="fulfilled",i.value=l,kp(i),a.state=l,i=a.pending,i!==null&&(l=i.next,l===i?a.pending=null:(l=l.next,i.next=l,xp(a,l)))}function zd(a,i,l){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=l,kp(i),i=i.next;while(i!==d)}a.action=null}function kp(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function Sp(a,i){return i}function Dp(a,i){if(tt){var l=yt.formState;if(l!==null){e:{var d=Be;if(tt){if(St){t:{for(var g=St,v=ir;g.nodeType!==8;){if(!v){g=null;break t}if(g=Xn(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){St=Xn(g.nextSibling),d=g.data==="F!";break e}}za(d)}d=!1}d&&(i=l[0])}}return l=vn(),l.memoizedState=l.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:i},l.queue=d,l=Ip.bind(null,Be,d),d.dispatch=l,d=Fd(!1),v=Kd.bind(null,Be,!1,d.queue),d=vn(),g={state:i,dispatch:null,action:a,pending:null},d.queue=g,l=Ww.bind(null,Be,g,v,l),g.dispatch=l,d.memoizedState=a,[i,l,!1]}function Ep(a){var i=Rt();return Cp(i,dt,a)}function Cp(a,i,l){if(i=Bd(a,i,Sp)[0],a=Ul(Mr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=oo(i)}catch(E){throw E===to?Ol:E}else d=i;i=Rt();var g=i.queue,v=g.dispatch;return l!==i.memoizedState&&(Be.flags|=2048,zs(9,Bl(),Gw.bind(null,g,l),null)),[d,v,a]}function Gw(a,i){a.action=i}function Np(a){var i=Rt(),l=dt;if(l!==null)return Cp(i,l,a);Rt(),i=i.memoizedState,l=Rt();var d=l.queue.dispatch;return l.memoizedState=a,[i,d,!1]}function zs(a,i,l,d){return a={tag:a,create:l,deps:d,inst:i,next:null},i=Be.updateQueue,i===null&&(i=Pd(),Be.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=a.next=a:(d=l.next,l.next=a,a.next=d,i.lastEffect=a),a}function Bl(){return{destroy:void 0,resource:void 0}}function jp(){return Rt().memoizedState}function Hl(a,i,l,d){var g=vn();d=d===void 0?null:d,Be.flags|=a,g.memoizedState=zs(1|i,Bl(),l,d)}function lo(a,i,l,d){var g=Rt();d=d===void 0?null:d;var v=g.memoizedState.inst;dt!==null&&d!==null&&Od(d,dt.memoizedState.deps)?g.memoizedState=zs(i,v,l,d):(Be.flags|=a,g.memoizedState=zs(1|i,v,l,d))}function Tp(a,i){Hl(8390656,8,a,i)}function Mp(a,i){lo(2048,8,a,i)}function Op(a,i){return lo(4,2,a,i)}function Ap(a,i){return lo(4,4,a,i)}function Rp(a,i){if(typeof i=="function"){a=a();var l=i(a);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Lp(a,i,l){l=l!=null?l.concat([a]):null,lo(4,4,Rp.bind(null,i,a),l)}function qd(){}function $p(a,i){var l=Rt();i=i===void 0?null:i;var d=l.memoizedState;return i!==null&&Od(i,d[1])?d[0]:(l.memoizedState=[a,i],a)}function Pp(a,i){var l=Rt();i=i===void 0?null:i;var d=l.memoizedState;if(i!==null&&Od(i,d[1]))return d[0];if(d=a(),Qa){Ue(!0);try{a()}finally{Ue(!1)}}return l.memoizedState=[d,i],d}function Id(a,i,l){return l===void 0||(aa&1073741824)!==0?a.memoizedState=i:(a.memoizedState=l,a=Hg(),Be.lanes|=a,da|=a,l)}function Up(a,i,l,d){return Dn(l,i)?l:Bs.current!==null?(a=Id(a,l,d),Dn(a,i)||(Wt=!0),a):(aa&42)===0?(Wt=!0,a.memoizedState=l):(a=Hg(),Be.lanes|=a,da|=a,i)}function Bp(a,i,l,d,g){var v=H.p;H.p=v!==0&&8>v?v:8;var E=A.T,j={};A.T=j,Kd(a,!1,i,l);try{var P=g(),G=A.S;if(G!==null&&G(j,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ae=Qw(P,d);co(a,i,ae,Tn(a))}else co(a,i,d,Tn(a))}catch(oe){co(a,i,{then:function(){},status:"rejected",reason:oe},Tn())}finally{H.p=v,A.T=E}}function Xw(){}function Yd(a,i,l,d){if(a.tag!==5)throw Error(r(476));var g=Hp(a).queue;Bp(a,g,i,z,l===null?Xw:function(){return Fp(a),l(d)})}function Hp(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:z},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:l},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function Fp(a){var i=Hp(a).next.queue;co(a,i,{},Tn())}function Qd(){return ln(No)}function zp(){return Rt().memoizedState}function qp(){return Rt().memoizedState}function Zw(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var l=Tn();a=na(l);var d=ra(i,a,l);d!==null&&(Mn(d,i,l),ro(d,i,l)),i={cache:_d()},a.payload=i;return}i=i.return}}function Jw(a,i,l){var d=Tn();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Fl(a)?Yp(i,l):(l=fd(a,i,l,d),l!==null&&(Mn(l,a,d),Qp(l,i,d)))}function Ip(a,i,l){var d=Tn();co(a,i,l,d)}function co(a,i,l,d){var g={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fl(a))Yp(i,g);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var E=i.lastRenderedState,j=v(E,l);if(g.hasEagerState=!0,g.eagerState=j,Dn(j,E))return Sl(a,i,g,0),yt===null&&kl(),!1}catch{}finally{}if(l=fd(a,i,g,d),l!==null)return Mn(l,a,d),Qp(l,i,d),!0}return!1}function Kd(a,i,l,d){if(d={lane:2,revertLane:Ef(),action:d,hasEagerState:!1,eagerState:null,next:null},Fl(a)){if(i)throw Error(r(479))}else i=fd(a,l,d,2),i!==null&&Mn(i,a,2)}function Fl(a){var i=a.alternate;return a===Be||i!==null&&i===Be}function Yp(a,i){Hs=Ll=!0;var l=a.pending;l===null?i.next=i:(i.next=l.next,l.next=i),a.pending=i}function Qp(a,i,l){if((l&4194048)!==0){var d=i.lanes;d&=a.pendingLanes,l|=d,i.lanes=l,dl(a,l)}}var zl={readContext:ln,use:Pl,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},Kp={readContext:ln,use:Pl,useCallback:function(a,i){return vn().memoizedState=[a,i===void 0?null:i],a},useContext:ln,useEffect:Tp,useImperativeHandle:function(a,i,l){l=l!=null?l.concat([a]):null,Hl(4194308,4,Rp.bind(null,i,a),l)},useLayoutEffect:function(a,i){return Hl(4194308,4,a,i)},useInsertionEffect:function(a,i){Hl(4,2,a,i)},useMemo:function(a,i){var l=vn();i=i===void 0?null:i;var d=a();if(Qa){Ue(!0);try{a()}finally{Ue(!1)}}return l.memoizedState=[d,i],d},useReducer:function(a,i,l){var d=vn();if(l!==void 0){var g=l(i);if(Qa){Ue(!0);try{l(i)}finally{Ue(!1)}}}else g=i;return d.memoizedState=d.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},d.queue=a,a=a.dispatch=Jw.bind(null,Be,a),[d.memoizedState,a]},useRef:function(a){var i=vn();return a={current:a},i.memoizedState=a},useState:function(a){a=Fd(a);var i=a.queue,l=Ip.bind(null,Be,i);return i.dispatch=l,[a.memoizedState,l]},useDebugValue:qd,useDeferredValue:function(a,i){var l=vn();return Id(l,a,i)},useTransition:function(){var a=Fd(!1);return a=Bp.bind(null,Be,a.queue,!0,!1),vn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,l){var d=Be,g=vn();if(tt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),yt===null)throw Error(r(349));(Ve&124)!==0||mp(d,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,Tp(gp.bind(null,d,v,a),[a]),d.flags|=2048,zs(9,Bl(),pp.bind(null,d,v,l,i),null),l},useId:function(){var a=vn(),i=yt.identifierPrefix;if(tt){var l=Nr,d=Cr;l=(d&~(1<<32-ve(d)-1)).toString(32)+l,i="«"+i+"R"+l,l=$l++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=Kw++,i="«"+i+"r"+l.toString(32)+"»";return a.memoizedState=i},useHostTransitionStatus:Qd,useFormState:Dp,useActionState:Dp,useOptimistic:function(a){var i=vn();i.memoizedState=i.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Kd.bind(null,Be,!0,l),l.dispatch=i,[a,i]},useMemoCache:Ud,useCacheRefresh:function(){return vn().memoizedState=Zw.bind(null,Be)}},Vp={readContext:ln,use:Pl,useCallback:$p,useContext:ln,useEffect:Mp,useImperativeHandle:Lp,useInsertionEffect:Op,useLayoutEffect:Ap,useMemo:Pp,useReducer:Ul,useRef:jp,useState:function(){return Ul(Mr)},useDebugValue:qd,useDeferredValue:function(a,i){var l=Rt();return Up(l,dt.memoizedState,a,i)},useTransition:function(){var a=Ul(Mr)[0],i=Rt().memoizedState;return[typeof a=="boolean"?a:oo(a),i]},useSyncExternalStore:hp,useId:zp,useHostTransitionStatus:Qd,useFormState:Ep,useActionState:Ep,useOptimistic:function(a,i){var l=Rt();return vp(l,dt,a,i)},useMemoCache:Ud,useCacheRefresh:qp},e2={readContext:ln,use:Pl,useCallback:$p,useContext:ln,useEffect:Mp,useImperativeHandle:Lp,useInsertionEffect:Op,useLayoutEffect:Ap,useMemo:Pp,useReducer:Hd,useRef:jp,useState:function(){return Hd(Mr)},useDebugValue:qd,useDeferredValue:function(a,i){var l=Rt();return dt===null?Id(l,a,i):Up(l,dt.memoizedState,a,i)},useTransition:function(){var a=Hd(Mr)[0],i=Rt().memoizedState;return[typeof a=="boolean"?a:oo(a),i]},useSyncExternalStore:hp,useId:zp,useHostTransitionStatus:Qd,useFormState:Np,useActionState:Np,useOptimistic:function(a,i){var l=Rt();return dt!==null?vp(l,dt,a,i):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:Ud,useCacheRefresh:qp},qs=null,uo=0;function ql(a){var i=uo;return uo+=1,qs===null&&(qs=[]),sp(qs,a,i)}function fo(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function Il(a,i){throw i.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(i),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function Wp(a){var i=a._init;return i(a._payload)}function Gp(a){function i(Q,Y){if(a){var W=Q.deletions;W===null?(Q.deletions=[Y],Q.flags|=16):W.push(Y)}}function l(Q,Y){if(!a)return null;for(;Y!==null;)i(Q,Y),Y=Y.sibling;return null}function d(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function g(Q,Y){return Q=Er(Q,Y),Q.index=0,Q.sibling=null,Q}function v(Q,Y,W){return Q.index=W,a?(W=Q.alternate,W!==null?(W=W.index,W<Y?(Q.flags|=67108866,Y):W):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function E(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function j(Q,Y,W,se){return Y===null||Y.tag!==6?(Y=md(W,Q.mode,se),Y.return=Q,Y):(Y=g(Y,W),Y.return=Q,Y)}function P(Q,Y,W,se){var ye=W.type;return ye===x?ae(Q,Y,W.props.children,se,W.key):Y!==null&&(Y.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===$&&Wp(ye)===Y.type)?(Y=g(Y,W.props),fo(Y,W),Y.return=Q,Y):(Y=El(W.type,W.key,W.props,null,Q.mode,se),fo(Y,W),Y.return=Q,Y)}function G(Q,Y,W,se){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==W.containerInfo||Y.stateNode.implementation!==W.implementation?(Y=pd(W,Q.mode,se),Y.return=Q,Y):(Y=g(Y,W.children||[]),Y.return=Q,Y)}function ae(Q,Y,W,se,ye){return Y===null||Y.tag!==7?(Y=Ua(W,Q.mode,se,ye),Y.return=Q,Y):(Y=g(Y,W),Y.return=Q,Y)}function oe(Q,Y,W){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=md(""+Y,Q.mode,W),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return W=El(Y.type,Y.key,Y.props,null,Q.mode,W),fo(W,Y),W.return=Q,W;case w:return Y=pd(Y,Q.mode,W),Y.return=Q,Y;case $:var se=Y._init;return Y=se(Y._payload),oe(Q,Y,W)}if(I(Y)||X(Y))return Y=Ua(Y,Q.mode,W,null),Y.return=Q,Y;if(typeof Y.then=="function")return oe(Q,ql(Y),W);if(Y.$$typeof===C)return oe(Q,Tl(Q,Y),W);Il(Q,Y)}return null}function Z(Q,Y,W,se){var ye=Y!==null?Y.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ye!==null?null:j(Q,Y,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===ye?P(Q,Y,W,se):null;case w:return W.key===ye?G(Q,Y,W,se):null;case $:return ye=W._init,W=ye(W._payload),Z(Q,Y,W,se)}if(I(W)||X(W))return ye!==null?null:ae(Q,Y,W,se,null);if(typeof W.then=="function")return Z(Q,Y,ql(W),se);if(W.$$typeof===C)return Z(Q,Y,Tl(Q,W),se);Il(Q,W)}return null}function J(Q,Y,W,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Q=Q.get(W)||null,j(Y,Q,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return Q=Q.get(se.key===null?W:se.key)||null,P(Y,Q,se,ye);case w:return Q=Q.get(se.key===null?W:se.key)||null,G(Y,Q,se,ye);case $:var Fe=se._init;return se=Fe(se._payload),J(Q,Y,W,se,ye)}if(I(se)||X(se))return Q=Q.get(W)||null,ae(Y,Q,se,ye,null);if(typeof se.then=="function")return J(Q,Y,W,ql(se),ye);if(se.$$typeof===C)return J(Q,Y,W,Tl(Y,se),ye);Il(Y,se)}return null}function Ee(Q,Y,W,se){for(var ye=null,Fe=null,xe=Y,Se=Y=0,Xt=null;xe!==null&&Se<W.length;Se++){xe.index>Se?(Xt=xe,xe=null):Xt=xe.sibling;var Ze=Z(Q,xe,W[Se],se);if(Ze===null){xe===null&&(xe=Xt);break}a&&xe&&Ze.alternate===null&&i(Q,xe),Y=v(Ze,Y,Se),Fe===null?ye=Ze:Fe.sibling=Ze,Fe=Ze,xe=Xt}if(Se===W.length)return l(Q,xe),tt&&Ha(Q,Se),ye;if(xe===null){for(;Se<W.length;Se++)xe=oe(Q,W[Se],se),xe!==null&&(Y=v(xe,Y,Se),Fe===null?ye=xe:Fe.sibling=xe,Fe=xe);return tt&&Ha(Q,Se),ye}for(xe=d(xe);Se<W.length;Se++)Xt=J(xe,Q,Se,W[Se],se),Xt!==null&&(a&&Xt.alternate!==null&&xe.delete(Xt.key===null?Se:Xt.key),Y=v(Xt,Y,Se),Fe===null?ye=Xt:Fe.sibling=Xt,Fe=Xt);return a&&xe.forEach(function(xa){return i(Q,xa)}),tt&&Ha(Q,Se),ye}function ke(Q,Y,W,se){if(W==null)throw Error(r(151));for(var ye=null,Fe=null,xe=Y,Se=Y=0,Xt=null,Ze=W.next();xe!==null&&!Ze.done;Se++,Ze=W.next()){xe.index>Se?(Xt=xe,xe=null):Xt=xe.sibling;var xa=Z(Q,xe,Ze.value,se);if(xa===null){xe===null&&(xe=Xt);break}a&&xe&&xa.alternate===null&&i(Q,xe),Y=v(xa,Y,Se),Fe===null?ye=xa:Fe.sibling=xa,Fe=xa,xe=Xt}if(Ze.done)return l(Q,xe),tt&&Ha(Q,Se),ye;if(xe===null){for(;!Ze.done;Se++,Ze=W.next())Ze=oe(Q,Ze.value,se),Ze!==null&&(Y=v(Ze,Y,Se),Fe===null?ye=Ze:Fe.sibling=Ze,Fe=Ze);return tt&&Ha(Q,Se),ye}for(xe=d(xe);!Ze.done;Se++,Ze=W.next())Ze=J(xe,Q,Se,Ze.value,se),Ze!==null&&(a&&Ze.alternate!==null&&xe.delete(Ze.key===null?Se:Ze.key),Y=v(Ze,Y,Se),Fe===null?ye=Ze:Fe.sibling=Ze,Fe=Ze);return a&&xe.forEach(function(t_){return i(Q,t_)}),tt&&Ha(Q,Se),ye}function ht(Q,Y,W,se){if(typeof W=="object"&&W!==null&&W.type===x&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:e:{for(var ye=W.key;Y!==null;){if(Y.key===ye){if(ye=W.type,ye===x){if(Y.tag===7){l(Q,Y.sibling),se=g(Y,W.props.children),se.return=Q,Q=se;break e}}else if(Y.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===$&&Wp(ye)===Y.type){l(Q,Y.sibling),se=g(Y,W.props),fo(se,W),se.return=Q,Q=se;break e}l(Q,Y);break}else i(Q,Y);Y=Y.sibling}W.type===x?(se=Ua(W.props.children,Q.mode,se,W.key),se.return=Q,Q=se):(se=El(W.type,W.key,W.props,null,Q.mode,se),fo(se,W),se.return=Q,Q=se)}return E(Q);case w:e:{for(ye=W.key;Y!==null;){if(Y.key===ye)if(Y.tag===4&&Y.stateNode.containerInfo===W.containerInfo&&Y.stateNode.implementation===W.implementation){l(Q,Y.sibling),se=g(Y,W.children||[]),se.return=Q,Q=se;break e}else{l(Q,Y);break}else i(Q,Y);Y=Y.sibling}se=pd(W,Q.mode,se),se.return=Q,Q=se}return E(Q);case $:return ye=W._init,W=ye(W._payload),ht(Q,Y,W,se)}if(I(W))return Ee(Q,Y,W,se);if(X(W)){if(ye=X(W),typeof ye!="function")throw Error(r(150));return W=ye.call(W),ke(Q,Y,W,se)}if(typeof W.then=="function")return ht(Q,Y,ql(W),se);if(W.$$typeof===C)return ht(Q,Y,Tl(Q,W),se);Il(Q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,Y!==null&&Y.tag===6?(l(Q,Y.sibling),se=g(Y,W),se.return=Q,Q=se):(l(Q,Y),se=md(W,Q.mode,se),se.return=Q,Q=se),E(Q)):l(Q,Y)}return function(Q,Y,W,se){try{uo=0;var ye=ht(Q,Y,W,se);return qs=null,ye}catch(xe){if(xe===to||xe===Ol)throw xe;var Fe=En(29,xe,null,Q.mode);return Fe.lanes=se,Fe.return=Q,Fe}finally{}}}var Is=Gp(!0),Xp=Gp(!1),Hn=K(null),or=null;function sa(a){var i=a.alternate;ne(Pt,Pt.current&1),ne(Hn,a),or===null&&(i===null||Bs.current!==null||i.memoizedState!==null)&&(or=a)}function Zp(a){if(a.tag===22){if(ne(Pt,Pt.current),ne(Hn,a),or===null){var i=a.alternate;i!==null&&i.memoizedState!==null&&(or=a)}}else ia()}function ia(){ne(Pt,Pt.current),ne(Hn,Hn.current)}function Or(a){re(Hn),or===a&&(or=null),re(Pt)}var Pt=K(0);function Yl(a){for(var i=a;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Uf(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Vd(a,i,l,d){i=a.memoizedState,l=l(d,i),l=l==null?i:p({},i,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var Wd={enqueueSetState:function(a,i,l){a=a._reactInternals;var d=Tn(),g=na(d);g.payload=i,l!=null&&(g.callback=l),i=ra(a,g,d),i!==null&&(Mn(i,a,d),ro(i,a,d))},enqueueReplaceState:function(a,i,l){a=a._reactInternals;var d=Tn(),g=na(d);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=ra(a,g,d),i!==null&&(Mn(i,a,d),ro(i,a,d))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var l=Tn(),d=na(l);d.tag=2,i!=null&&(d.callback=i),i=ra(a,d,l),i!==null&&(Mn(i,a,l),ro(i,a,l))}};function Jp(a,i,l,d,g,v,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,v,E):i.prototype&&i.prototype.isPureReactComponent?!Ki(l,d)||!Ki(g,v):!0}function eg(a,i,l,d){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==a&&Wd.enqueueReplaceState(i,i.state,null)}function Ka(a,i){var l=i;if("ref"in i){l={};for(var d in i)d!=="ref"&&(l[d]=i[d])}if(a=a.defaultProps){l===i&&(l=p({},l));for(var g in a)l[g]===void 0&&(l[g]=a[g])}return l}var Ql=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function tg(a){Ql(a)}function ng(a){console.error(a)}function rg(a){Ql(a)}function Kl(a,i){try{var l=a.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function ag(a,i,l){try{var d=a.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Gd(a,i,l){return l=na(l),l.tag=3,l.payload={element:null},l.callback=function(){Kl(a,i)},l}function sg(a){return a=na(a),a.tag=3,a}function ig(a,i,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;a.payload=function(){return g(v)},a.callback=function(){ag(i,l,d)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){ag(i,l,d),typeof g!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var j=d.stack;this.componentDidCatch(d.value,{componentStack:j!==null?j:""})})}function t2(a,i,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=l.alternate,i!==null&&Zi(i,l,g,!0),l=Hn.current,l!==null){switch(l.tag){case 13:return or===null?wf():l.alternate===null&&Dt===0&&(Dt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===Dd?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([d]):i.add(d),kf(a,d,g)),!1;case 22:return l.flags|=65536,d===Dd?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([d]):l.add(d)),kf(a,d,g)),!1}throw Error(r(435,l.tag))}return kf(a,d,g),wf(),!1}if(tt)return i=Hn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,d!==bd&&(a=Error(r(422),{cause:d}),Xi($n(a,l)))):(d!==bd&&(i=Error(r(423),{cause:d}),Xi($n(i,l))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,d=$n(d,l),g=Gd(a.stateNode,d,g),Nd(a,g),Dt!==4&&(Dt=2)),!1;var v=Error(r(520),{cause:d});if(v=$n(v,l),vo===null?vo=[v]:vo.push(v),Dt!==4&&(Dt=2),i===null)return!0;d=$n(d,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,a=g&-g,l.lanes|=a,a=Gd(l.stateNode,d,a),Nd(l,a),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(fa===null||!fa.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=sg(g),ig(g,a,l,d),Nd(l,g),!1}l=l.return}while(l!==null);return!1}var og=Error(r(461)),Wt=!1;function nn(a,i,l,d){i.child=a===null?Xp(i,null,l,d):Is(i,a.child,l,d)}function lg(a,i,l,d,g){l=l.render;var v=i.ref;if("ref"in d){var E={};for(var j in d)j!=="ref"&&(E[j]=d[j])}else E=d;return Ia(i),d=Ad(a,i,l,E,v,g),j=Rd(),a!==null&&!Wt?(Ld(a,i,g),Ar(a,i,g)):(tt&&j&&gd(i),i.flags|=1,nn(a,i,d,g),i.child)}function cg(a,i,l,d,g){if(a===null){var v=l.type;return typeof v=="function"&&!hd(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,ug(a,i,v,d,g)):(a=El(l.type,null,d,i,i.mode,g),a.ref=i.ref,a.return=i,i.child=a)}if(v=a.child,!af(a,g)){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ki,l(E,d)&&a.ref===i.ref)return Ar(a,i,g)}return i.flags|=1,a=Er(v,d),a.ref=i.ref,a.return=i,i.child=a}function ug(a,i,l,d,g){if(a!==null){var v=a.memoizedProps;if(Ki(v,d)&&a.ref===i.ref)if(Wt=!1,i.pendingProps=d=v,af(a,g))(a.flags&131072)!==0&&(Wt=!0);else return i.lanes=a.lanes,Ar(a,i,g)}return Xd(a,i,l,d,g)}function dg(a,i,l){var d=i.pendingProps,g=d.children,v=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((i.flags&128)!==0){if(d=v!==null?v.baseLanes|l:l,a!==null){for(g=i.child=a.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;i.childLanes=v&~d}else i.childLanes=0,i.child=null;return fg(a,i,d,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ml(i,v!==null?v.cachePool:null),v!==null?up(i,v):Td(),Zp(i);else return i.lanes=i.childLanes=536870912,fg(a,i,v!==null?v.baseLanes|l:l,l)}else v!==null?(Ml(i,v.cachePool),up(i,v),ia(),i.memoizedState=null):(a!==null&&Ml(i,null),Td(),ia());return nn(a,i,g,l),i.child}function fg(a,i,l,d){var g=Sd();return g=g===null?null:{parent:$t._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},a!==null&&Ml(i,null),Td(),Zp(i),a!==null&&Zi(a,i,d,!0),null}function Vl(a,i){var l=i.ref;if(l===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(a===null||a.ref!==l)&&(i.flags|=4194816)}}function Xd(a,i,l,d,g){return Ia(i),l=Ad(a,i,l,d,void 0,g),d=Rd(),a!==null&&!Wt?(Ld(a,i,g),Ar(a,i,g)):(tt&&d&&gd(i),i.flags|=1,nn(a,i,l,g),i.child)}function hg(a,i,l,d,g,v){return Ia(i),i.updateQueue=null,l=fp(i,d,l,g),dp(a),d=Rd(),a!==null&&!Wt?(Ld(a,i,v),Ar(a,i,v)):(tt&&d&&gd(i),i.flags|=1,nn(a,i,l,v),i.child)}function mg(a,i,l,d,g){if(Ia(i),i.stateNode===null){var v=Rs,E=l.contextType;typeof E=="object"&&E!==null&&(v=ln(E)),v=new l(d,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Wd,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=d,v.state=i.memoizedState,v.refs={},Ed(i),E=l.contextType,v.context=typeof E=="object"&&E!==null?ln(E):Rs,v.state=i.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Vd(i,l,E,d),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Wd.enqueueReplaceState(v,v.state,null),so(i,d,v,g),ao(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(a===null){v=i.stateNode;var j=i.memoizedProps,P=Ka(l,j);v.props=P;var G=v.context,ae=l.contextType;E=Rs,typeof ae=="object"&&ae!==null&&(E=ln(ae));var oe=l.getDerivedStateFromProps;ae=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function",j=i.pendingProps!==j,ae||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(j||G!==E)&&eg(i,v,d,E),ta=!1;var Z=i.memoizedState;v.state=Z,so(i,d,v,g),ao(),G=i.memoizedState,j||Z!==G||ta?(typeof oe=="function"&&(Vd(i,l,oe,d),G=i.memoizedState),(P=ta||Jp(i,l,P,d,Z,G,E))?(ae||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=G),v.props=d,v.state=G,v.context=E,d=P):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{v=i.stateNode,Cd(a,i),E=i.memoizedProps,ae=Ka(l,E),v.props=ae,oe=i.pendingProps,Z=v.context,G=l.contextType,P=Rs,typeof G=="object"&&G!==null&&(P=ln(G)),j=l.getDerivedStateFromProps,(G=typeof j=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==oe||Z!==P)&&eg(i,v,d,P),ta=!1,Z=i.memoizedState,v.state=Z,so(i,d,v,g),ao();var J=i.memoizedState;E!==oe||Z!==J||ta||a!==null&&a.dependencies!==null&&jl(a.dependencies)?(typeof j=="function"&&(Vd(i,l,j,d),J=i.memoizedState),(ae=ta||Jp(i,l,ae,d,Z,J,P)||a!==null&&a.dependencies!==null&&jl(a.dependencies))?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,J,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,J,P)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=J),v.props=d,v.state=J,v.context=P,d=ae):(typeof v.componentDidUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(i.flags|=1024),d=!1)}return v=d,Vl(a,i),d=(i.flags&128)!==0,v||d?(v=i.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,a!==null&&d?(i.child=Is(i,a.child,null,g),i.child=Is(i,null,l,g)):nn(a,i,l,g),i.memoizedState=v.state,a=i.child):a=Ar(a,i,g),a}function pg(a,i,l,d){return Gi(),i.flags|=256,nn(a,i,l,d),i.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jd(a){return{baseLanes:a,cachePool:np()}}function ef(a,i,l){return a=a!==null?a.childLanes&~l:0,i&&(a|=Fn),a}function gg(a,i,l){var d=i.pendingProps,g=!1,v=(i.flags&128)!==0,E;if((E=v)||(E=a!==null&&a.memoizedState===null?!1:(Pt.current&2)!==0),E&&(g=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,a===null){if(tt){if(g?sa(i):ia(),tt){var j=St,P;if(P=j){e:{for(P=j,j=ir;P.nodeType!==8;){if(!j){j=null;break e}if(P=Xn(P.nextSibling),P===null){j=null;break e}}j=P}j!==null?(i.memoizedState={dehydrated:j,treeContext:Ba!==null?{id:Cr,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},P=En(18,null,null,0),P.stateNode=j,P.return=i,i.child=P,dn=i,St=null,P=!0):P=!1}P||za(i)}if(j=i.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Uf(j)?i.lanes=32:i.lanes=536870912,null;Or(i)}return j=d.children,d=d.fallback,g?(ia(),g=i.mode,j=Wl({mode:"hidden",children:j},g),d=Ua(d,g,l,null),j.return=i,d.return=i,j.sibling=d,i.child=j,g=i.child,g.memoizedState=Jd(l),g.childLanes=ef(a,E,l),i.memoizedState=Zd,d):(sa(i),tf(i,j))}if(P=a.memoizedState,P!==null&&(j=P.dehydrated,j!==null)){if(v)i.flags&256?(sa(i),i.flags&=-257,i=nf(a,i,l)):i.memoizedState!==null?(ia(),i.child=a.child,i.flags|=128,i=null):(ia(),g=d.fallback,j=i.mode,d=Wl({mode:"visible",children:d.children},j),g=Ua(g,j,l,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,Is(i,a.child,null,l),d=i.child,d.memoizedState=Jd(l),d.childLanes=ef(a,E,l),i.memoizedState=Zd,i=g);else if(sa(i),Uf(j)){if(E=j.nextSibling&&j.nextSibling.dataset,E)var G=E.dgst;E=G,d=Error(r(419)),d.stack="",d.digest=E,Xi({value:d,source:null,stack:null}),i=nf(a,i,l)}else if(Wt||Zi(a,i,l,!1),E=(l&a.childLanes)!==0,Wt||E){if(E=yt,E!==null&&(d=l&-l,d=(d&42)!==0?1:Uu(d),d=(d&(E.suspendedLanes|l))!==0?0:d,d!==0&&d!==P.retryLane))throw P.retryLane=d,As(a,d),Mn(E,a,d),og;j.data==="$?"||wf(),i=nf(a,i,l)}else j.data==="$?"?(i.flags|=192,i.child=a.child,i=null):(a=P.treeContext,St=Xn(j.nextSibling),dn=i,tt=!0,Fa=null,ir=!1,a!==null&&(Un[Bn++]=Cr,Un[Bn++]=Nr,Un[Bn++]=Ba,Cr=a.id,Nr=a.overflow,Ba=i),i=tf(i,d.children),i.flags|=4096);return i}return g?(ia(),g=d.fallback,j=i.mode,P=a.child,G=P.sibling,d=Er(P,{mode:"hidden",children:d.children}),d.subtreeFlags=P.subtreeFlags&65011712,G!==null?g=Er(G,g):(g=Ua(g,j,l,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,j=a.child.memoizedState,j===null?j=Jd(l):(P=j.cachePool,P!==null?(G=$t._currentValue,P=P.parent!==G?{parent:G,pool:G}:P):P=np(),j={baseLanes:j.baseLanes|l,cachePool:P}),g.memoizedState=j,g.childLanes=ef(a,E,l),i.memoizedState=Zd,d):(sa(i),l=a.child,a=l.sibling,l=Er(l,{mode:"visible",children:d.children}),l.return=i,l.sibling=null,a!==null&&(E=i.deletions,E===null?(i.deletions=[a],i.flags|=16):E.push(a)),i.child=l,i.memoizedState=null,l)}function tf(a,i){return i=Wl({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function Wl(a,i){return a=En(22,a,null,i),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function nf(a,i,l){return Is(i,a.child,null,l),a=tf(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function yg(a,i,l){a.lanes|=i;var d=a.alternate;d!==null&&(d.lanes|=i),xd(a.return,i,l)}function rf(a,i,l,d,g){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=g)}function bg(a,i,l){var d=i.pendingProps,g=d.revealOrder,v=d.tail;if(nn(a,i,d.children,l),d=Pt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yg(a,l,i);else if(a.tag===19)yg(a,l,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(ne(Pt,d),g){case"forwards":for(l=i.child,g=null;l!==null;)a=l.alternate,a!==null&&Yl(a)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),rf(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(a=g.alternate,a!==null&&Yl(a)===null){i.child=g;break}a=g.sibling,g.sibling=l,l=g,g=a}rf(i,!0,l,null,v);break;case"together":rf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ar(a,i,l){if(a!==null&&(i.dependencies=a.dependencies),da|=i.lanes,(l&i.childLanes)===0)if(a!==null){if(Zi(a,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(r(153));if(i.child!==null){for(a=i.child,l=Er(a,a.pendingProps),i.child=l,l.return=i;a.sibling!==null;)a=a.sibling,l=l.sibling=Er(a,a.pendingProps),l.return=i;l.sibling=null}return i.child}function af(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&jl(a)))}function n2(a,i,l){switch(i.tag){case 3:fe(i,i.stateNode.containerInfo),ea(i,$t,a.memoizedState.cache),Gi();break;case 27:case 5:Me(i);break;case 4:fe(i,i.stateNode.containerInfo);break;case 10:ea(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(sa(i),i.flags|=128,null):(l&i.child.childLanes)!==0?gg(a,i,l):(sa(i),a=Ar(a,i,l),a!==null?a.sibling:null);sa(i);break;case 19:var g=(a.flags&128)!==0;if(d=(l&i.childLanes)!==0,d||(Zi(a,i,l,!1),d=(l&i.childLanes)!==0),g){if(d)return bg(a,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ne(Pt,Pt.current),d)break;return null;case 22:case 23:return i.lanes=0,dg(a,i,l);case 24:ea(i,$t,a.memoizedState.cache)}return Ar(a,i,l)}function vg(a,i,l){if(a!==null)if(a.memoizedProps!==i.pendingProps)Wt=!0;else{if(!af(a,l)&&(i.flags&128)===0)return Wt=!1,n2(a,i,l);Wt=(a.flags&131072)!==0}else Wt=!1,tt&&(i.flags&1048576)!==0&&Wm(i,Nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{a=i.pendingProps;var d=i.elementType,g=d._init;if(d=g(d._payload),i.type=d,typeof d=="function")hd(d)?(a=Ka(d,a),i.tag=1,i=mg(null,i,d,a,l)):(i.tag=0,i=Xd(null,i,d,a,l));else{if(d!=null){if(g=d.$$typeof,g===T){i.tag=11,i=lg(null,i,d,a,l);break e}else if(g===R){i.tag=14,i=cg(null,i,d,a,l);break e}}throw i=F(d)||d,Error(r(306,i,""))}}return i;case 0:return Xd(a,i,i.type,i.pendingProps,l);case 1:return d=i.type,g=Ka(d,i.pendingProps),mg(a,i,d,g,l);case 3:e:{if(fe(i,i.stateNode.containerInfo),a===null)throw Error(r(387));d=i.pendingProps;var v=i.memoizedState;g=v.element,Cd(a,i),so(i,d,null,l);var E=i.memoizedState;if(d=E.cache,ea(i,$t,d),d!==v.cache&&wd(i,[$t],l,!0),ao(),d=E.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=pg(a,i,d,l);break e}else if(d!==g){g=$n(Error(r(424)),i),Xi(g),i=pg(a,i,d,l);break e}else{switch(a=i.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(St=Xn(a.firstChild),dn=i,tt=!0,Fa=null,ir=!0,l=Xp(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Gi(),d===g){i=Ar(a,i,l);break e}nn(a,i,d,l)}i=i.child}return i;case 26:return Vl(a,i),a===null?(l=ky(i.type,null,i.pendingProps,null))?i.memoizedState=l:tt||(l=i.type,a=i.pendingProps,d=cc(ie.current).createElement(l),d[on]=i,d[yn]=a,an(d,l,a),Vt(d),i.stateNode=d):i.memoizedState=ky(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return Me(i),a===null&&tt&&(d=i.stateNode=xy(i.type,i.pendingProps,ie.current),dn=i,ir=!0,g=St,pa(i.type)?(Bf=g,St=Xn(d.firstChild)):St=g),nn(a,i,i.pendingProps.children,l),Vl(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&tt&&((g=d=St)&&(d=T2(d,i.type,i.pendingProps,ir),d!==null?(i.stateNode=d,dn=i,St=Xn(d.firstChild),ir=!1,g=!0):g=!1),g||za(i)),Me(i),g=i.type,v=i.pendingProps,E=a!==null?a.memoizedProps:null,d=v.children,Lf(g,v)?d=null:E!==null&&Lf(g,E)&&(i.flags|=32),i.memoizedState!==null&&(g=Ad(a,i,Vw,null,null,l),No._currentValue=g),Vl(a,i),nn(a,i,d,l),i.child;case 6:return a===null&&tt&&((a=l=St)&&(l=M2(l,i.pendingProps,ir),l!==null?(i.stateNode=l,dn=i,St=null,a=!0):a=!1),a||za(i)),null;case 13:return gg(a,i,l);case 4:return fe(i,i.stateNode.containerInfo),d=i.pendingProps,a===null?i.child=Is(i,null,d,l):nn(a,i,d,l),i.child;case 11:return lg(a,i,i.type,i.pendingProps,l);case 7:return nn(a,i,i.pendingProps,l),i.child;case 8:return nn(a,i,i.pendingProps.children,l),i.child;case 12:return nn(a,i,i.pendingProps.children,l),i.child;case 10:return d=i.pendingProps,ea(i,i.type,d.value),nn(a,i,d.children,l),i.child;case 9:return g=i.type._context,d=i.pendingProps.children,Ia(i),g=ln(g),d=d(g),i.flags|=1,nn(a,i,d,l),i.child;case 14:return cg(a,i,i.type,i.pendingProps,l);case 15:return ug(a,i,i.type,i.pendingProps,l);case 19:return bg(a,i,l);case 31:return d=i.pendingProps,l=i.mode,d={mode:d.mode,children:d.children},a===null?(l=Wl(d,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=Er(a.child,d),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return dg(a,i,l);case 24:return Ia(i),d=ln($t),a===null?(g=Sd(),g===null&&(g=yt,v=_d(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),i.memoizedState={parent:d,cache:g},Ed(i),ea(i,$t,g)):((a.lanes&l)!==0&&(Cd(a,i),so(i,null,null,l),ao()),g=a.memoizedState,v=i.memoizedState,g.parent!==d?(g={parent:d,cache:d},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),ea(i,$t,d)):(d=v.cache,ea(i,$t,d),d!==g.cache&&wd(i,[$t],l,!0))),nn(a,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Rr(a){a.flags|=4}function xg(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Ny(i)){if(i=Hn.current,i!==null&&((Ve&4194048)===Ve?or!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||i!==or))throw no=Dd,rp;a.flags|=8192}}function Gl(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?De():536870912,a.lanes|=i,Vs|=i)}function ho(a,i){if(!tt)switch(a.tailMode){case"hidden":i=a.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function _t(a){var i=a.alternate!==null&&a.alternate.child===a.child,l=0,d=0;if(i)for(var g=a.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=d,a.childLanes=l,i}function r2(a,i,l){var d=i.pendingProps;switch(yd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(i),null;case 1:return _t(i),null;case 3:return l=i.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Tr($t),Re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Wi(i)?Rr(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zm())),_t(i),null;case 26:return l=i.memoizedState,a===null?(Rr(i),l!==null?(_t(i),xg(i,l)):(_t(i),i.flags&=-16777217)):l?l!==a.memoizedState?(Rr(i),_t(i),xg(i,l)):(_t(i),i.flags&=-16777217):(a.memoizedProps!==d&&Rr(i),_t(i),i.flags&=-16777217),null;case 27:Ne(i),l=ie.current;var g=i.type;if(a!==null&&i.stateNode!=null)a.memoizedProps!==d&&Rr(i);else{if(!d){if(i.stateNode===null)throw Error(r(166));return _t(i),null}a=ce.current,Wi(i)?Gm(i):(a=xy(g,d,l),i.stateNode=a,Rr(i))}return _t(i),null;case 5:if(Ne(i),l=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==d&&Rr(i);else{if(!d){if(i.stateNode===null)throw Error(r(166));return _t(i),null}if(a=ce.current,Wi(i))Gm(i);else{switch(g=cc(ie.current),a){case 1:a=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?g.createElement(l,{is:d.is}):g.createElement(l)}}a[on]=i,a[yn]=d;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=a;e:switch(an(a,l,d),l){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Rr(i)}}return _t(i),i.flags&=-16777217,null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==d&&Rr(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(r(166));if(a=ie.current,Wi(i)){if(a=i.stateNode,l=i.memoizedProps,d=null,g=dn,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}a[on]=i,a=!!(a.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||hy(a.nodeValue,l)),a||za(i)}else a=cc(a).createTextNode(d),a[on]=i,i.stateNode=a}return _t(i),null;case 13:if(d=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=Wi(i),d!==null&&d.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[on]=i}else Gi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_t(i),g=!1}else g=Zm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Or(i),i):(Or(i),null)}if(Or(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=d!==null,a=a!==null&&a.memoizedState!==null,l){d=i.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)}return l!==a&&l&&(i.child.flags|=8192),Gl(i,i.updateQueue),_t(i),null;case 4:return Re(),a===null&&Tf(i.stateNode.containerInfo),_t(i),null;case 10:return Tr(i.type),_t(i),null;case 19:if(re(Pt),g=i.memoizedState,g===null)return _t(i),null;if(d=(i.flags&128)!==0,v=g.rendering,v===null)if(d)ho(g,!1);else{if(Dt!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(v=Yl(a),v!==null){for(i.flags|=128,ho(g,!1),a=v.updateQueue,i.updateQueue=a,Gl(i,a),i.subtreeFlags=0,a=l,l=i.child;l!==null;)Vm(l,a),l=l.sibling;return ne(Pt,Pt.current&1|2),i.child}a=a.sibling}g.tail!==null&&$e()>Jl&&(i.flags|=128,d=!0,ho(g,!1),i.lanes=4194304)}else{if(!d)if(a=Yl(v),a!==null){if(i.flags|=128,d=!0,a=a.updateQueue,i.updateQueue=a,Gl(i,a),ho(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!tt)return _t(i),null}else 2*$e()-g.renderingStartTime>Jl&&l!==536870912&&(i.flags|=128,d=!0,ho(g,!1),i.lanes=4194304);g.isBackwards?(v.sibling=i.child,i.child=v):(a=g.last,a!==null?a.sibling=v:i.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=$e(),i.sibling=null,a=Pt.current,ne(Pt,d?a&1|2:a&1),i):(_t(i),null);case 22:case 23:return Or(i),Md(),d=i.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(l&536870912)!==0&&(i.flags&128)===0&&(_t(i),i.subtreeFlags&6&&(i.flags|=8192)):_t(i),l=i.updateQueue,l!==null&&Gl(i,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==l&&(i.flags|=2048),a!==null&&re(Ya),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Tr($t),_t(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function a2(a,i){switch(yd(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return Tr($t),Re(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return Ne(i),null;case 13:if(Or(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Gi()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return re(Pt),null;case 4:return Re(),null;case 10:return Tr(i.type),null;case 22:case 23:return Or(i),Md(),a!==null&&re(Ya),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return Tr($t),null;case 25:return null;default:return null}}function wg(a,i){switch(yd(i),i.tag){case 3:Tr($t),Re();break;case 26:case 27:case 5:Ne(i);break;case 4:Re();break;case 13:Or(i);break;case 19:re(Pt);break;case 10:Tr(i.type);break;case 22:case 23:Or(i),Md(),a!==null&&re(Ya);break;case 24:Tr($t)}}function mo(a,i){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&a)===a){d=void 0;var v=l.create,E=l.inst;d=v(),E.destroy=d}l=l.next}while(l!==g)}}catch(j){mt(i,i.return,j)}}function oa(a,i,l){try{var d=i.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&a)===a){var E=d.inst,j=E.destroy;if(j!==void 0){E.destroy=void 0,g=i;var P=l,G=j;try{G()}catch(ae){mt(g,P,ae)}}}d=d.next}while(d!==v)}}catch(ae){mt(i,i.return,ae)}}function _g(a){var i=a.updateQueue;if(i!==null){var l=a.stateNode;try{cp(i,l)}catch(d){mt(a,a.return,d)}}}function kg(a,i,l){l.props=Ka(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(d){mt(a,i,d)}}function po(a,i){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof l=="function"?a.refCleanup=l(d):l.current=d}}catch(g){mt(a,i,g)}}function lr(a,i){var l=a.ref,d=a.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){mt(a,i,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){mt(a,i,g)}else l.current=null}function Sg(a){var i=a.type,l=a.memoizedProps,d=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){mt(a,a.return,g)}}function sf(a,i,l){try{var d=a.stateNode;D2(d,a.type,l,i),d[yn]=i}catch(g){mt(a,a.return,g)}}function Dg(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&pa(a.type)||a.tag===4}function of(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Dg(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&pa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function lf(a,i,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(a),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=lc));else if(d!==4&&(d===27&&pa(a.type)&&(l=a.stateNode,i=null),a=a.child,a!==null))for(lf(a,i,l),a=a.sibling;a!==null;)lf(a,i,l),a=a.sibling}function Xl(a,i,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,i?l.insertBefore(a,i):l.appendChild(a);else if(d!==4&&(d===27&&pa(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(Xl(a,i,l),a=a.sibling;a!==null;)Xl(a,i,l),a=a.sibling}function Eg(a){var i=a.stateNode,l=a.memoizedProps;try{for(var d=a.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);an(i,d,l),i[on]=a,i[yn]=l}catch(v){mt(a,a.return,v)}}var Lr=!1,jt=!1,cf=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function s2(a,i){if(a=a.containerInfo,Af=pc,a=Um(a),id(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,j=-1,P=-1,G=0,ae=0,oe=a,Z=null;t:for(;;){for(var J;oe!==l||g!==0&&oe.nodeType!==3||(j=E+g),oe!==v||d!==0&&oe.nodeType!==3||(P=E+d),oe.nodeType===3&&(E+=oe.nodeValue.length),(J=oe.firstChild)!==null;)Z=oe,oe=J;for(;;){if(oe===a)break t;if(Z===l&&++G===g&&(j=E),Z===v&&++ae===d&&(P=E),(J=oe.nextSibling)!==null)break;oe=Z,Z=oe.parentNode}oe=J}l=j===-1||P===-1?null:{start:j,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Rf={focusedElem:a,selectionRange:l},pc=!1,Gt=i;Gt!==null;)if(i=Gt,a=i.child,(i.subtreeFlags&1024)!==0&&a!==null)a.return=i,Gt=a;else for(;Gt!==null;){switch(i=Gt,v=i.alternate,a=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,l=i,g=v.memoizedProps,v=v.memoizedState,d=l.stateNode;try{var Ee=Ka(l.type,g,l.elementType===l.type);a=d.getSnapshotBeforeUpdate(Ee,v),d.__reactInternalSnapshotBeforeUpdate=a}catch(ke){mt(l,l.return,ke)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,l=a.nodeType,l===9)Pf(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Pf(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=i.sibling,a!==null){a.return=i.return,Gt=a;break}Gt=i.return}}function Ng(a,i,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:la(a,l),d&4&&mo(5,l);break;case 1:if(la(a,l),d&4)if(a=l.stateNode,i===null)try{a.componentDidMount()}catch(E){mt(l,l.return,E)}else{var g=Ka(l.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(g,i,a.__reactInternalSnapshotBeforeUpdate)}catch(E){mt(l,l.return,E)}}d&64&&_g(l),d&512&&po(l,l.return);break;case 3:if(la(a,l),d&64&&(a=l.updateQueue,a!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{cp(a,i)}catch(E){mt(l,l.return,E)}}break;case 27:i===null&&d&4&&Eg(l);case 26:case 5:la(a,l),i===null&&d&4&&Sg(l),d&512&&po(l,l.return);break;case 12:la(a,l);break;case 13:la(a,l),d&4&&Mg(a,l),d&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=m2.bind(null,l),O2(a,l))));break;case 22:if(d=l.memoizedState!==null||Lr,!d){i=i!==null&&i.memoizedState!==null||jt,g=Lr;var v=jt;Lr=d,(jt=i)&&!v?ca(a,l,(l.subtreeFlags&8772)!==0):la(a,l),Lr=g,jt=v}break;case 30:break;default:la(a,l)}}function jg(a){var i=a.alternate;i!==null&&(a.alternate=null,jg(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&Fu(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var vt=null,xn=!1;function $r(a,i,l){for(l=l.child;l!==null;)Tg(a,i,l),l=l.sibling}function Tg(a,i,l){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ke,l)}catch{}switch(l.tag){case 26:jt||lr(l,i),$r(a,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:jt||lr(l,i);var d=vt,g=xn;pa(l.type)&&(vt=l.stateNode,xn=!1),$r(a,i,l),So(l.stateNode),vt=d,xn=g;break;case 5:jt||lr(l,i);case 6:if(d=vt,g=xn,vt=null,$r(a,i,l),vt=d,xn=g,vt!==null)if(xn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(v){mt(l,i,v)}else try{vt.removeChild(l.stateNode)}catch(v){mt(l,i,v)}break;case 18:vt!==null&&(xn?(a=vt,by(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),Oo(a)):by(vt,l.stateNode));break;case 4:d=vt,g=xn,vt=l.stateNode.containerInfo,xn=!0,$r(a,i,l),vt=d,xn=g;break;case 0:case 11:case 14:case 15:jt||oa(2,l,i),jt||oa(4,l,i),$r(a,i,l);break;case 1:jt||(lr(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"&&kg(l,i,d)),$r(a,i,l);break;case 21:$r(a,i,l);break;case 22:jt=(d=jt)||l.memoizedState!==null,$r(a,i,l),jt=d;break;default:$r(a,i,l)}}function Mg(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Oo(a)}catch(l){mt(i,i.return,l)}}function i2(a){switch(a.tag){case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new Cg),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new Cg),i;default:throw Error(r(435,a.tag))}}function uf(a,i){var l=i2(a);i.forEach(function(d){var g=p2.bind(null,a,d);l.has(d)||(l.add(d),d.then(g,g))})}function Cn(a,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],v=a,E=i,j=E;e:for(;j!==null;){switch(j.tag){case 27:if(pa(j.type)){vt=j.stateNode,xn=!1;break e}break;case 5:vt=j.stateNode,xn=!1;break e;case 3:case 4:vt=j.stateNode.containerInfo,xn=!0;break e}j=j.return}if(vt===null)throw Error(r(160));Tg(v,E,g),vt=null,xn=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Og(i,a),i=i.sibling}var Gn=null;function Og(a,i){var l=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Cn(i,a),Nn(a),d&4&&(oa(3,a,a.return),mo(3,a),oa(5,a,a.return));break;case 1:Cn(i,a),Nn(a),d&512&&(jt||l===null||lr(l,l.return)),d&64&&Lr&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=Gn;if(Cn(i,a),Nn(a),d&512&&(jt||l===null||lr(l,l.return)),d&4){var v=l!==null?l.memoizedState:null;if(d=a.memoizedState,l===null)if(d===null)if(a.stateNode===null){e:{d=a.type,l=a.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Ui]||v[on]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(d),g.head.insertBefore(v,g.querySelector("head > title"))),an(v,d,l),v[on]=a,Vt(v),d=v;break e;case"link":var E=Ey("link","href",g).get(d+(l.href||""));if(E){for(var j=0;j<E.length;j++)if(v=E[j],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(j,1);break t}}v=g.createElement(d),an(v,d,l),g.head.appendChild(v);break;case"meta":if(E=Ey("meta","content",g).get(d+(l.content||""))){for(j=0;j<E.length;j++)if(v=E[j],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(j,1);break t}}v=g.createElement(d),an(v,d,l),g.head.appendChild(v);break;default:throw Error(r(468,d))}v[on]=a,Vt(v),d=v}a.stateNode=d}else Cy(g,a.type,a.stateNode);else a.stateNode=Dy(g,d,a.memoizedProps);else v!==d?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,d===null?Cy(g,a.type,a.stateNode):Dy(g,d,a.memoizedProps)):d===null&&a.stateNode!==null&&sf(a,a.memoizedProps,l.memoizedProps)}break;case 27:Cn(i,a),Nn(a),d&512&&(jt||l===null||lr(l,l.return)),l!==null&&d&4&&sf(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Cn(i,a),Nn(a),d&512&&(jt||l===null||lr(l,l.return)),a.flags&32){g=a.stateNode;try{Es(g,"")}catch(J){mt(a,a.return,J)}}d&4&&a.stateNode!=null&&(g=a.memoizedProps,sf(a,g,l!==null?l.memoizedProps:g)),d&1024&&(cf=!0);break;case 6:if(Cn(i,a),Nn(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,l=a.stateNode;try{l.nodeValue=d}catch(J){mt(a,a.return,J)}}break;case 3:if(fc=null,g=Gn,Gn=uc(i.containerInfo),Cn(i,a),Gn=g,Nn(a),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Oo(i.containerInfo)}catch(J){mt(a,a.return,J)}cf&&(cf=!1,Ag(a));break;case 4:d=Gn,Gn=uc(a.stateNode.containerInfo),Cn(i,a),Nn(a),Gn=d;break;case 12:Cn(i,a),Nn(a);break;case 13:Cn(i,a),Nn(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gf=$e()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,uf(a,d)));break;case 22:g=a.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,G=Lr,ae=jt;if(Lr=G||g,jt=ae||P,Cn(i,a),jt=ae,Lr=G,Nn(a),d&8192)e:for(i=a.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||P||Lr||jt||Va(a)),l=null,i=a;;){if(i.tag===5||i.tag===26){if(l===null){P=l=i;try{if(v=P.stateNode,g)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{j=P.stateNode;var oe=P.memoizedProps.style,Z=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;j.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){mt(P,P.return,J)}}}else if(i.tag===6){if(l===null){P=i;try{P.stateNode.nodeValue=g?"":P.memoizedProps}catch(J){mt(P,P.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=a.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,uf(a,l))));break;case 19:Cn(i,a),Nn(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,uf(a,d)));break;case 30:break;case 21:break;default:Cn(i,a),Nn(a)}}function Nn(a){var i=a.flags;if(i&2){try{for(var l,d=a.return;d!==null;){if(Dg(d)){l=d;break}d=d.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=of(a);Xl(a,v,g);break;case 5:var E=l.stateNode;l.flags&32&&(Es(E,""),l.flags&=-33);var j=of(a);Xl(a,j,E);break;case 3:case 4:var P=l.stateNode.containerInfo,G=of(a);lf(a,G,P);break;default:throw Error(r(161))}}catch(ae){mt(a,a.return,ae)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Ag(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;Ag(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function la(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ng(a,i.alternate,i),i=i.sibling}function Va(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:oa(4,i,i.return),Va(i);break;case 1:lr(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&kg(i,i.return,l),Va(i);break;case 27:So(i.stateNode);case 26:case 5:lr(i,i.return),Va(i);break;case 22:i.memoizedState===null&&Va(i);break;case 30:Va(i);break;default:Va(i)}a=a.sibling}}function ca(a,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,g=a,v=i,E=v.flags;switch(v.tag){case 0:case 11:case 15:ca(g,v,l),mo(4,v);break;case 1:if(ca(g,v,l),d=v,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){mt(d,d.return,G)}if(d=v,g=d.updateQueue,g!==null){var j=d.stateNode;try{var P=g.shared.hiddenCallbacks;if(P!==null)for(g.shared.hiddenCallbacks=null,g=0;g<P.length;g++)lp(P[g],j)}catch(G){mt(d,d.return,G)}}l&&E&64&&_g(v),po(v,v.return);break;case 27:Eg(v);case 26:case 5:ca(g,v,l),l&&d===null&&E&4&&Sg(v),po(v,v.return);break;case 12:ca(g,v,l);break;case 13:ca(g,v,l),l&&E&4&&Mg(g,v);break;case 22:v.memoizedState===null&&ca(g,v,l),po(v,v.return);break;case 30:break;default:ca(g,v,l)}i=i.sibling}}function df(a,i){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&Ji(l))}function ff(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Ji(a))}function cr(a,i,l,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rg(a,i,l,d),i=i.sibling}function Rg(a,i,l,d){var g=i.flags;switch(i.tag){case 0:case 11:case 15:cr(a,i,l,d),g&2048&&mo(9,i);break;case 1:cr(a,i,l,d);break;case 3:cr(a,i,l,d),g&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Ji(a)));break;case 12:if(g&2048){cr(a,i,l,d),a=i.stateNode;try{var v=i.memoizedProps,E=v.id,j=v.onPostCommit;typeof j=="function"&&j(E,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(P){mt(i,i.return,P)}}else cr(a,i,l,d);break;case 13:cr(a,i,l,d);break;case 23:break;case 22:v=i.stateNode,E=i.alternate,i.memoizedState!==null?v._visibility&2?cr(a,i,l,d):go(a,i):v._visibility&2?cr(a,i,l,d):(v._visibility|=2,Ys(a,i,l,d,(i.subtreeFlags&10256)!==0)),g&2048&&df(E,i);break;case 24:cr(a,i,l,d),g&2048&&ff(i.alternate,i);break;default:cr(a,i,l,d)}}function Ys(a,i,l,d,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=a,E=i,j=l,P=d,G=E.flags;switch(E.tag){case 0:case 11:case 15:Ys(v,E,j,P,g),mo(8,E);break;case 23:break;case 22:var ae=E.stateNode;E.memoizedState!==null?ae._visibility&2?Ys(v,E,j,P,g):go(v,E):(ae._visibility|=2,Ys(v,E,j,P,g)),g&&G&2048&&df(E.alternate,E);break;case 24:Ys(v,E,j,P,g),g&&G&2048&&ff(E.alternate,E);break;default:Ys(v,E,j,P,g)}i=i.sibling}}function go(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=a,d=i,g=d.flags;switch(d.tag){case 22:go(l,d),g&2048&&df(d.alternate,d);break;case 24:go(l,d),g&2048&&ff(d.alternate,d);break;default:go(l,d)}i=i.sibling}}var yo=8192;function Qs(a){if(a.subtreeFlags&yo)for(a=a.child;a!==null;)Lg(a),a=a.sibling}function Lg(a){switch(a.tag){case 26:Qs(a),a.flags&yo&&a.memoizedState!==null&&Y2(Gn,a.memoizedState,a.memoizedProps);break;case 5:Qs(a);break;case 3:case 4:var i=Gn;Gn=uc(a.stateNode.containerInfo),Qs(a),Gn=i;break;case 22:a.memoizedState===null&&(i=a.alternate,i!==null&&i.memoizedState!==null?(i=yo,yo=16777216,Qs(a),yo=i):Qs(a));break;default:Qs(a)}}function $g(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function bo(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];Gt=d,Ug(d,a)}$g(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Pg(a),a=a.sibling}function Pg(a){switch(a.tag){case 0:case 11:case 15:bo(a),a.flags&2048&&oa(9,a,a.return);break;case 3:bo(a);break;case 12:bo(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,Zl(a)):bo(a);break;default:bo(a)}}function Zl(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];Gt=d,Ug(d,a)}$g(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:oa(8,i,i.return),Zl(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Zl(i));break;default:Zl(i)}a=a.sibling}}function Ug(a,i){for(;Gt!==null;){var l=Gt;switch(l.tag){case 0:case 11:case 15:oa(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ji(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Gt=d;else e:for(l=a;Gt!==null;){d=Gt;var g=d.sibling,v=d.return;if(jg(d),d===l){Gt=null;break e}if(g!==null){g.return=v,Gt=g;break e}Gt=v}}}var o2={getCacheForType:function(a){var i=ln($t),l=i.data.get(a);return l===void 0&&(l=a(),i.data.set(a,l)),l}},l2=typeof WeakMap=="function"?WeakMap:Map,lt=0,yt=null,ze=null,Ve=0,ct=0,jn=null,ua=!1,Ks=!1,hf=!1,Pr=0,Dt=0,da=0,Wa=0,mf=0,Fn=0,Vs=0,vo=null,wn=null,pf=!1,gf=0,Jl=1/0,ec=null,fa=null,rn=0,ha=null,Ws=null,Gs=0,yf=0,bf=null,Bg=null,xo=0,vf=null;function Tn(){if((lt&2)!==0&&Ve!==0)return Ve&-Ve;if(A.T!==null){var a=Ps;return a!==0?a:Ef()}return tm()}function Hg(){Fn===0&&(Fn=(Ve&536870912)===0||tt?we():536870912);var a=Hn.current;return a!==null&&(a.flags|=32),Fn}function Mn(a,i,l){(a===yt&&(ct===2||ct===9)||a.cancelPendingCommit!==null)&&(Xs(a,0),ma(a,Ve,Fn,!1)),et(a,l),((lt&2)===0||a!==yt)&&(a===yt&&((lt&2)===0&&(Wa|=l),Dt===4&&ma(a,Ve,Fn,!1)),ur(a))}function Fg(a,i,l){if((lt&6)!==0)throw Error(r(327));var d=!l&&(i&124)===0&&(i&a.expiredLanes)===0||Lt(a,i),g=d?d2(a,i):_f(a,i,!0),v=d;do{if(g===0){Ks&&!d&&ma(a,i,0,!1);break}else{if(l=a.current.alternate,v&&!c2(l)){g=_f(a,i,!1),v=!1;continue}if(g===2){if(v=i,a.errorRecoveryDisabledLanes&v)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var j=a;g=vo;var P=j.current.memoizedState.isDehydrated;if(P&&(Xs(j,E).flags|=256),E=_f(j,E,!1),E!==2){if(hf&&!P){j.errorRecoveryDisabledLanes|=v,Wa|=v,g=4;break e}v=wn,wn=g,v!==null&&(wn===null?wn=v:wn.push.apply(wn,v))}g=E}if(v=!1,g!==2)continue}}if(g===1){Xs(a,0),ma(a,i,0,!0);break}e:{switch(d=a,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ma(d,i,Fn,!ua);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=gf+300-$e(),10<g)){if(ma(d,i,Fn,!ua),Qt(d,0,!0)!==0)break e;d.timeoutHandle=gy(zg.bind(null,d,l,wn,ec,pf,i,Fn,Wa,Vs,ua,v,2,-0,0),g);break e}zg(d,l,wn,ec,pf,i,Fn,Wa,Vs,ua,v,0,-0,0)}}break}while(!0);ur(a)}function zg(a,i,l,d,g,v,E,j,P,G,ae,oe,Z,J){if(a.timeoutHandle=-1,oe=i.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Co={stylesheets:null,count:0,unsuspend:I2},Lg(i),oe=Q2(),oe!==null)){a.cancelPendingCommit=oe(Wg.bind(null,a,i,v,l,d,g,E,j,P,ae,1,Z,J)),ma(a,v,E,!G);return}Wg(a,i,v,l,d,g,E,j,P)}function c2(a){for(var i=a;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],v=g.getSnapshot;g=g.value;try{if(!Dn(v(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ma(a,i,l,d){i&=~mf,i&=~Wa,a.suspendedLanes|=i,a.pingedLanes&=~i,d&&(a.warmLanes|=i),d=a.expirationTimes;for(var g=i;0<g;){var v=31-ve(g),E=1<<v;d[v]=-1,g&=~E}l!==0&&bs(a,l,i)}function tc(){return(lt&6)===0?(wo(0),!1):!0}function xf(){if(ze!==null){if(ct===0)var a=ze.return;else a=ze,jr=qa=null,$d(a),qs=null,uo=0,a=ze;for(;a!==null;)wg(a.alternate,a),a=a.return;ze=null}}function Xs(a,i){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,C2(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),xf(),yt=a,ze=l=Er(a.current,null),Ve=i,ct=0,jn=null,ua=!1,Ks=Lt(a,i),hf=!1,Vs=Fn=mf=Wa=da=Dt=0,wn=vo=null,pf=!1,(i&8)!==0&&(i|=i&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=i;0<d;){var g=31-ve(d),v=1<<g;i|=a[g],d&=~v}return Pr=i,kl(),l}function qg(a,i){Be=null,A.H=zl,i===to||i===Ol?(i=ip(),ct=3):i===rp?(i=ip(),ct=4):ct=i===og?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,jn=i,ze===null&&(Dt=1,Kl(a,$n(i,a.current)))}function Ig(){var a=A.H;return A.H=zl,a===null?zl:a}function Yg(){var a=A.A;return A.A=o2,a}function wf(){Dt=4,ua||(Ve&4194048)!==Ve&&Hn.current!==null||(Ks=!0),(da&134217727)===0&&(Wa&134217727)===0||yt===null||ma(yt,Ve,Fn,!1)}function _f(a,i,l){var d=lt;lt|=2;var g=Ig(),v=Yg();(yt!==a||Ve!==i)&&(ec=null,Xs(a,i)),i=!1;var E=Dt;e:do try{if(ct!==0&&ze!==null){var j=ze,P=jn;switch(ct){case 8:xf(),E=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(i=!0);var G=ct;if(ct=0,jn=null,Zs(a,j,P,G),l&&Ks){E=0;break e}break;default:G=ct,ct=0,jn=null,Zs(a,j,P,G)}}u2(),E=Dt;break}catch(ae){qg(a,ae)}while(!0);return i&&a.shellSuspendCounter++,jr=qa=null,lt=d,A.H=g,A.A=v,ze===null&&(yt=null,Ve=0,kl()),E}function u2(){for(;ze!==null;)Qg(ze)}function d2(a,i){var l=lt;lt|=2;var d=Ig(),g=Yg();yt!==a||Ve!==i?(ec=null,Jl=$e()+500,Xs(a,i)):Ks=Lt(a,i);e:do try{if(ct!==0&&ze!==null){i=ze;var v=jn;t:switch(ct){case 1:ct=0,jn=null,Zs(a,i,v,1);break;case 2:case 9:if(ap(v)){ct=0,jn=null,Kg(i);break}i=function(){ct!==2&&ct!==9||yt!==a||(ct=7),ur(a)},v.then(i,i);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:ap(v)?(ct=0,jn=null,Kg(i)):(ct=0,jn=null,Zs(a,i,v,7));break;case 5:var E=null;switch(ze.tag){case 26:E=ze.memoizedState;case 5:case 27:var j=ze;if(!E||Ny(E)){ct=0,jn=null;var P=j.sibling;if(P!==null)ze=P;else{var G=j.return;G!==null?(ze=G,nc(G)):ze=null}break t}}ct=0,jn=null,Zs(a,i,v,5);break;case 6:ct=0,jn=null,Zs(a,i,v,6);break;case 8:xf(),Dt=6;break e;default:throw Error(r(462))}}f2();break}catch(ae){qg(a,ae)}while(!0);return jr=qa=null,A.H=d,A.A=g,lt=l,ze!==null?0:(yt=null,Ve=0,kl(),Dt)}function f2(){for(;ze!==null&&!ot();)Qg(ze)}function Qg(a){var i=vg(a.alternate,a,Pr);a.memoizedProps=a.pendingProps,i===null?nc(a):ze=i}function Kg(a){var i=a,l=i.alternate;switch(i.tag){case 15:case 0:i=hg(l,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=hg(l,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:$d(i);default:wg(l,i),i=ze=Vm(i,Pr),i=vg(l,i,Pr)}a.memoizedProps=a.pendingProps,i===null?nc(a):ze=i}function Zs(a,i,l,d){jr=qa=null,$d(i),qs=null,uo=0;var g=i.return;try{if(t2(a,g,i,l,Ve)){Dt=1,Kl(a,$n(l,a.current)),ze=null;return}}catch(v){if(g!==null)throw ze=g,v;Dt=1,Kl(a,$n(l,a.current)),ze=null;return}i.flags&32768?(tt||d===1?a=!0:Ks||(Ve&536870912)!==0?a=!1:(ua=a=!0,(d===2||d===9||d===3||d===6)&&(d=Hn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Vg(i,a)):nc(i)}function nc(a){var i=a;do{if((i.flags&32768)!==0){Vg(i,ua);return}a=i.return;var l=r2(i.alternate,i,Pr);if(l!==null){ze=l;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=a}while(i!==null);Dt===0&&(Dt=5)}function Vg(a,i){do{var l=a2(a.alternate,a);if(l!==null){l.flags&=32767,ze=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(a=a.sibling,a!==null)){ze=a;return}ze=a=l}while(a!==null);Dt=6,ze=null}function Wg(a,i,l,d,g,v,E,j,P){a.cancelPendingCommit=null;do rc();while(rn!==0);if((lt&6)!==0)throw Error(r(327));if(i!==null){if(i===a.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=dd,Xr(a,l,v,E,j,P),a===yt&&(ze=yt=null,Ve=0),Ws=i,ha=a,Gs=l,yf=v,bf=g,Bg=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,g2(be,function(){return ey(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=A.T,A.T=null,g=H.p,H.p=2,E=lt,lt|=4;try{s2(a,i,l)}finally{lt=E,H.p=g,A.T=d}}rn=1,Gg(),Xg(),Zg()}}function Gg(){if(rn===1){rn=0;var a=ha,i=Ws,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=A.T,A.T=null;var d=H.p;H.p=2;var g=lt;lt|=4;try{Og(i,a);var v=Rf,E=Um(a.containerInfo),j=v.focusedElem,P=v.selectionRange;if(E!==j&&j&&j.ownerDocument&&Pm(j.ownerDocument.documentElement,j)){if(P!==null&&id(j)){var G=P.start,ae=P.end;if(ae===void 0&&(ae=G),"selectionStart"in j)j.selectionStart=G,j.selectionEnd=Math.min(ae,j.value.length);else{var oe=j.ownerDocument||document,Z=oe&&oe.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Ee=j.textContent.length,ke=Math.min(P.start,Ee),ht=P.end===void 0?ke:Math.min(P.end,Ee);!J.extend&&ke>ht&&(E=ht,ht=ke,ke=E);var Q=$m(j,ke),Y=$m(j,ht);if(Q&&Y&&(J.rangeCount!==1||J.anchorNode!==Q.node||J.anchorOffset!==Q.offset||J.focusNode!==Y.node||J.focusOffset!==Y.offset)){var W=oe.createRange();W.setStart(Q.node,Q.offset),J.removeAllRanges(),ke>ht?(J.addRange(W),J.extend(Y.node,Y.offset)):(W.setEnd(Y.node,Y.offset),J.addRange(W))}}}}for(oe=[],J=j;J=J.parentNode;)J.nodeType===1&&oe.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<oe.length;j++){var se=oe[j];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}pc=!!Af,Rf=Af=null}finally{lt=g,H.p=d,A.T=l}}a.current=i,rn=2}}function Xg(){if(rn===2){rn=0;var a=ha,i=Ws,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=A.T,A.T=null;var d=H.p;H.p=2;var g=lt;lt|=4;try{Ng(a,i.alternate,i)}finally{lt=g,H.p=d,A.T=l}}rn=3}}function Zg(){if(rn===4||rn===3){rn=0,Qe();var a=ha,i=Ws,l=Gs,d=Bg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?rn=5:(rn=0,Ws=ha=null,Jg(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(fa=null),Bu(l),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ke,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=A.T,g=H.p,H.p=2,A.T=null;try{for(var v=a.onRecoverableError,E=0;E<d.length;E++){var j=d[E];v(j.value,{componentStack:j.stack})}}finally{A.T=i,H.p=g}}(Gs&3)!==0&&rc(),ur(a),g=a.pendingLanes,(l&4194090)!==0&&(g&42)!==0?a===vf?xo++:(xo=0,vf=a):xo=0,wo(0)}}function Jg(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,Ji(i)))}function rc(a){return Gg(),Xg(),Zg(),ey()}function ey(){if(rn!==5)return!1;var a=ha,i=yf;yf=0;var l=Bu(Gs),d=A.T,g=H.p;try{H.p=32>l?32:l,A.T=null,l=bf,bf=null;var v=ha,E=Gs;if(rn=0,Ws=ha=null,Gs=0,(lt&6)!==0)throw Error(r(331));var j=lt;if(lt|=4,Pg(v.current),Rg(v,v.current,E,l),lt=j,wo(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ke,v)}catch{}return!0}finally{H.p=g,A.T=d,Jg(a,i)}}function ty(a,i,l){i=$n(l,i),i=Gd(a.stateNode,i,2),a=ra(a,i,2),a!==null&&(et(a,2),ur(a))}function mt(a,i,l){if(a.tag===3)ty(a,a,l);else for(;i!==null;){if(i.tag===3){ty(i,a,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(fa===null||!fa.has(d))){a=$n(l,a),l=sg(2),d=ra(i,l,2),d!==null&&(ig(l,d,i,a),et(d,2),ur(d));break}}i=i.return}}function kf(a,i,l){var d=a.pingCache;if(d===null){d=a.pingCache=new l2;var g=new Set;d.set(i,g)}else g=d.get(i),g===void 0&&(g=new Set,d.set(i,g));g.has(l)||(hf=!0,g.add(l),a=h2.bind(null,a,i,l),i.then(a,a))}function h2(a,i,l){var d=a.pingCache;d!==null&&d.delete(i),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,yt===a&&(Ve&l)===l&&(Dt===4||Dt===3&&(Ve&62914560)===Ve&&300>$e()-gf?(lt&2)===0&&Xs(a,0):mf|=l,Vs===Ve&&(Vs=0)),ur(a)}function ny(a,i){i===0&&(i=De()),a=As(a,i),a!==null&&(et(a,i),ur(a))}function m2(a){var i=a.memoizedState,l=0;i!==null&&(l=i.retryLane),ny(a,l)}function p2(a,i){var l=0;switch(a.tag){case 13:var d=a.stateNode,g=a.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(i),ny(a,l)}function g2(a,i){return rt(a,i)}var ac=null,Js=null,Sf=!1,sc=!1,Df=!1,Ga=0;function ur(a){a!==Js&&a.next===null&&(Js===null?ac=Js=a:Js=Js.next=a),sc=!0,Sf||(Sf=!0,b2())}function wo(a,i){if(!Df&&sc){Df=!0;do for(var l=!1,d=ac;d!==null;){if(a!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var E=d.suspendedLanes,j=d.pingedLanes;v=(1<<31-ve(42|a)+1)-1,v&=g&~(E&~j),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,iy(d,v))}else v=Ve,v=Qt(d,d===yt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Lt(d,v)||(l=!0,iy(d,v));d=d.next}while(l);Df=!1}}function y2(){ry()}function ry(){sc=Sf=!1;var a=0;Ga!==0&&(E2()&&(a=Ga),Ga=0);for(var i=$e(),l=null,d=ac;d!==null;){var g=d.next,v=ay(d,i);v===0?(d.next=null,l===null?ac=g:l.next=g,g===null&&(Js=l)):(l=d,(a!==0||(v&3)!==0)&&(sc=!0)),d=g}wo(a)}function ay(a,i){for(var l=a.suspendedLanes,d=a.pingedLanes,g=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var E=31-ve(v),j=1<<E,P=g[E];P===-1?((j&l)===0||(j&d)!==0)&&(g[E]=Sn(j,i)):P<=i&&(a.expiredLanes|=j),v&=~j}if(i=yt,l=Ve,l=Qt(a,a===i?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,l===0||a===i&&(ct===2||ct===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&We(d),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Lt(a,l)){if(i=l&-l,i===a.callbackPriority)return i;switch(d!==null&&We(d),Bu(l)){case 2:case 8:l=Oe;break;case 32:l=be;break;case 268435456:l=Je;break;default:l=be}return d=sy.bind(null,a),l=rt(l,d),a.callbackPriority=i,a.callbackNode=l,i}return d!==null&&d!==null&&We(d),a.callbackPriority=2,a.callbackNode=null,2}function sy(a,i){if(rn!==0&&rn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(rc()&&a.callbackNode!==l)return null;var d=Ve;return d=Qt(a,a===yt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(Fg(a,d,i),ay(a,$e()),a.callbackNode!=null&&a.callbackNode===l?sy.bind(null,a):null)}function iy(a,i){if(rc())return null;Fg(a,i,!0)}function b2(){N2(function(){(lt&6)!==0?rt(_e,y2):ry()})}function Ef(){return Ga===0&&(Ga=we()),Ga}function oy(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:gl(""+a)}function ly(a,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,a.id&&l.setAttribute("form",a.id),i.parentNode.insertBefore(l,i),a=new FormData(a),l.parentNode.removeChild(l),a}function v2(a,i,l,d,g){if(i==="submit"&&l&&l.stateNode===g){var v=oy((g[yn]||null).action),E=d.submitter;E&&(i=(i=E[yn]||null)?oy(i.formAction):E.getAttribute("formAction"),i!==null&&(v=i,E=null));var j=new xl("action","action",null,d,g);a.push({event:j,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ga!==0){var P=E?ly(g,E):new FormData(g);Yd(l,{pending:!0,data:P,method:g.method,action:v},null,P)}}else typeof v=="function"&&(j.preventDefault(),P=E?ly(g,E):new FormData(g),Yd(l,{pending:!0,data:P,method:g.method,action:v},v,P))},currentTarget:g}]})}}for(var Cf=0;Cf<ud.length;Cf++){var Nf=ud[Cf],x2=Nf.toLowerCase(),w2=Nf[0].toUpperCase()+Nf.slice(1);Wn(x2,"on"+w2)}Wn(Fm,"onAnimationEnd"),Wn(zm,"onAnimationIteration"),Wn(qm,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Uw,"onTransitionRun"),Wn(Bw,"onTransitionStart"),Wn(Hw,"onTransitionCancel"),Wn(Im,"onTransitionEnd"),ks("onMouseEnter",["mouseout","mouseover"]),ks("onMouseLeave",["mouseout","mouseover"]),ks("onPointerEnter",["pointerout","pointerover"]),ks("onPointerLeave",["pointerout","pointerover"]),Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function cy(a,i){i=(i&4)!==0;for(var l=0;l<a.length;l++){var d=a[l],g=d.event;d=d.listeners;e:{var v=void 0;if(i)for(var E=d.length-1;0<=E;E--){var j=d[E],P=j.instance,G=j.currentTarget;if(j=j.listener,P!==v&&g.isPropagationStopped())break e;v=j,g.currentTarget=G;try{v(g)}catch(ae){Ql(ae)}g.currentTarget=null,v=P}else for(E=0;E<d.length;E++){if(j=d[E],P=j.instance,G=j.currentTarget,j=j.listener,P!==v&&g.isPropagationStopped())break e;v=j,g.currentTarget=G;try{v(g)}catch(ae){Ql(ae)}g.currentTarget=null,v=P}}}}function qe(a,i){var l=i[Hu];l===void 0&&(l=i[Hu]=new Set);var d=a+"__bubble";l.has(d)||(uy(i,a,2,!1),l.add(d))}function jf(a,i,l){var d=0;i&&(d|=4),uy(l,a,d,i)}var ic="_reactListening"+Math.random().toString(36).slice(2);function Tf(a){if(!a[ic]){a[ic]=!0,rm.forEach(function(l){l!=="selectionchange"&&(_2.has(l)||jf(l,!1,a),jf(l,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[ic]||(i[ic]=!0,jf("selectionchange",!1,i))}}function uy(a,i,l,d){switch(Ry(i)){case 2:var g=W2;break;case 8:g=G2;break;default:g=If}l=g.bind(null,i,l,a),g=void 0,!Xu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),d?g!==void 0?a.addEventListener(i,l,{capture:!0,passive:g}):a.addEventListener(i,l,!0):g!==void 0?a.addEventListener(i,l,{passive:g}):a.addEventListener(i,l,!1)}function Mf(a,i,l,d,g){var v=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var j=d.stateNode.containerInfo;if(j===g)break;if(E===4)for(E=d.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;j!==null;){if(E=xs(j),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){d=v=E;continue e}j=j.parentNode}}d=d.return}ym(function(){var G=v,ae=Wu(l),oe=[];e:{var Z=Ym.get(a);if(Z!==void 0){var J=xl,Ee=a;switch(a){case"keypress":if(bl(l)===0)break e;case"keydown":case"keyup":J=gw;break;case"focusin":Ee="focus",J=td;break;case"focusout":Ee="blur",J=td;break;case"beforeblur":case"afterblur":J=td;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=aw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=vw;break;case Fm:case zm:case qm:J=ow;break;case Im:J=ww;break;case"scroll":case"scrollend":J=nw;break;case"wheel":J=kw;break;case"copy":case"cut":case"paste":J=cw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=_m;break;case"toggle":case"beforetoggle":J=Dw}var ke=(i&4)!==0,ht=!ke&&(a==="scroll"||a==="scrollend"),Q=ke?Z!==null?Z+"Capture":null:Z;ke=[];for(var Y=G,W;Y!==null;){var se=Y;if(W=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||W===null||Q===null||(se=Hi(Y,Q),se!=null&&ke.push(ko(Y,se,W))),ht)break;Y=Y.return}0<ke.length&&(Z=new J(Z,Ee,null,l,ae),oe.push({event:Z,listeners:ke}))}}if((i&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",J=a==="mouseout"||a==="pointerout",Z&&l!==Vu&&(Ee=l.relatedTarget||l.fromElement)&&(xs(Ee)||Ee[vs]))break e;if((J||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Ee=l.relatedTarget||l.toElement,J=G,Ee=Ee?xs(Ee):null,Ee!==null&&(ht=o(Ee),ke=Ee.tag,Ee!==ht||ke!==5&&ke!==27&&ke!==6)&&(Ee=null)):(J=null,Ee=G),J!==Ee)){if(ke=xm,se="onMouseLeave",Q="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(ke=_m,se="onPointerLeave",Q="onPointerEnter",Y="pointer"),ht=J==null?Z:Bi(J),W=Ee==null?Z:Bi(Ee),Z=new ke(se,Y+"leave",J,l,ae),Z.target=ht,Z.relatedTarget=W,se=null,xs(ae)===G&&(ke=new ke(Q,Y+"enter",Ee,l,ae),ke.target=W,ke.relatedTarget=ht,se=ke),ht=se,J&&Ee)t:{for(ke=J,Q=Ee,Y=0,W=ke;W;W=ei(W))Y++;for(W=0,se=Q;se;se=ei(se))W++;for(;0<Y-W;)ke=ei(ke),Y--;for(;0<W-Y;)Q=ei(Q),W--;for(;Y--;){if(ke===Q||Q!==null&&ke===Q.alternate)break t;ke=ei(ke),Q=ei(Q)}ke=null}else ke=null;J!==null&&dy(oe,Z,J,ke,!1),Ee!==null&&ht!==null&&dy(oe,ht,Ee,ke,!0)}}e:{if(Z=G?Bi(G):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var ye=Tm;else if(Nm(Z))if(Mm)ye=Lw;else{ye=Aw;var Fe=Ow}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?G&&Ku(G.elementType)&&(ye=Tm):ye=Rw;if(ye&&(ye=ye(a,G))){jm(oe,ye,l,ae);break e}Fe&&Fe(a,Z,G),a==="focusout"&&G&&Z.type==="number"&&G.memoizedProps.value!=null&&Qu(Z,"number",Z.value)}switch(Fe=G?Bi(G):window,a){case"focusin":(Nm(Fe)||Fe.contentEditable==="true")&&(Ts=Fe,od=G,Vi=null);break;case"focusout":Vi=od=Ts=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,Bm(oe,l,ae);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":Bm(oe,l,ae)}var xe;if(rd)e:{switch(a){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else js?Em(a,l)&&(Se="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(km&&l.locale!=="ko"&&(js||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&js&&(xe=bm()):(Jr=ae,Zu="value"in Jr?Jr.value:Jr.textContent,js=!0)),Fe=oc(G,Se),0<Fe.length&&(Se=new wm(Se,a,null,l,ae),oe.push({event:Se,listeners:Fe}),xe?Se.data=xe:(xe=Cm(l),xe!==null&&(Se.data=xe)))),(xe=Cw?Nw(a,l):jw(a,l))&&(Se=oc(G,"onBeforeInput"),0<Se.length&&(Fe=new wm("onBeforeInput","beforeinput",null,l,ae),oe.push({event:Fe,listeners:Se}),Fe.data=xe)),v2(oe,a,G,l,ae)}cy(oe,i)})}function ko(a,i,l){return{instance:a,listener:i,currentTarget:l}}function oc(a,i){for(var l=i+"Capture",d=[];a!==null;){var g=a,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Hi(a,l),g!=null&&d.unshift(ko(a,g,v)),g=Hi(a,i),g!=null&&d.push(ko(a,g,v))),a.tag===3)return d;a=a.return}return[]}function ei(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function dy(a,i,l,d,g){for(var v=i._reactName,E=[];l!==null&&l!==d;){var j=l,P=j.alternate,G=j.stateNode;if(j=j.tag,P!==null&&P===d)break;j!==5&&j!==26&&j!==27||G===null||(P=G,g?(G=Hi(l,v),G!=null&&E.unshift(ko(l,G,P))):g||(G=Hi(l,v),G!=null&&E.push(ko(l,G,P)))),l=l.return}E.length!==0&&a.push({event:i,listeners:E})}var k2=/\r\n?/g,S2=/\u0000|\uFFFD/g;function fy(a){return(typeof a=="string"?a:""+a).replace(k2,`
`).replace(S2,"")}function hy(a,i){return i=fy(i),fy(a)===i}function lc(){}function ft(a,i,l,d,g,v){switch(l){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||Es(a,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&Es(a,""+d);break;case"className":hl(a,"class",d);break;case"tabIndex":hl(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":hl(a,l,d);break;case"style":pm(a,d,v);break;case"data":if(i!=="object"){hl(a,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||l!=="href")){a.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=gl(""+d),a.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&ft(a,i,"name",g.name,g,null),ft(a,i,"formEncType",g.formEncType,g,null),ft(a,i,"formMethod",g.formMethod,g,null),ft(a,i,"formTarget",g.formTarget,g,null)):(ft(a,i,"encType",g.encType,g,null),ft(a,i,"method",g.method,g,null),ft(a,i,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=gl(""+d),a.setAttribute(l,d);break;case"onClick":d!=null&&(a.onclick=lc);break;case"onScroll":d!=null&&qe("scroll",a);break;case"onScrollEnd":d!=null&&qe("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}l=gl(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""+d):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":d===!0?a.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,d):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(l,d):a.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(l):a.setAttribute(l,d);break;case"popover":qe("beforetoggle",a),qe("toggle",a),fl(a,"popover",d);break;case"xlinkActuate":Sr(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Sr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Sr(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Sr(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Sr(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Sr(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Sr(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Sr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Sr(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":fl(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ew.get(l)||l,fl(a,l,d))}}function Of(a,i,l,d,g,v){switch(l){case"style":pm(a,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"children":typeof d=="string"?Es(a,d):(typeof d=="number"||typeof d=="bigint")&&Es(a,""+d);break;case"onScroll":d!=null&&qe("scroll",a);break;case"onScrollEnd":d!=null&&qe("scrollend",a);break;case"onClick":d!=null&&(a.onclick=lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!am.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),v=a[yn]||null,v=v!=null?v[l]:null,typeof v=="function"&&a.removeEventListener(i,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(i,d,g);break e}l in a?a[l]=d:d===!0?a.setAttribute(l,""):fl(a,l,d)}}}function an(a,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",a),qe("load",a);var d=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var E=l[v];if(E!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(a,i,v,E,l,null)}}g&&ft(a,i,"srcSet",l.srcSet,l,null),d&&ft(a,i,"src",l.src,l,null);return;case"input":qe("invalid",a);var j=v=E=g=null,P=null,G=null;for(d in l)if(l.hasOwnProperty(d)){var ae=l[d];if(ae!=null)switch(d){case"name":g=ae;break;case"type":E=ae;break;case"checked":P=ae;break;case"defaultChecked":G=ae;break;case"value":v=ae;break;case"defaultValue":j=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,i));break;default:ft(a,i,d,ae,l,null)}}dm(a,v,j,P,G,E,g,!1),ml(a);return;case"select":qe("invalid",a),d=E=v=null;for(g in l)if(l.hasOwnProperty(g)&&(j=l[g],j!=null))switch(g){case"value":v=j;break;case"defaultValue":E=j;break;case"multiple":d=j;default:ft(a,i,g,j,l,null)}i=v,l=E,a.multiple=!!d,i!=null?Ds(a,!!d,i,!1):l!=null&&Ds(a,!!d,l,!0);return;case"textarea":qe("invalid",a),v=g=d=null;for(E in l)if(l.hasOwnProperty(E)&&(j=l[E],j!=null))switch(E){case"value":d=j;break;case"defaultValue":g=j;break;case"children":v=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:ft(a,i,E,j,l,null)}hm(a,d,g,v),ml(a);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(d=l[P],d!=null))switch(P){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ft(a,i,P,d,l,null)}return;case"dialog":qe("beforetoggle",a),qe("toggle",a),qe("cancel",a),qe("close",a);break;case"iframe":case"object":qe("load",a);break;case"video":case"audio":for(d=0;d<_o.length;d++)qe(_o[d],a);break;case"image":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"embed":case"source":case"link":qe("error",a),qe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(d=l[G],d!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(a,i,G,d,l,null)}return;default:if(Ku(i)){for(ae in l)l.hasOwnProperty(ae)&&(d=l[ae],d!==void 0&&Of(a,i,ae,d,l,void 0));return}}for(j in l)l.hasOwnProperty(j)&&(d=l[j],d!=null&&ft(a,i,j,d,l,null))}function D2(a,i,l,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,E=null,j=null,P=null,G=null,ae=null;for(J in l){var oe=l[J];if(l.hasOwnProperty(J)&&oe!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":P=oe;default:d.hasOwnProperty(J)||ft(a,i,J,null,d,oe)}}for(var Z in d){var J=d[Z];if(oe=l[Z],d.hasOwnProperty(Z)&&(J!=null||oe!=null))switch(Z){case"type":v=J;break;case"name":g=J;break;case"checked":G=J;break;case"defaultChecked":ae=J;break;case"value":E=J;break;case"defaultValue":j=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:J!==oe&&ft(a,i,Z,J,d,oe)}}Yu(a,E,j,P,G,ae,v,g);return;case"select":J=E=j=Z=null;for(v in l)if(P=l[v],l.hasOwnProperty(v)&&P!=null)switch(v){case"value":break;case"multiple":J=P;default:d.hasOwnProperty(v)||ft(a,i,v,null,d,P)}for(g in d)if(v=d[g],P=l[g],d.hasOwnProperty(g)&&(v!=null||P!=null))switch(g){case"value":Z=v;break;case"defaultValue":j=v;break;case"multiple":E=v;default:v!==P&&ft(a,i,g,v,d,P)}i=j,l=E,d=J,Z!=null?Ds(a,!!l,Z,!1):!!d!=!!l&&(i!=null?Ds(a,!!l,i,!0):Ds(a,!!l,l?[]:"",!1));return;case"textarea":J=Z=null;for(j in l)if(g=l[j],l.hasOwnProperty(j)&&g!=null&&!d.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:ft(a,i,j,null,d,g)}for(E in d)if(g=d[E],v=l[E],d.hasOwnProperty(E)&&(g!=null||v!=null))switch(E){case"value":Z=g;break;case"defaultValue":J=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&ft(a,i,E,g,d,v)}fm(a,Z,J);return;case"option":for(var Ee in l)if(Z=l[Ee],l.hasOwnProperty(Ee)&&Z!=null&&!d.hasOwnProperty(Ee))switch(Ee){case"selected":a.selected=!1;break;default:ft(a,i,Ee,null,d,Z)}for(P in d)if(Z=d[P],J=l[P],d.hasOwnProperty(P)&&Z!==J&&(Z!=null||J!=null))switch(P){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ft(a,i,P,Z,d,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)Z=l[ke],l.hasOwnProperty(ke)&&Z!=null&&!d.hasOwnProperty(ke)&&ft(a,i,ke,null,d,Z);for(G in d)if(Z=d[G],J=l[G],d.hasOwnProperty(G)&&Z!==J&&(Z!=null||J!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,i));break;default:ft(a,i,G,Z,d,J)}return;default:if(Ku(i)){for(var ht in l)Z=l[ht],l.hasOwnProperty(ht)&&Z!==void 0&&!d.hasOwnProperty(ht)&&Of(a,i,ht,void 0,d,Z);for(ae in d)Z=d[ae],J=l[ae],!d.hasOwnProperty(ae)||Z===J||Z===void 0&&J===void 0||Of(a,i,ae,Z,d,J);return}}for(var Q in l)Z=l[Q],l.hasOwnProperty(Q)&&Z!=null&&!d.hasOwnProperty(Q)&&ft(a,i,Q,null,d,Z);for(oe in d)Z=d[oe],J=l[oe],!d.hasOwnProperty(oe)||Z===J||Z==null&&J==null||ft(a,i,oe,Z,d,J)}var Af=null,Rf=null;function cc(a){return a.nodeType===9?a:a.ownerDocument}function my(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function py(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function Lf(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $f=null;function E2(){var a=window.event;return a&&a.type==="popstate"?a===$f?!1:($f=a,!0):($f=null,!1)}var gy=typeof setTimeout=="function"?setTimeout:void 0,C2=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(a){return yy.resolve(null).then(a).catch(j2)}:gy;function j2(a){setTimeout(function(){throw a})}function pa(a){return a==="head"}function by(a,i){var l=i,d=0,g=0;do{var v=l.nextSibling;if(a.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<d&&8>d){l=d;var E=a.ownerDocument;if(l&1&&So(E.documentElement),l&2&&So(E.body),l&4)for(l=E.head,So(l),E=l.firstChild;E;){var j=E.nextSibling,P=E.nodeName;E[Ui]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=j}}if(g===0){a.removeChild(v),Oo(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:d=l.charCodeAt(0)-48;else d=0;l=v}while(l);Oo(i)}function Pf(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Pf(l),Fu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function T2(a,i,l,d){for(;a.nodeType===1;){var g=l;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Ui])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Xn(a.nextSibling),a===null)break}return null}function M2(a,i,l){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Xn(a.nextSibling),a===null))return null;return a}function Uf(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function O2(a,i){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")i();else{var d=function(){i(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Xn(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return a}var Bf=null;function vy(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return a;i--}else l==="/$"&&i++}a=a.previousSibling}return null}function xy(a,i,l){switch(i=cc(l),a){case"html":if(a=i.documentElement,!a)throw Error(r(452));return a;case"head":if(a=i.head,!a)throw Error(r(453));return a;case"body":if(a=i.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function So(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Fu(a)}var zn=new Map,wy=new Set;function uc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ur=H.d;H.d={f:A2,r:R2,D:L2,C:$2,L:P2,m:U2,X:H2,S:B2,M:F2};function A2(){var a=Ur.f(),i=tc();return a||i}function R2(a){var i=ws(a);i!==null&&i.tag===5&&i.type==="form"?Fp(i):Ur.r(a)}var ti=typeof document>"u"?null:document;function _y(a,i,l){var d=ti;if(d&&typeof i=="string"&&i){var g=Ln(i);g='link[rel="'+a+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),wy.has(g)||(wy.add(g),a={rel:a,crossOrigin:l,href:i},d.querySelector(g)===null&&(i=d.createElement("link"),an(i,"link",a),Vt(i),d.head.appendChild(i)))}}function L2(a){Ur.D(a),_y("dns-prefetch",a,null)}function $2(a,i){Ur.C(a,i),_y("preconnect",a,i)}function P2(a,i,l){Ur.L(a,i,l);var d=ti;if(d&&a&&i){var g='link[rel="preload"][as="'+Ln(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Ln(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Ln(l.imageSizes)+'"]')):g+='[href="'+Ln(a)+'"]';var v=g;switch(i){case"style":v=ni(a);break;case"script":v=ri(a)}zn.has(v)||(a=p({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:a,as:i},l),zn.set(v,a),d.querySelector(g)!==null||i==="style"&&d.querySelector(Do(v))||i==="script"&&d.querySelector(Eo(v))||(i=d.createElement("link"),an(i,"link",a),Vt(i),d.head.appendChild(i)))}}function U2(a,i){Ur.m(a,i);var l=ti;if(l&&a){var d=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Ln(d)+'"][href="'+Ln(a)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ri(a)}if(!zn.has(v)&&(a=p({rel:"modulepreload",href:a},i),zn.set(v,a),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Eo(v)))return}d=l.createElement("link"),an(d,"link",a),Vt(d),l.head.appendChild(d)}}}function B2(a,i,l){Ur.S(a,i,l);var d=ti;if(d&&a){var g=_s(d).hoistableStyles,v=ni(a);i=i||"default";var E=g.get(v);if(!E){var j={loading:0,preload:null};if(E=d.querySelector(Do(v)))j.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":i},l),(l=zn.get(v))&&Hf(a,l);var P=E=d.createElement("link");Vt(P),an(P,"link",a),P._p=new Promise(function(G,ae){P.onload=G,P.onerror=ae}),P.addEventListener("load",function(){j.loading|=1}),P.addEventListener("error",function(){j.loading|=2}),j.loading|=4,dc(E,i,d)}E={type:"stylesheet",instance:E,count:1,state:j},g.set(v,E)}}}function H2(a,i){Ur.X(a,i);var l=ti;if(l&&a){var d=_s(l).hoistableScripts,g=ri(a),v=d.get(g);v||(v=l.querySelector(Eo(g)),v||(a=p({src:a,async:!0},i),(i=zn.get(g))&&Ff(a,i),v=l.createElement("script"),Vt(v),an(v,"link",a),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function F2(a,i){Ur.M(a,i);var l=ti;if(l&&a){var d=_s(l).hoistableScripts,g=ri(a),v=d.get(g);v||(v=l.querySelector(Eo(g)),v||(a=p({src:a,async:!0,type:"module"},i),(i=zn.get(g))&&Ff(a,i),v=l.createElement("script"),Vt(v),an(v,"link",a),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function ky(a,i,l,d){var g=(g=ie.current)?uc(g):null;if(!g)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=ni(l.href),l=_s(g).hoistableStyles,d=l.get(i),d||(d={type:"style",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=ni(l.href);var v=_s(g).hoistableStyles,E=v.get(a);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,E),(v=g.querySelector(Do(a)))&&!v._p&&(E.instance=v,E.state.loading=5),zn.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},zn.set(a,l),v||z2(g,a,l,E.state))),i&&d===null)throw Error(r(528,""));return E}if(i&&d!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ri(l),l=_s(g).hoistableScripts,d=l.get(i),d||(d={type:"script",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ni(a){return'href="'+Ln(a)+'"'}function Do(a){return'link[rel="stylesheet"]['+a+"]"}function Sy(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function z2(a,i,l,d){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=a.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),an(i,"link",l),Vt(i),a.head.appendChild(i))}function ri(a){return'[src="'+Ln(a)+'"]'}function Eo(a){return"script[async]"+a}function Dy(a,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var d=a.querySelector('style[data-href~="'+Ln(l.href)+'"]');if(d)return i.instance=d,Vt(d),d;var g=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),Vt(d),an(d,"style",g),dc(d,l.precedence,a),i.instance=d;case"stylesheet":g=ni(l.href);var v=a.querySelector(Do(g));if(v)return i.state.loading|=4,i.instance=v,Vt(v),v;d=Sy(l),(g=zn.get(g))&&Hf(d,g),v=(a.ownerDocument||a).createElement("link"),Vt(v);var E=v;return E._p=new Promise(function(j,P){E.onload=j,E.onerror=P}),an(v,"link",d),i.state.loading|=4,dc(v,l.precedence,a),i.instance=v;case"script":return v=ri(l.src),(g=a.querySelector(Eo(v)))?(i.instance=g,Vt(g),g):(d=l,(g=zn.get(v))&&(d=p({},l),Ff(d,g)),a=a.ownerDocument||a,g=a.createElement("script"),Vt(g),an(g,"link",d),a.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,dc(d,l.precedence,a));return i.instance}function dc(a,i,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,E=0;E<d.length;E++){var j=d[E];if(j.dataset.precedence===i)v=j;else if(v!==g)break}v?v.parentNode.insertBefore(a,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(a,i.firstChild))}function Hf(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function Ff(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var fc=null;function Ey(a,i,l){if(fc===null){var d=new Map,g=fc=new Map;g.set(l,d)}else g=fc,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(a))return d;for(d.set(a,null),l=l.getElementsByTagName(a),g=0;g<l.length;g++){var v=l[g];if(!(v[Ui]||v[on]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(i)||"";E=a+E;var j=d.get(E);j?j.push(v):d.set(E,[v])}}return d}function Cy(a,i,l){a=a.ownerDocument||a,a.head.insertBefore(l,i==="title"?a.querySelector("head > title"):null)}function q2(a,i,l){if(l===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ny(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Co=null;function I2(){}function Y2(a,i,l){if(Co===null)throw Error(r(475));var d=Co;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=ni(l.href),v=a.querySelector(Do(g));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=hc.bind(d),a.then(d,d)),i.state.loading|=4,i.instance=v,Vt(v);return}v=a.ownerDocument||a,l=Sy(l),(g=zn.get(g))&&Hf(l,g),v=v.createElement("link"),Vt(v);var E=v;E._p=new Promise(function(j,P){E.onload=j,E.onerror=P}),an(v,"link",l),i.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=hc.bind(d),a.addEventListener("load",i),a.addEventListener("error",i))}}function Q2(){if(Co===null)throw Error(r(475));var a=Co;return a.stylesheets&&a.count===0&&zf(a,a.stylesheets),0<a.count?function(i){var l=setTimeout(function(){if(a.stylesheets&&zf(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=i,function(){a.unsuspend=null,clearTimeout(l)}}:null}function hc(){if(this.count--,this.count===0){if(this.stylesheets)zf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var mc=null;function zf(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,mc=new Map,i.forEach(K2,a),mc=null,hc.call(a))}function K2(a,i){if(!(i.state.loading&4)){var l=mc.get(a);if(l)var d=l.get(null);else{l=new Map,mc.set(a,l);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var E=g[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),d=E)}d&&l.set(null,d)}g=i.instance,E=g.getAttribute("data-precedence"),v=l.get(E)||d,v===d&&l.set(null,g),l.set(E,g),this.count++,d=hc.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),i.state.loading|=4}}var No={$$typeof:C,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function V2(a,i,l,d,g,v,E,j){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function jy(a,i,l,d,g,v,E,j,P,G,ae,oe){return a=new V2(a,i,l,E,j,P,G,oe),i=1,v===!0&&(i|=24),v=En(3,null,null,i),a.current=v,v.stateNode=a,i=_d(),i.refCount++,a.pooledCache=i,i.refCount++,v.memoizedState={element:d,isDehydrated:l,cache:i},Ed(v),a}function Ty(a){return a?(a=Rs,a):Rs}function My(a,i,l,d,g,v){g=Ty(g),d.context===null?d.context=g:d.pendingContext=g,d=na(i),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=ra(a,d,i),l!==null&&(Mn(l,a,i),ro(l,a,i))}function Oy(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<i?l:i}}function qf(a,i){Oy(a,i),(a=a.alternate)&&Oy(a,i)}function Ay(a){if(a.tag===13){var i=As(a,67108864);i!==null&&Mn(i,a,67108864),qf(a,67108864)}}var pc=!0;function W2(a,i,l,d){var g=A.T;A.T=null;var v=H.p;try{H.p=2,If(a,i,l,d)}finally{H.p=v,A.T=g}}function G2(a,i,l,d){var g=A.T;A.T=null;var v=H.p;try{H.p=8,If(a,i,l,d)}finally{H.p=v,A.T=g}}function If(a,i,l,d){if(pc){var g=Yf(d);if(g===null)Mf(a,i,d,gc,l),Ly(a,d);else if(Z2(g,a,i,l,d))d.stopPropagation();else if(Ly(a,d),i&4&&-1<X2.indexOf(a)){for(;g!==null;){var v=ws(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=Ct(v.pendingLanes);if(E!==0){var j=v;for(j.pendingLanes|=2,j.entangledLanes|=2;E;){var P=1<<31-ve(E);j.entanglements[1]|=P,E&=~P}ur(v),(lt&6)===0&&(Jl=$e()+500,wo(0))}}break;case 13:j=As(v,2),j!==null&&Mn(j,v,2),tc(),qf(v,2)}if(v=Yf(d),v===null&&Mf(a,i,d,gc,l),v===g)break;g=v}g!==null&&d.stopPropagation()}else Mf(a,i,d,null,l)}}function Yf(a){return a=Wu(a),Qf(a)}var gc=null;function Qf(a){if(gc=null,a=xs(a),a!==null){var i=o(a);if(i===null)a=null;else{var l=i.tag;if(l===13){if(a=c(i),a!==null)return a;a=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return gc=a,null}function Ry(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pe()){case _e:return 2;case Oe:return 8;case be:case Pe:return 32;case Je:return 268435456;default:return 32}default:return 32}}var Kf=!1,ga=null,ya=null,ba=null,jo=new Map,To=new Map,va=[],X2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ly(a,i){switch(a){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":jo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(i.pointerId)}}function Mo(a,i,l,d,g,v){return a===null||a.nativeEvent!==v?(a={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},i!==null&&(i=ws(i),i!==null&&Ay(i)),a):(a.eventSystemFlags|=d,i=a.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),a)}function Z2(a,i,l,d,g){switch(i){case"focusin":return ga=Mo(ga,a,i,l,d,g),!0;case"dragenter":return ya=Mo(ya,a,i,l,d,g),!0;case"mouseover":return ba=Mo(ba,a,i,l,d,g),!0;case"pointerover":var v=g.pointerId;return jo.set(v,Mo(jo.get(v)||null,a,i,l,d,g)),!0;case"gotpointercapture":return v=g.pointerId,To.set(v,Mo(To.get(v)||null,a,i,l,d,g)),!0}return!1}function $y(a){var i=xs(a.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){a.blockedOn=i,Yx(a.priority,function(){if(l.tag===13){var d=Tn();d=Uu(d);var g=As(l,d);g!==null&&Mn(g,l,d),qf(l,d)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function yc(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var l=Yf(a.nativeEvent);if(l===null){l=a.nativeEvent;var d=new l.constructor(l.type,l);Vu=d,l.target.dispatchEvent(d),Vu=null}else return i=ws(l),i!==null&&Ay(i),a.blockedOn=l,!1;i.shift()}return!0}function Py(a,i,l){yc(a)&&l.delete(i)}function J2(){Kf=!1,ga!==null&&yc(ga)&&(ga=null),ya!==null&&yc(ya)&&(ya=null),ba!==null&&yc(ba)&&(ba=null),jo.forEach(Py),To.forEach(Py)}function bc(a,i){a.blockedOn===i&&(a.blockedOn=null,Kf||(Kf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,J2)))}var vc=null;function Uy(a){vc!==a&&(vc=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vc===a&&(vc=null);for(var i=0;i<a.length;i+=3){var l=a[i],d=a[i+1],g=a[i+2];if(typeof d!="function"){if(Qf(d||l)===null)continue;break}var v=ws(l);v!==null&&(a.splice(i,3),i-=3,Yd(v,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function Oo(a){function i(P){return bc(P,a)}ga!==null&&bc(ga,a),ya!==null&&bc(ya,a),ba!==null&&bc(ba,a),jo.forEach(i),To.forEach(i);for(var l=0;l<va.length;l++){var d=va[l];d.blockedOn===a&&(d.blockedOn=null)}for(;0<va.length&&(l=va[0],l.blockedOn===null);)$y(l),l.blockedOn===null&&va.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],v=l[d+1],E=g[yn]||null;if(typeof v=="function")E||Uy(l);else if(E){var j=null;if(v&&v.hasAttribute("formAction")){if(g=v,E=v[yn]||null)j=E.formAction;else if(Qf(g)!==null)continue}else j=E.action;typeof j=="function"?l[d+1]=j:(l.splice(d,3),d-=3),Uy(l)}}}function Vf(a){this._internalRoot=a}xc.prototype.render=Vf.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,d=Tn();My(l,d,a,i,null,null)},xc.prototype.unmount=Vf.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;My(a.current,2,null,a,null,null),tc(),i[vs]=null}};function xc(a){this._internalRoot=a}xc.prototype.unstable_scheduleHydration=function(a){if(a){var i=tm();a={blockedOn:null,target:a,priority:i};for(var l=0;l<va.length&&i!==0&&i<va[l].priority;l++);va.splice(l,0,a),l===0&&$y(a)}};var By=e.version;if(By!=="19.1.1")throw Error(r(527,By,"19.1.1"));H.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(i),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var e_={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Ke=wc.inject(e_),je=wc}catch{}}return Ro.createRoot=function(a,i){if(!s(a))throw Error(r(299));var l=!1,d="",g=tg,v=ng,E=rg,j=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(j=i.unstable_transitionCallbacks)),i=jy(a,1,!1,null,null,l,d,g,v,E,j,null),a[vs]=i.current,Tf(a),new Vf(i)},Ro.hydrateRoot=function(a,i,l){if(!s(a))throw Error(r(299));var d=!1,g="",v=tg,E=ng,j=rg,P=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(j=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(P=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),i=jy(a,1,!0,i,l??null,d,g,v,E,j,P,G),i.context=Ty(null),l=i.current,d=Tn(),d=Uu(d),g=na(d),g.callback=null,ra(l,g,d),l=d,i.current.lanes=l,et(i,l),ur(i),a[vs]=i.current,Tf(a),new xc(i)},Ro.version="19.1.1",Ro}var Wy;function d_(){if(Wy)return Gf.exports;Wy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gf.exports=u_(),Gf.exports}var f_=d_();const h_=bu(f_);var th={exports:{}},nh={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function m_(){if(Gy)return nh;Gy=1;var t=vu().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return nh.c=function(e){return t.H.useMemoCache(e)},nh}var Xy;function p_(){return Xy||(Xy=1,th.exports=m_()),th.exports}var ue=p_(),N=vu();const ee=bu(N),Yv=n_({__proto__:null,default:ee},[N]);var Lo={},Zy;function g_(){if(Zy)return Lo;Zy=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.parse=c,Lo.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,w){const x=new o,k=b.length;if(k<2)return x;const _=w?.decode||p;let S=0;do{const D=b.indexOf("=",S);if(D===-1)break;const C=b.indexOf(";",S),T=C===-1?k:C;if(D>T){S=b.lastIndexOf(";",D-1)+1;continue}const M=u(b,S,D),L=f(b,D,M),R=b.slice(M,L);if(x[R]===void 0){let $=u(b,D+1,T),U=f(b,T,$);const q=_(b.slice($,U));x[R]=q}S=T+1}while(S<k);return x}function u(b,w,x){do{const k=b.charCodeAt(w);if(k!==32&&k!==9)return w}while(++w<x);return x}function f(b,w,x){for(;w>x;){const k=b.charCodeAt(--w);if(k!==32&&k!==9)return w+1}return x}function m(b,w,x){const k=x?.encode||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const _=k(w);if(!e.test(_))throw new TypeError(`argument val is invalid: ${w}`);let S=b+"="+_;if(!x)return S;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);S+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);S+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);S+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);S+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(S+="; HttpOnly"),x.secure&&(S+="; Secure"),x.partitioned&&(S+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return S}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return Lo}g_();var Jy="popstate";function y_(t={}){function e(r,s){let{pathname:o,search:c,hash:u}=r.location;return jh("",{pathname:o,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vo(s)}return v_(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b_(){return Math.random().toString(36).substring(2,10)}function eb(t,e){return{usr:t.state,key:t.key,idx:e}}function jh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Mi(e):e,state:n,key:e&&e.key||r||b_()}}function Vo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function v_(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,u="POP",f=null,m=p();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function p(){return(c.state||{idx:null}).idx}function y(){u="POP";let _=p(),S=_==null?null:_-m;m=_,f&&f({action:u,location:k.location,delta:S})}function b(_,S){u="PUSH";let D=jh(k.location,_,S);m=p()+1;let C=eb(D,m),T=k.createHref(D);try{c.pushState(C,"",T)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(T)}o&&f&&f({action:u,location:k.location,delta:1})}function w(_,S){u="REPLACE";let D=jh(k.location,_,S);m=p();let C=eb(D,m),T=k.createHref(D);c.replaceState(C,"",T),o&&f&&f({action:u,location:k.location,delta:0})}function x(_){return x_(_)}let k={get action(){return u},get location(){return t(s,c)},listen(_){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Jy,y),f=_,()=>{s.removeEventListener(Jy,y),f=null}},createHref(_){return e(s,_)},createURL:x,encodeLocation(_){let S=x(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:w,go(_){return c.go(_)}};return k}function x_(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),wt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Vo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Qv(t,e,n="/"){return w_(t,e,n,!1)}function w_(t,e,n,r){let s=typeof e=="string"?Mi(e):e,o=Kr(s.pathname||"/",n);if(o==null)return null;let c=Kv(t);__(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=A_(o);u=M_(c[f],m,r)}return u}function Kv(t,e=[],n=[],r=""){let s=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(wt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Fr([r,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(wt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Kv(o.children,e,p,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:j_(m,o.index),routesMeta:p})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))s(o,c);else for(let u of Vv(o.path))s(o,c,u)}),e}function Vv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=Vv(r.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),s&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function __(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var k_=/^:[\w-]+$/,S_=3,D_=2,E_=1,C_=10,N_=-2,tb=t=>t==="*";function j_(t,e){let n=t.split("/"),r=n.length;return n.some(tb)&&(r+=N_),e&&(r+=D_),n.filter(s=>!tb(s)).reduce((s,o)=>s+(k_.test(o)?S_:o===""?E_:C_),r)}function T_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function M_(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=Wc({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},p),b=f.route;if(!y&&m&&n&&!r[r.length-1].route.index&&(y=Wc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),c.push({params:s,pathname:Fr([o,y.pathname]),pathnameBase:P_(Fr([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=Fr([o,y.pathnameBase]))}return c}function Wc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=O_(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((m,{paramName:p,isOptional:y},b)=>{if(p==="*"){let x=u[b]||"";c=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=u[b];return y&&!w?m[p]=void 0:m[p]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function O_(t,e=!1,n=!0){tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function A_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function R_(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Mi(t):t;return{pathname:n?n.startsWith("/")?n:L_(n,e):e,search:U_(r),hash:B_(s)}}function L_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function rh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function u0(t){let e=$_(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function d0(t,e,n,r=!1){let s;typeof t=="string"?s=Mi(t):(s={...t},wt(!s.pathname||!s.pathname.includes("?"),rh("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),rh("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),rh("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,u;if(c==null)u=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}u=y>=0?e[y]:"/"}let f=R_(s,u),m=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||p)&&(f.pathname+="/"),f}var Fr=t=>t.join("/").replace(/\/\/+/g,"/"),P_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,B_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function H_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Wv=["POST","PUT","PATCH","DELETE"];new Set(Wv);var F_=["GET",...Wv];new Set(F_);var Oi=N.createContext(null);Oi.displayName="DataRouter";var xu=N.createContext(null);xu.displayName="DataRouterState";var Gv=N.createContext({isTransitioning:!1});Gv.displayName="ViewTransition";var z_=N.createContext(new Map);z_.displayName="Fetchers";var q_=N.createContext(null);q_.displayName="Await";var rr=N.createContext(null);rr.displayName="Navigation";var tl=N.createContext(null);tl.displayName="Location";var ar=N.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var f0=N.createContext(null);f0.displayName="RouteError";function I_(t,{relative:e}={}){wt(Ai(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(rr),{hash:s,pathname:o,search:c}=nl(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Fr([n,o])),r.createHref({pathname:u,search:c,hash:s})}function Ai(){return N.useContext(tl)!=null}function _r(){return wt(Ai(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(tl).location}var Xv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zv(t){N.useContext(rr).static||N.useLayoutEffect(t)}function gn(){let{isDataRoute:t}=N.useContext(ar);return t?rk():Y_()}function Y_(){wt(Ai(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Oi),{basename:e,navigator:n}=N.useContext(rr),{matches:r}=N.useContext(ar),{pathname:s}=_r(),o=JSON.stringify(u0(r)),c=N.useRef(!1);return Zv(()=>{c.current=!0}),N.useCallback((f,m={})=>{if(tr(c.current,Xv),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=d0(f,JSON.parse(o),s,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Fr([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,o,s,t])}N.createContext(null);function Gr(){let{matches:t}=N.useContext(ar),e=t[t.length-1];return e?e.params:{}}function nl(t,{relative:e}={}){let{matches:n}=N.useContext(ar),{pathname:r}=_r(),s=JSON.stringify(u0(n));return N.useMemo(()=>d0(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Q_(t,e){return Jv(t,e)}function Jv(t,e,n,r){wt(Ai(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(rr),{matches:o}=N.useContext(ar),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let S=p&&p.path||"";e1(f,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=_r(),b;if(e){let S=typeof e=="string"?Mi(e):e;wt(m==="/"||S.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),b=S}else b=y;let w=b.pathname||"/",x=w;if(m!=="/"){let S=m.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(S.length).join("/")}let k=Qv(t,{pathname:x});tr(p||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),tr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=X_(k&&k.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Fr([m,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:Fr([m,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return e&&_?N.createElement(tl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},_):_}function K_(){let t=nk(),e=H_(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,c)}var V_=N.createElement(K_,null),W_=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(ar.Provider,{value:this.props.routeContext},N.createElement(f0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function G_({routeContext:t,match:e,children:n}){let r=N.useContext(Oi);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ar.Provider,{value:t},n)}function X_(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n?.errors;if(o!=null){let f=s.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);wt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:p,errors:y}=n,b=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,m,p)=>{let y,b=!1,w=null,x=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||V_,c&&(u<0&&p===0?(e1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):u===p&&(b=!0,x=m.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,p+1)),_=()=>{let S;return y?S=w:b?S=x:m.route.Component?S=N.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=f,N.createElement(G_,{match:m,routeContext:{outlet:f,matches:k,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?N.createElement(W_,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:_(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):_()},null)}function h0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z_(t){let e=N.useContext(Oi);return wt(e,h0(t)),e}function J_(t){let e=N.useContext(xu);return wt(e,h0(t)),e}function ek(t){let e=N.useContext(ar);return wt(e,h0(t)),e}function m0(t){let e=ek(t),n=e.matches[e.matches.length-1];return wt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function tk(){return m0("useRouteId")}function nk(){let t=N.useContext(f0),e=J_("useRouteError"),n=m0("useRouteError");return t!==void 0?t:e.errors?.[n]}function rk(){let{router:t}=Z_("useNavigate"),e=m0("useNavigate"),n=N.useRef(!1);return Zv(()=>{n.current=!0}),N.useCallback(async(s,o={})=>{tr(n.current,Xv),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var nb={};function e1(t,e,n){!e&&!nb[t]&&(nb[t]=!0,tr(!1,n))}N.memo(ak);function ak({routes:t,future:e,state:n}){return Jv(t,void 0,n,e)}function sk({to:t,replace:e,state:n,relative:r}){wt(Ai(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=N.useContext(rr);tr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=N.useContext(ar),{pathname:c}=_r(),u=gn(),f=d0(t,u0(o),c,r==="path"),m=JSON.stringify(f);return N.useEffect(()=>{u(JSON.parse(m),{replace:e,state:n,relative:r})},[u,m,r,e,n]),null}function fr(t){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ik({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){wt(!Ai(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof n=="string"&&(n=Mi(n));let{pathname:f="/",search:m="",hash:p="",state:y=null,key:b="default"}=n,w=N.useMemo(()=>{let x=Kr(f,c);return x==null?null:{location:{pathname:x,search:m,hash:p,state:y,key:b},navigationType:r}},[c,f,m,p,y,b,r]);return tr(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement(rr.Provider,{value:u},N.createElement(tl.Provider,{children:e,value:w}))}function ok({children:t,location:e}){return Q_(Th(t),e)}function Th(t,e=[]){let n=[];return N.Children.forEach(t,(r,s)=>{if(!N.isValidElement(r))return;let o=[...e,s];if(r.type===N.Fragment){n.push.apply(n,Th(r.props.children,o));return}wt(r.type===fr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Th(r.props.children,o)),n.push(c)}),n}var Hc="get",Fc="application/x-www-form-urlencoded";function wu(t){return t!=null&&typeof t.tagName=="string"}function lk(t){return wu(t)&&t.tagName.toLowerCase()==="button"}function ck(t){return wu(t)&&t.tagName.toLowerCase()==="form"}function uk(t){return wu(t)&&t.tagName.toLowerCase()==="input"}function dk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fk(t,e){return t.button===0&&(!e||e==="_self")&&!dk(t)}var _c=null;function hk(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var mk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ah(t){return t!=null&&!mk.has(t)?(tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fc}"`),null):t}function pk(t,e){let n,r,s,o,c;if(ck(t)){let u=t.getAttribute("action");r=u?Kr(u,e):null,n=t.getAttribute("method")||Hc,s=ah(t.getAttribute("enctype"))||Fc,o=new FormData(t)}else if(lk(t)||uk(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?Kr(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Hc,s=ah(t.getAttribute("formenctype"))||ah(u.getAttribute("enctype"))||Fc,o=new FormData(u,t),!hk()){let{name:m,type:p,value:y}=t;if(p==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,y)}}else{if(wu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hc,r=null,s=Fc,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:c}}function p0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function gk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function bk(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await gk(o,n);return c.links?c.links():[]}return[]}));return _k(r.flat(1).filter(yk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rb(t,e,n,r,s,o){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,u=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,m)=>c(f,m)||u(f,m)):o==="data"?e.filter((f,m)=>{let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function vk(t,e,{includeHydrateFallback:n}={}){return xk(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function xk(t){return[...new Set(t)]}function wk(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function _k(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(wk(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kk=new Set([100,101,204,205]);function Sk(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Kr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function t1(){let t=N.useContext(Oi);return p0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Dk(){let t=N.useContext(xu);return p0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var g0=N.createContext(void 0);g0.displayName="FrameworkContext";function n1(){let t=N.useContext(g0);return p0(t,"You must render this element inside a <HydratedRouter> element"),t}function Ek(t,e){let n=N.useContext(g0),[r,s]=N.useState(!1),[o,c]=N.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:p,onTouchStart:y}=e,b=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let k=S=>{S.forEach(D=>{c(D.isIntersecting)})},_=new IntersectionObserver(k,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[t]),N.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let w=()=>{s(!0)},x=()=>{s(!1),c(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:$o(u,w),onBlur:$o(f,x),onMouseEnter:$o(m,w),onMouseLeave:$o(p,x),onTouchStart:$o(y,w)}]:[!1,b,{}]}function $o(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ck({page:t,...e}){let{router:n}=t1(),r=N.useMemo(()=>Qv(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(jk,{page:t,matches:r,...e}):null}function Nk(t){let{manifest:e,routeModules:n}=n1(),[r,s]=N.useState([]);return N.useEffect(()=>{let o=!1;return bk(t,e,n).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,n]),r}function jk({page:t,matches:e,...n}){let r=_r(),{manifest:s,routeModules:o}=n1(),{basename:c}=t1(),{loaderData:u,matches:f}=Dk(),m=N.useMemo(()=>rb(t,e,f,s,r,"data"),[t,e,f,s,r]),p=N.useMemo(()=>rb(t,e,f,s,r,"assets"),[t,e,f,s,r]),y=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,k=!1;if(e.forEach(S=>{let D=s.routes[S.route.id];!D||!D.hasLoader||(!m.some(C=>C.route.id===S.route.id)&&S.route.id in u&&o[S.route.id]?.shouldRevalidate||D.hasClientLoader?k=!0:x.add(S.route.id))}),x.size===0)return[];let _=Sk(t,c);return k&&x.size>0&&_.searchParams.set("_routes",e.filter(S=>x.has(S.route.id)).map(S=>S.route.id).join(",")),[_.pathname+_.search]},[c,u,r,s,m,e,t,o]),b=N.useMemo(()=>vk(p,s),[p,s]),w=Nk(p);return N.createElement(N.Fragment,null,y.map(x=>N.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),b.map(x=>N.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),w.map(({key:x,link:k})=>N.createElement("link",{key:x,...k})))}function Tk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var r1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r1&&(window.__reactRouterVersion="7.6.2")}catch{}function Mk({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=y_({window:n,v5Compat:!0}));let s=r.current,[o,c]=N.useState({action:s.action,location:s.location}),u=N.useCallback(f=>{N.startTransition(()=>c(f))},[c]);return N.useLayoutEffect(()=>s.listen(u),[s,u]),N.createElement(ik,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var a1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y0=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:u,target:f,to:m,preventScrollReset:p,viewTransition:y,...b},w){let{basename:x}=N.useContext(rr),k=typeof m=="string"&&a1.test(m),_,S=!1;if(typeof m=="string"&&k&&(_=m,r1))try{let U=new URL(window.location.href),q=m.startsWith("//")?new URL(U.protocol+m):new URL(m),V=Kr(q.pathname,x);q.origin===U.origin&&V!=null?m=V+q.search+q.hash:S=!0}catch{tr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=I_(m,{relative:s}),[C,T,M]=Ek(r,b),L=Lk(m,{replace:c,state:u,target:f,preventScrollReset:p,relative:s,viewTransition:y});function R(U){e&&e(U),U.defaultPrevented||L(U)}let $=N.createElement("a",{...b,...M,href:_||D,onClick:S||o?e:R,ref:Tk(w,T),target:f,"data-discover":!k&&n==="render"?"true":void 0});return C&&!k?N.createElement(N.Fragment,null,$,N.createElement(Ck,{page:D})):$});y0.displayName="Link";var Ok=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:u,children:f,...m},p){let y=nl(c,{relative:m.relative}),b=_r(),w=N.useContext(xu),{navigator:x,basename:k}=N.useContext(rr),_=w!=null&&Hk(y)&&u===!0,S=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,D=b.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(D=D.toLowerCase(),C=C?C.toLowerCase():null,S=S.toLowerCase()),C&&k&&(C=Kr(C,k)||C);const T=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let M=D===S||!s&&D.startsWith(S)&&D.charAt(T)==="/",L=C!=null&&(C===S||!s&&C.startsWith(S)&&C.charAt(S.length)==="/"),R={isActive:M,isPending:L,isTransitioning:_},$=M?e:void 0,U;typeof r=="function"?U=r(R):U=[r,M?"active":null,L?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(R):o;return N.createElement(y0,{...m,"aria-current":$,className:U,ref:p,style:q,to:c,viewTransition:u},typeof f=="function"?f(R):f)});Ok.displayName="NavLink";var Ak=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:c=Hc,action:u,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:y,...b},w)=>{let x=Uk(),k=Bk(u,{relative:m}),_=c.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&a1.test(u),D=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let T=C.nativeEvent.submitter,M=T?.getAttribute("formmethod")||c;x(T||C.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:s,state:o,relative:m,preventScrollReset:p,viewTransition:y})};return N.createElement("form",{ref:w,method:_,action:k,onSubmit:r?f:D,...b,"data-discover":!S&&t==="render"?"true":void 0})});Ak.displayName="Form";function Rk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(t){let e=N.useContext(Oi);return wt(e,Rk(t)),e}function Lk(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:c}={}){let u=gn(),f=_r(),m=nl(t,{relative:o});return N.useCallback(p=>{if(fk(p,e)){p.preventDefault();let y=n!==void 0?n:Vo(f)===Vo(m);u(t,{replace:y,state:r,preventScrollReset:s,relative:o,viewTransition:c})}},[f,u,m,n,r,e,t,s,o,c])}var $k=0,Pk=()=>`__${String(++$k)}__`;function Uk(){let{router:t}=s1("useSubmit"),{basename:e}=N.useContext(rr),n=tk();return N.useCallback(async(r,s={})=>{let{action:o,method:c,encType:u,formData:f,body:m}=pk(r,e);if(s.navigate===!1){let p=s.fetcherKey||Pk();await t.fetch(p,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Bk(t,{relative:e}={}){let{basename:n}=N.useContext(rr),r=N.useContext(ar);wt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...nl(t||".",{relative:e})},c=_r();if(t==null){o.search=c.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(y=>y).forEach(y=>u.append("index",y));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Fr([n,o.pathname])),Vo(o)}function Hk(t,e={}){let n=N.useContext(Gv);wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=s1("useViewTransitionState"),s=nl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Kr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Kr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wc(s.pathname,c)!=null||Wc(s.pathname,o)!=null}[...kk];var _u=Iv();const Fk=bu(_u);var Ri=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zk={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},qk=class{#e=zk;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},as=new qk;function Ik(t){setTimeout(t,0)}var us=typeof window>"u"||"Deno"in globalThis;function hn(){}function Yk(t,e){return typeof t=="function"?t(e):t}function Mh(t){return typeof t=="number"&&t>=0&&t!==1/0}function i1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ea(t,e){return typeof t=="function"?t(e):t}function In(t,e){return typeof t=="function"?t(e):t}function ab(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:c,stale:u}=t;if(c){if(r){if(e.queryHash!==b0(c,e.options))return!1}else if(!Wo(e.queryKey,c))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||o&&!o(e))}function sb(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(ds(e.options.mutationKey)!==ds(o))return!1}else if(!Wo(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function b0(t,e){return(e?.queryKeyHashFn||ds)(t)}function ds(t){return JSON.stringify(t,(e,n)=>Oh(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Wo(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Wo(t[n],e[n])):!1}var Qk=Object.prototype.hasOwnProperty;function o1(t,e){if(t===e)return t;const n=ib(t)&&ib(e);if(!n&&!(Oh(t)&&Oh(e)))return e;const s=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),c=o.length,u=n?new Array(c):{};let f=0;for(let m=0;m<c;m++){const p=n?m:o[m],y=t[p],b=e[p];if(y===b){u[p]=y,(n?m<s:Qk.call(t,p))&&f++;continue}if(y===null||b===null||typeof y!="object"||typeof b!="object"){u[p]=b;continue}const w=o1(y,b);u[p]=w,w===y&&f++}return s===c&&f===s?t:u}function Gc(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function ib(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Oh(t){if(!ob(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ob(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ob(t){return Object.prototype.toString.call(t)==="[object Object]"}function Kk(t){return new Promise(e=>{as.setTimeout(e,t)})}function Ah(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?o1(t,e):e}function Vk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Wk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var v0=Symbol();function l1(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===v0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function c1(t,e){return typeof t=="function"?t(...e):!!t}var Gk=class extends Ri{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!us&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},x0=new Gk;function Rh(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var Xk=Ik;function Zk(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=Xk;const o=u=>{e?t.push(u):s(()=>{n(u)})},c=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(f=>{n(f)})})})};return{batch:u=>{let f;e++;try{f=u()}finally{e--,e||c()}return f},batchCalls:u=>(...f)=>{o(()=>{u(...f)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var Ht=Zk(),Jk=class extends Ri{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!us&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Xc=new Jk;function eS(t){return Math.min(1e3*2**t,3e4)}function u1(t){return(t??"online")==="online"?Xc.isOnline():!0}var Lh=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function d1(t){let e=!1,n=0,r;const s=Rh(),o=()=>s.status!=="pending",c=k=>{if(!o()){const _=new Lh(k);b(_),t.onCancel?.(_)}},u=()=>{e=!0},f=()=>{e=!1},m=()=>x0.isFocused()&&(t.networkMode==="always"||Xc.isOnline())&&t.canRun(),p=()=>u1(t.networkMode)&&t.canRun(),y=k=>{o()||(r?.(),s.resolve(k))},b=k=>{o()||(r?.(),s.reject(k))},w=()=>new Promise(k=>{r=_=>{(o()||m())&&k(_)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),x=()=>{if(o())return;let k;const _=n===0?t.initialPromise:void 0;try{k=_??t.fn()}catch(S){k=Promise.reject(S)}Promise.resolve(k).then(y).catch(S=>{if(o())return;const D=t.retry??(us?0:3),C=t.retryDelay??eS,T=typeof C=="function"?C(n,S):C,M=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,S);if(e||!M){b(S);return}n++,t.onFail?.(n,S),Kk(T).then(()=>m()?void 0:w()).then(()=>{e?b(S):x()})})};return{promise:s,status:()=>s.status,cancel:c,continue:()=>(r?.(),s),cancelRetry:u,continueRetry:f,canStart:p,start:()=>(p()?x():w().then(x),s)}}var f1=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mh(this.gcTime)&&(this.#e=as.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(us?1/0:300*1e3))}clearGcTimeout(){this.#e&&(as.clearTimeout(this.#e),this.#e=void 0)}},tS=class extends f1{#e;#t;#n;#a;#r;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#a=t.client,this.#n=this.#a.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=lb(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=lb(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Ah(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(hn).catch(hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>In(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===v0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ea(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!i1(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(f=>f.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const u=l1(this.options,e),m=(()=>{const p={client:this.#a,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#o=!1,this.options.persister?this.options.persister(u,m,this):u(m)},c=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return r(u),u})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#s({type:"fetch",meta:c.fetchOptions?.meta}),this.#r=d1({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:u=>{u instanceof Lh&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(u,f)=>{this.#s({type:"failed",failureCount:u,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const u=await this.#r.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof Lh){if(u.silent)return this.#r.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#s({type:"error",error:u}),this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...h1(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Ht.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function h1(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:u1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function lb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var nS=class extends Ri{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=Rh(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#a=void 0;#r;#i;#o;#s;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),cb(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $h(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $h(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof In(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),e._defaulted&&!Gc(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&ub(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||In(this.options.enabled,this.#t)!==In(e.enabled,this.#t)||Ea(this.options.staleTime,this.#t)!==Ea(e.staleTime,this.#t))&&this.#g();const s=this.#y();r&&(this.#t!==n||In(this.options.enabled,this.#t)!==In(e.enabled,this.#t)||s!==this.#l)&&this.#b(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return aS(this,n)&&(this.#a=n,this.#i=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#a}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(hn)),e}#g(){this.#x();const t=Ea(this.options.staleTime,this.#t);if(us||this.#a.isStale||!Mh(t))return;const n=i1(this.#a.dataUpdatedAt,t)+1;this.#c=as.setTimeout(()=>{this.#a.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#l=t,!(us||In(this.options.enabled,this.#t)===!1||!Mh(this.#l)||this.#l===0)&&(this.#u=as.setInterval(()=>{(this.options.refetchIntervalInBackground||x0.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#b(this.#y())}#x(){this.#c&&(as.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(as.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#a,o=this.#r,c=this.#i,f=t!==n?t.state:this.#n,{state:m}=t;let p={...m},y=!1,b;if(e._optimisticResults){const $=this.hasListeners(),U=!$&&cb(t,e),q=$&&ub(t,n,e,r);(U||q)&&(p={...p,...h1(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:w,errorUpdatedAt:x,status:k}=p;b=p.data;let _=!1;if(e.placeholderData!==void 0&&b===void 0&&k==="pending"){let $;s?.isPlaceholderData&&e.placeholderData===c?.placeholderData?($=s.data,_=!0):$=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,$!==void 0&&(k="success",b=Ah(s?.data,$,e),y=!0)}if(e.select&&b!==void 0&&!_)if(s&&b===o?.data&&e.select===this.#p)b=this.#f;else try{this.#p=e.select,b=e.select(b),b=Ah(s?.data,b,e),this.#f=b,this.#s=null}catch($){this.#s=$}this.#s&&(w=this.#s,b=this.#f,x=Date.now(),k="error");const S=p.fetchStatus==="fetching",D=k==="pending",C=k==="error",T=D&&S,M=b!==void 0,R={status:k,fetchStatus:p.fetchStatus,isPending:D,isSuccess:k==="success",isError:C,isInitialLoading:T,isLoading:T,data:b,dataUpdatedAt:p.dataUpdatedAt,error:w,errorUpdatedAt:x,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:S,isRefetching:S&&!D,isLoadingError:C&&!M,isPaused:p.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:C&&M,isStale:w0(t,e),refetch:this.refetch,promise:this.#o,isEnabled:In(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=V=>{R.status==="error"?V.reject(R.error):R.data!==void 0&&V.resolve(R.data)},U=()=>{const V=this.#o=R.promise=Rh();$(V)},q=this.#o;switch(q.status){case"pending":t.queryHash===n.queryHash&&$(q);break;case"fulfilled":(R.status==="error"||R.data!==q.value)&&U();break;case"rejected":(R.status!=="error"||R.error!==q.reason)&&U();break}}return R}updateResult(){const t=this.#a,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#i=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Gc(e,t))return;this.#a=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#m.size)return!0;const o=new Set(s??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#a).some(c=>{const u=c;return this.#a[u]!==t[u]&&o.has(u)})};this.#k({listeners:n()})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#k(t){Ht.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function rS(t,e){return In(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function cb(t,e){return rS(t,e)||t.state.data!==void 0&&$h(t,e,e.refetchOnMount)}function $h(t,e,n){if(In(e.enabled,t)!==!1&&Ea(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&w0(t,e)}return!1}function ub(t,e,n,r){return(t!==e||In(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&w0(t,n)}function w0(t,e){return In(e.enabled,t)!==!1&&t.isStaleByTime(Ea(e.staleTime,t))}function aS(t,e){return!Gc(t.getCurrentResult(),e)}function db(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},f=0;const m=async()=>{let p=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},b=l1(e.options,e.fetchOptions),w=async(x,k,_)=>{if(p)return Promise.reject();if(k==null&&x.pages.length)return Promise.resolve(x);const D=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:k,direction:_?"backward":"forward",meta:e.options.meta};return y(L),L})(),C=await b(D),{maxPages:T}=e.options,M=_?Wk:Vk;return{pages:M(x.pages,C,T),pageParams:M(x.pageParams,k,T)}};if(s&&o.length){const x=s==="backward",k=x?sS:fb,_={pages:o,pageParams:c},S=k(r,_);u=await w(_,S,x)}else{const x=t??o.length;do{const k=f===0?c[0]??r.initialPageParam:fb(r,u);if(f>0&&k==null)break;u=await w(u,k),f++}while(f<x)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=m}}}function fb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function sS(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var iS=class extends f1{#e;#t;#n;#a;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||m1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=d1({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{this.#r({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#a.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:s}),await this.#n.config.onMutate?.(t,this,n);const c=await this.options.onMutate?.(t,n);c!==this.state.context&&this.#r({type:"pending",context:c,variables:t,isPaused:s})}const o=await this.#a.start();return await this.#n.config.onSuccess?.(o,t,this.state.context,this,n),await this.options.onSuccess?.(o,t,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,t,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#n.config.onError?.(o,t,this.state.context,this,n),await this.options.onError?.(o,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,o,t,this.state.context,n),o}finally{this.#r({type:"error",error:o})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ht.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function m1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oS=class extends Ri{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new iS({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=kc(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=kc(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=kc(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=kc(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ht.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>sb(e,n))}findAll(t={}){return this.getAll().filter(e=>sb(t,e))}notify(t){Ht.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Ht.batch(()=>Promise.all(t.map(e=>e.continue().catch(hn))))}};function kc(t){return t.options.scope?.id}var lS=class extends Ri{#e;#t=void 0;#n;#a;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Gc(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&ds(n.mutationKey)!==ds(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#i()}mutate(e,n){return this.#a=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??m1();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){Ht.batch(()=>{if(this.#a&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#a.onSuccess?.(e.data,n,r,s),this.#a.onSettled?.(e.data,null,n,r,s)):e?.type==="error"&&(this.#a.onError?.(e.error,n,r,s),this.#a.onSettled?.(void 0,e.error,n,r,s))}this.listeners.forEach(n=>{n(this.#t)})})}},cS=class extends Ri{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??b0(r,e);let o=this.get(s);return o||(o=new tS({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>ab(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>ab(t,n)):e}notify(t){Ht.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},uS=class{#e;#t;#n;#a;#r;#i;#o;#s;constructor(t={}){this.#e=t.queryCache||new cS,this.#t=t.mutationCache||new oS,this.#n=t.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=x0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Xc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ea(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,c=Yk(e,o);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Ht.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Ht.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Ht.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ht.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(hn).catch(hn)}invalidateQueries(t,e={}){return Ht.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ht.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(hn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(hn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Ea(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hn).catch(hn)}fetchInfiniteQuery(t){return t.behavior=db(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hn).catch(hn)}ensureInfiniteQueryData(t){return t.behavior=db(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#a.set(ds(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#a.values()],n={};return e.forEach(r=>{Wo(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(ds(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Wo(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=b0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===v0&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},p1=N.createContext(void 0),Ot=t=>{const e=N.useContext(p1);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},dS=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(p1.Provider,{value:t,children:e})),g1=N.createContext(!1),fS=()=>N.useContext(g1);g1.Provider;function hS(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var mS=N.createContext(hS()),pS=()=>N.useContext(mS),gS=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},yS=t=>{N.useEffect(()=>{t.clearReset()},[t])},bS=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||c1(n,[t.error,r])),vS=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},xS=(t,e)=>t.isLoading&&t.isFetching&&!e,wS=(t,e)=>t?.suspense&&e.isPending,hb=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function _S(t,e,n){const r=fS(),s=pS(),o=Ot(),c=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=r?"isRestoring":"optimistic",vS(c),gS(c,s),yS(s);const u=!o.getQueryCache().get(c.queryHash),[f]=N.useState(()=>new e(o,c)),m=f.getOptimisticResult(c),p=!r&&t.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(y=>{const b=p?f.subscribe(Ht.batchCalls(y)):hn;return f.updateResult(),b},[f,p]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),N.useEffect(()=>{f.setOptions(c)},[c,f]),wS(c,m))throw hb(c,f,s);if(bS({result:m,errorResetBoundary:s,throwOnError:c.throwOnError,query:o.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,m),c.experimental_prefetchInRender&&!us&&xS(m,r)&&(u?hb(c,f,s):o.getQueryCache().get(c.queryHash)?.promise)?.catch(hn).finally(()=>{f.updateResult()}),c.notifyOnChangeProps?m:f.trackResult(m)}function pt(t,e){return _S(t,nS)}function Ft(t,e){const n=Ot(),[r]=N.useState(()=>new lS(n,t));N.useEffect(()=>{r.setOptions(t)},[r,t]);const s=N.useSyncExternalStore(N.useCallback(c=>r.subscribe(Ht.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=N.useCallback((c,u)=>{r.mutate(c,u).catch(hn)},[r]);if(s.error&&c1(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const kS="modulepreload",SS=function(t){return"/"+t},mb={},rl=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=m;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");s=m(n.map(p=>{if(p=SS(p),p in mb)return;mb[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":kS,y||(w.as="script"),w.crossOrigin="",w.href=p,f&&w.setAttribute("nonce",f),document.head.appendChild(w),y)return new Promise((x,k)=>{w.addEventListener("load",x),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return s.then(u=>{for(const f of u||[])f.status==="rejected"&&o(f.reason);return e().catch(o)})},DS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rl(async()=>{const{default:r}=await Promise.resolve().then(()=>Li);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class _0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class ES extends _0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pb extends _0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gb extends _0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ph;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ph||(Ph={}));var CS=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function u(p){try{m(r.next(p))}catch(y){c(y)}}function f(p){try{m(r.throw(p))}catch(y){c(y)}}function m(p){p.done?o(p.value):s(p.value).then(u,f)}m((r=r.apply(t,e||[])).next())})};class NS{constructor(e,{headers:n={},customFetch:r,region:s=Ph.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=DS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return CS(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:c}=n;let u={},{region:f}=n;f||(f=this.region);const m=new URL(`${this.url}/${e}`);f&&f!=="any"&&(u["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let p;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(u["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(u["Content-Type"]="application/json",p=JSON.stringify(c)));const y=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:p}).catch(k=>{throw new ES(k)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new pb(y);if(!y.ok)throw new gb(y);let w=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return w==="application/json"?x=yield y.json():w==="application/octet-stream"?x=yield y.blob():w==="text/event-stream"?x=y:w==="multipart/form-data"?x=yield y.formData():x=yield y.text(),{data:x,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof gb||s instanceof pb?s.context:void 0}}})}}var Zt={},ai={},si={},ii={},oi={},li={},jS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wi=jS();const TS=wi.fetch,y1=wi.fetch.bind(wi),b1=wi.Headers,MS=wi.Request,OS=wi.Response,Li=Object.freeze(Object.defineProperty({__proto__:null,Headers:b1,Request:MS,Response:OS,default:y1,fetch:TS},Symbol.toStringTag,{value:"Module"})),AS=r_(Li);var Sc={},yb;function v1(){if(yb)return Sc;yb=1,Object.defineProperty(Sc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Sc.default=t,Sc}var bb;function x1(){if(bb)return li;bb=1;var t=li&&li.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(li,"__esModule",{value:!0});const e=t(AS),n=t(v1());class r{constructor(o){var c,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(c=o.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=new Headers(this.headers),this.headers.set(o,c),this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,y,b,w;let x=null,k=null,_=null,S=m.status,D=m.statusText;if(m.ok){if(this.method!=="HEAD"){const L=await m.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?k=L:k=JSON.parse(L))}const T=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),M=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");T&&M&&M.length>1&&(_=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(x={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,_=null,S=406,D="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const T=await m.text();try{x=JSON.parse(T),Array.isArray(x)&&m.status===404&&(k=[],x=null,S=200,D="OK")}catch{m.status===404&&T===""?(S=204,D="No Content"):x={message:T}}if(x&&this.isMaybeSingle&&(!((w=x?.details)===null||w===void 0)&&w.includes("0 rows"))&&(x=null,S=200,D="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:k,count:_,status:S,statusText:D}});return this.shouldThrowOnError||(f=f.catch(m=>{var p,y,b;return{error:{message:`${(p=m?.name)!==null&&p!==void 0?p:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=m?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,c)}returns(){return this}overrideTypes(){return this}}return li.default=r,li}var vb;function w1(){if(vb)return oi;vb=1;var t=oi&&oi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(oi,"__esModule",{value:!0});const e=t(x1());class n extends e.default{select(s){let o=!1;const c=(s??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:c,foreignTable:u,referencedTable:f=u}={}){const m=f?`${f}.order`:"order",p=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${p?`${p},`:""}${s}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,o,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"offset":`${u}.offset`,m=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${s}`),this.url.searchParams.set(m,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:c=!1,buffers:u=!1,wal:f=!1,format:m="text"}={}){var p;const y=[s?"analyze":null,o?"verbose":null,c?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),b=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return oi.default=n,oi}var xb;function k0(){if(xb)return ii;xb=1;var t=ii&&ii.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ii,"__esModule",{value:!0});const e=t(w1());class n extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${f}fts${m}.${o}`),this}match(s){return Object.entries(s).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(s,o,c){return this.url.searchParams.append(s,`not.${o}.${c}`),this}or(s,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,o,c){return this.url.searchParams.append(s,`${o}.${c}`),this}}return ii.default=n,ii}var wb;function _1(){if(wb)return si;wb=1;var t=si&&si.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(si,"__esModule",{value:!0});const e=t(k0());class n{constructor(s,{headers:o={},schema:c,fetch:u}){this.url=s,this.headers=new Headers(o),this.schema=c,this.fetch=u}select(s,{head:o=!1,count:c}={}){const u=o?"HEAD":"GET";let f=!1;const m=(s??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:c=!0}={}){var u;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(m.length>0){const p=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:c=!1,count:u,defaultToNull:f=!0}={}){var m;const p="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(y.length>0){const b=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(s,{count:o}={}){var c;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var o;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return si.default=n,si}var _b;function RS(){if(_b)return ai;_b=1;var t=ai&&ai.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ai,"__esModule",{value:!0});const e=t(_1()),n=t(k0());class r{constructor(o,{headers:c={},schema:u,fetch:f}={}){this.url=o,this.headers=new Headers(c),this.schemaName=u,this.fetch=f}from(o){const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:u=!1,get:f=!1,count:m}={}){var p;let y;const b=new URL(`${this.url}/rpc/${o}`);let w;u||f?(y=u?"HEAD":"GET",Object.entries(c).filter(([k,_])=>_!==void 0).map(([k,_])=>[k,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([k,_])=>{b.searchParams.append(k,_)})):(y="POST",w=c);const x=new Headers(this.headers);return m&&x.set("Prefer",`count=${m}`),new n.default({method:y,url:b,headers:x,schema:this.schemaName,body:w,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return ai.default=r,ai}var kb;function LS(){if(kb)return Zt;kb=1;var t=Zt&&Zt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.PostgrestError=Zt.PostgrestBuilder=Zt.PostgrestTransformBuilder=Zt.PostgrestFilterBuilder=Zt.PostgrestQueryBuilder=Zt.PostgrestClient=void 0;const e=t(RS());Zt.PostgrestClient=e.default;const n=t(_1());Zt.PostgrestQueryBuilder=n.default;const r=t(k0());Zt.PostgrestFilterBuilder=r.default;const s=t(w1());Zt.PostgrestTransformBuilder=s.default;const o=t(x1());Zt.PostgrestBuilder=o.default;const c=t(v1());return Zt.PostgrestError=c.default,Zt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:c.default},Zt}var $S=LS();const PS=bu($S),{PostgrestClient:US,PostgrestQueryBuilder:_O,PostgrestFilterBuilder:kO,PostgrestTransformBuilder:SO,PostgrestBuilder:DO,PostgrestError:EO}=PS;class BS{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const HS="2.15.5",FS=`realtime-js/${HS}`,zS="1.0.0",Uh=1e4,qS=1e3,IS=100;var Yo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Yo||(Yo={}));var Ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ut||(Ut={}));var Jn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Jn||(Jn={}));var Bh;(function(t){t.websocket="websocket"})(Bh||(Bh={}));var ns;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ns||(ns={}));class YS{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),o=n.getUint8(2);let c=this.HEADER_LENGTH+2;const u=r.decode(e.slice(c,c+s));c=c+s;const f=r.decode(e.slice(c,c+o));c=c+o;const m=JSON.parse(r.decode(e.slice(c,e.byteLength)));return{ref:null,topic:u,event:f,payload:m}}}class k1{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(bt||(bt={}));const Sb=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,c)=>(o[c]=QS(c,t,e,s),o),{})},QS=(t,e,n,r)=>{const s=e.find(u=>u.name===t),o=s?.type,c=n[t];return o&&!r.includes(o)?S1(o,c):Hh(c)},S1=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return GS(e,n)}switch(t){case bt.bool:return KS(e);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return VS(e);case bt.json:case bt.jsonb:return WS(e);case bt.timestamp:return XS(e);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return Hh(e);default:return Hh(e)}},Hh=t=>t,KS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},VS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},WS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},GS=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const c=t.slice(1,n);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(u=>S1(e,u))}return t},XS=t=>typeof t=="string"?t.replace(" ","T"):t,D1=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class sh{constructor(e,n,r={},s=Uh){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Db;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Db||(Db={}));class Qo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qo.syncState(this.state,s,o,c),this.pendingDiffs.forEach(f=>{this.state=Qo.syncDiff(this.state,f,o,c)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qo.syncDiff(this.state,s,o,c),u())}),this.onJoin((s,o,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:c})}),this.onLeave((s,o,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const o=this.cloneDeep(e),c=this.transformState(n),u={},f={};return this.map(o,(m,p)=>{c[m]||(f[m]=p)}),this.map(c,(m,p)=>{const y=o[m];if(y){const b=p.map(_=>_.presence_ref),w=y.map(_=>_.presence_ref),x=p.filter(_=>w.indexOf(_.presence_ref)<0),k=y.filter(_=>b.indexOf(_.presence_ref)<0);x.length>0&&(u[m]=x),k.length>0&&(f[m]=k)}else u[m]=p}),this.syncDiff(o,{joins:u,leaves:f},r,s)}static syncDiff(e,n,r,s){const{joins:o,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(u,f)=>{var m;const p=(m=e[u])!==null&&m!==void 0?m:[];if(e[u]=this.cloneDeep(f),p.length>0){const y=e[u].map(w=>w.presence_ref),b=p.filter(w=>y.indexOf(w.presence_ref)<0);e[u].unshift(...b)}r(u,p,f)}),this.map(c,(u,f)=>{let m=e[u];if(!m)return;const p=f.map(y=>y.presence_ref);m=m.filter(y=>p.indexOf(y.presence_ref)<0),e[u]=m,s(u,m,f),m.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Eb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Eb||(Eb={}));var Ko;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ko||(Ko={}));var Hr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Hr||(Hr={}));class S0{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new sh(this,Jn.join,this.params,this.timeout),this.rejoinTimer=new k1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Qo(this),this.broadcastEndpointURL=D1(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ut.closed){const{config:{broadcast:c,presence:u,private:f}}=this.params,m=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[Ko.PRESENCE]&&this.bindings[Ko.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,y={},b={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(Hr.CHANNEL_ERROR,w)),this._onClose(()=>e?.(Hr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var x;if(this.socket.setAuth(),w===void 0){e?.(Hr.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(x=k?.length)!==null&&x!==void 0?x:0,S=[];for(let D=0;D<_;D++){const C=k[D],{filter:{event:T,schema:M,table:L,filter:R}}=C,$=w&&w[D];if($&&$.event===T&&$.schema===M&&$.table===L&&$.filter===R)S.push(Object.assign(Object.assign({},C),{id:$.id}));else{this.unsubscribe(),this.state=Ut.errored,e?.(Hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Hr.SUBSCRIBED);return}}).receive("error",w=>{this.state=Ut.errored,e?.(Hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(Hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Ut.joined&&e===Ko.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:c}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,u,f;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new sh(this,Jn.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ut.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),c}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sh(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>IS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,o;const c=e.toLocaleLowerCase(),{close:u,error:f,leave:m,join:p}=Jn;if(r&&[u,f,m,p].indexOf(c)>=0&&r!==this._joinRef())return;let b=this._onMessage(c,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var x,k,_;return((x=w.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(k=w.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(w=>w.callback(b,r)):(o=this.bindings[c])===null||o===void 0||o.filter(w=>{var x,k,_,S,D,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const T=w.id,M=(x=w.filter)===null||x===void 0?void 0:x.event;return T&&((k=n.ids)===null||k===void 0?void 0:k.includes(T))&&(M==="*"||M?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const T=(D=(S=w?.filter)===null||S===void 0?void 0:S.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return T==="*"||T===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof b=="object"&&"ids"in b){const x=b.data,{schema:k,table:_,commit_timestamp:S,type:D,errors:C}=x;b=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:S,eventType:D,new:{},old:{},errors:C}),this._getPayloadRecords(x))}w.callback(b,r)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&S0.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jn.close,{},e)}_onError(e){this._on(Jn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Sb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Sb(e.columns,e.old_record)),n}}const ih=()=>{},Dc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZS=[1e3,2e3,5e3,1e4],JS=1e4,e3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class t3{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uh,this.transport=null,this.heartbeatIntervalMs=Dc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ih,this.ref=0,this.reconnectTimer=null,this.logger=ih,this.conn=null,this.sendBuffer=[],this.serializer=new YS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...c)=>rl(async()=>{const{default:u}=await Promise.resolve().then(()=>Li);return{default:u}},void 0).then(({default:u})=>u(...c)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...c)=>o(...c)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Bh.websocket}`,this.httpEndpoint=D1(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zS}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Yo.connecting:return ns.Connecting;case Yo.open:return ns.Open;case Yo.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new S0(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:s,ref:o}=e,c=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(qS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Dc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:c}=n,u=c?`(${c})`:"",f=o.status||"";this.log("receive",`${f} ${r} ${s} ${u}`.trim(),o),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(s,o,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([e3],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:FS};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Jn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new k1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Dc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,o,c,u,f,m,p;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Uh,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:Dc.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:ih,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(y=>ZS[y-1]||JS),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((y,b)=>b(JSON.stringify(y))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class D0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Bt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class n3 extends D0{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fh extends D0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var r3=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function u(p){try{m(r.next(p))}catch(y){c(y)}}function f(p){try{m(r.throw(p))}catch(y){c(y)}}function m(p){p.done?o(p.value):s(p.value).then(u,f)}m((r=r.apply(t,e||[])).next())})};const E1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rl(async()=>{const{default:r}=await Promise.resolve().then(()=>Li);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},a3=()=>r3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rl(()=>Promise.resolve().then(()=>Li),void 0)).Response:Response}),zh=t=>{if(Array.isArray(t))return t.map(n=>zh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=zh(r)}),e},s3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ps=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function u(p){try{m(r.next(p))}catch(y){c(y)}}function f(p){try{m(r.throw(p))}catch(y){c(y)}}function m(p){p.done?o(p.value):s(p.value).then(u,f)}m((r=r.apply(t,e||[])).next())})};const oh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),i3=(t,e,n)=>ps(void 0,void 0,void 0,function*(){const r=yield a3();t instanceof r&&!n?.noResolveJson?t.json().then(s=>{const o=t.status||500,c=s?.statusCode||o+"";e(new n3(oh(s),o,c))}).catch(s=>{e(new Fh(oh(s),s))}):e(new Fh(oh(t),t))}),o3=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"||!r?s:(s3(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(r)):s.body=r,e?.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function al(t,e,n,r,s,o){return ps(this,void 0,void 0,function*(){return new Promise((c,u)=>{t(n,o3(e,r,s,o)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>i3(f,u,r))})})}function Zc(t,e,n,r){return ps(this,void 0,void 0,function*(){return al(t,"GET",e,n,r)})}function hr(t,e,n,r,s){return ps(this,void 0,void 0,function*(){return al(t,"POST",e,r,s,n)})}function qh(t,e,n,r,s){return ps(this,void 0,void 0,function*(){return al(t,"PUT",e,r,s,n)})}function l3(t,e,n,r){return ps(this,void 0,void 0,function*(){return al(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function C1(t,e,n,r,s){return ps(this,void 0,void 0,function*(){return al(t,"DELETE",e,r,s,n)})}var fn=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function u(p){try{m(r.next(p))}catch(y){c(y)}}function f(p){try{m(r.throw(p))}catch(y){c(y)}}function m(p){p.done?o(p.value):s(p.value).then(u,f)}m((r=r.apply(t,e||[])).next())})};const c3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class u3{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=E1(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return fn(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},Cb),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",c.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),s?.headers&&(u=Object.assign(Object.assign({},u),s.headers));const m=this._removeEmptyFolders(n),p=this._getFinalPath(m),y=yield(e=="PUT"?qh:hr)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:u},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Bt(o))return{data:null,error:o};throw o}})}upload(e,n,r){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return fn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",n);try{let f;const m=Object.assign({upsert:Cb.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",m.cacheControl)):(f=r,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const y=yield qh(this.fetch,u.toString(),f,{headers:p});return{data:{path:o,fullPath:y.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Bt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return fn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const o=yield hr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),c=new URL(this.url+o.url),u=c.searchParams.get("token");if(!u)throw new D0("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}update(e,n,r){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return fn(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return fn(this,void 0,void 0,function*(){try{return{data:{path:(yield hr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return fn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield hr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return fn(this,void 0,void 0,function*(){try{const s=yield hr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}download(e,n){return fn(this,void 0,void 0,function*(){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),c=o?`?${o}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield Zc(this.fetch,`${this.url}/${s}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Bt(u))return{data:null,error:u};throw u}})}info(e){return fn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Zc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:zh(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}exists(e){return fn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield l3(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r)&&r instanceof Fh){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const u=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&s.push(f);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${m}`)}}}remove(e){return fn(this,void 0,void 0,function*(){try{return{data:yield C1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}list(e,n,r){return fn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},c3),n),{prefix:e||""});return{data:yield hr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}listV2(e,n){return fn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield hr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const d3="2.12.1",f3={"X-Client-Info":`storage-js/${d3}`};var ci=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function u(p){try{m(r.next(p))}catch(y){c(y)}}function f(p){try{m(r.throw(p))}catch(y){c(y)}}function m(p){p.done?o(p.value):s(p.value).then(u,f)}m((r=r.apply(t,e||[])).next())})};class h3{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const o=new URL(e);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},f3),n),this.fetch=E1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ci(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}getBucket(e){return ci(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ci(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ci(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ci(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ci(this,void 0,void 0,function*(){try{return{data:yield C1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}}class m3 extends h3{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new u3(this.url,this.headers,e,this.fetch)}}const p3="2.57.4";let zo="";typeof Deno<"u"?zo="deno":typeof document<"u"?zo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zo="react-native":zo="node";const g3={"X-Client-Info":`supabase-js-${zo}/${p3}`},y3={headers:g3},b3={schema:"public"},v3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},x3={};var w3=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function u(p){try{m(r.next(p))}catch(y){c(y)}}function f(p){try{m(r.throw(p))}catch(y){c(y)}}function m(p){p.done?o(p.value):s(p.value).then(u,f)}m((r=r.apply(t,e||[])).next())})};const _3=t=>{let e;return t?e=t:typeof fetch>"u"?e=y1:e=fetch,(...n)=>e(...n)},k3=()=>typeof Headers>"u"?b1:Headers,S3=(t,e,n)=>{const r=_3(n),s=k3();return(o,c)=>w3(void 0,void 0,void 0,function*(){var u;const f=(u=yield e())!==null&&u!==void 0?u:t;let m=new s(c?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),r(o,Object.assign(Object.assign({},c),{headers:m}))})};var D3=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function u(p){try{m(r.next(p))}catch(y){c(y)}}function f(p){try{m(r.throw(p))}catch(y){c(y)}}function m(p){p.done?o(p.value):s(p.value).then(u,f)}m((r=r.apply(t,e||[])).next())})};function E3(t){return t.endsWith("/")?t:t+"/"}function C3(t,e){var n,r;const{db:s,auth:o,realtime:c,global:u}=t,{db:f,auth:m,realtime:p,global:y}=e,b={db:Object.assign(Object.assign({},f),s),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},p),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(n=y?.headers)!==null&&n!==void 0?n:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>D3(this,void 0,void 0,function*(){return""})};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function N3(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(E3(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const N1="2.71.1",gi=30*1e3,Ih=3,lh=Ih*gi,j3="http://localhost:9999",T3="supabase.auth.token",M3={"X-Client-Info":`gotrue-js/${N1}`},Yh="X-Supabase-Api-Version",j1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},O3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A3=600*1e3;class E0 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class R3 extends E0{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function L3(t){return Te(t)&&t.name==="AuthApiError"}class T1 extends E0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ma extends E0{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class ka extends Ma{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $3(t){return Te(t)&&t.name==="AuthSessionMissingError"}class Ec extends Ma{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cc extends Ma{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Nc extends Ma{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function P3(t){return Te(t)&&t.name==="AuthImplicitGrantRedirectError"}class Nb extends Ma{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qh extends Ma{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ch(t){return Te(t)&&t.name==="AuthRetryableFetchError"}class jb extends Ma{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Kh extends Ma{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tb=` 	
\r=`.split(""),U3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Tb.length;e+=1)t[Tb[e].charCodeAt(0)]=-2;for(let e=0;e<Jc.length;e+=1)t[Jc[e].charCodeAt(0)]=e;return t})();function Mb(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Jc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Jc[r]),e.queuedBits-=6}}function M1(t,e,n){const r=U3[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ob(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=c=>{F3(c,r,n)};for(let c=0;c<t.length;c+=1)M1(t.charCodeAt(c),s,o);return e.join("")}function B3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function H3(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}B3(r,e)}}function F3(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function z3(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)M1(t.charCodeAt(s),n,r);return new Uint8Array(e)}function q3(t){const e=[];return H3(t,n=>e.push(n)),new Uint8Array(e)}function I3(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Mb(s,n,r)),Mb(null,n,r),e.join("")}function Y3(t){return Math.round(Date.now()/1e3)+t}function Q3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Zn=()=>typeof window<"u"&&typeof document<"u",Xa={tested:!1,writable:!1},O1=()=>{if(!Zn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xa.tested)return Xa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xa.tested=!0,Xa.writable=!0}catch{Xa.tested=!0,Xa.writable=!1}return Xa.writable};function K3(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const A1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rl(async()=>{const{default:r}=await Promise.resolve().then(()=>Li);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},V3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",yi=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Za=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wa=async(t,e)=>{await t.removeItem(e)};class ku{constructor(){this.promise=new ku.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ku.promiseConstructor=Promise;function uh(t){const e=t.split(".");if(e.length!==3)throw new Kh("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!O3.test(e[r]))throw new Kh("JWT not in base64url format");return{header:JSON.parse(Ob(e[0])),payload:JSON.parse(Ob(e[1])),signature:z3(e[2]),raw:{header:e[0],payload:e[1]}}}async function W3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function G3(t,e){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await t(o);if(!e(o,null,c)){r(c);return}}catch(c){if(!e(o,c)){s(c);return}}})()})}function X3(t){return("0"+t.toString(16)).substr(-2)}function Z3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,X3).join("")}async function J3(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function e4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await J3(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ui(t,e,n=!1){const r=Z3();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await yi(t,`${e}-code-verifier`,s);const o=await e4(r);return[o,r===o?"plain":"s256"]}const t4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function n4(t){const e=t.headers.get(Yh);if(!e||!e.match(t4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function r4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function a4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const s4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function di(t){if(!s4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dh(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ab(t){return JSON.parse(JSON.stringify(t))}var i4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const es=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),o4=[502,503,504];async function Rb(t){var e;if(!V3(t))throw new Qh(es(t),0);if(o4.includes(t.status))throw new Qh(es(t),t.status);let n;try{n=await t.json()}catch(o){throw new T1(es(o),o)}let r;const s=n4(t);if(s&&s.getTime()>=j1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jb(es(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ka}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new jb(es(n),t.status,n.weak_password.reasons);throw new R3(es(n),t.status||500,r)}const l4=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ie(t,e,n,r){var s;const o=Object.assign({},r?.headers);o[Yh]||(o[Yh]=j1["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const c=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(c.redirect_to=r.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await c4(t,e,n+u,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function c4(t,e,n,r,s,o){const c=l4(e,r,s,o);let u;try{u=await t(n,Object.assign({},c))}catch(f){throw console.error(f),new Qh(es(f),0)}if(u.ok||await Rb(u),r?.noResolveJson)return u;try{return await u.json()}catch(f){await Rb(f)}}function Br(t){var e;let n=null;h4(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Y3(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Lb(t){const e=Br(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Sa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function u4(t){return{data:t,error:null}}function d4(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=t,c=i4(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},f=Object.assign({},c);return{data:{properties:u,user:f},error:null}}function f4(t){return t}function h4(t){return t.access_token&&t.refresh_token&&t.expires_in}const fh=["global","local","others"];var m4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class p4{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=A1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=fh[0]){if(fh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fh.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Sa})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=m4(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:d4,redirectTo:n?.redirectTo})}catch(n){if(Te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Sa})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,o,c,u,f;try{const m={nextPage:null,lastPage:0,total:0},p=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:f4});if(p.error)throw p.error;const y=await p.json(),b=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(f=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(x=>{const k=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);m[`${_}Page`]=k}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Te(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){di(e);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Sa})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){di(e);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Sa})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){di(e);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Sa})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){di(e.userId);try{const{data:n,error:r}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _deleteFactor(e){di(e.userId),di(e.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}}function $b(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function g4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fi={debug:!!(globalThis&&O1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class R1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class y4 extends R1{}async function b4(t,e,n){fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),fi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new y4(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}g4();const v4={url:j3,storageKey:T3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pb(t,e,n){return await n()}const hi={};class Go{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Go.nextInstanceID,Go.nextInstanceID+=1,this.instanceID>0&&Zn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},v4),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new p4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=A1(s.fetch),this.lock=s.lock||Pb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Zn()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=b4:this.lock=Pb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:O1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$b(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=$b(this.memoryStorage)),Zn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=hi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){hi[this.storageKey]=Object.assign(Object.assign({},hi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=hi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){hi[this.storageKey]=Object.assign(Object.assign({},hi[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${N1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=K3(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Zn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),P3(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Te(n)?{error:n}:{error:new T1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Br}),{data:c,error:u}=o;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,r,s;try{let o;if("email"in e){const{email:p,password:y,options:b}=e;let w=null,x=null;this.flowType==="pkce"&&([w,x]=await ui(this.storage,this.storageKey)),o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:p,password:y,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:w,code_challenge_method:x},xform:Br})}else if("phone"in e){const{phone:p,password:y,options:b}=e;o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(s=b?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Br})}else throw new Cc("You must provide either an email or phone number and a password");const{data:c,error:u}=o;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:c,options:u}=e;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Lb})}else if("phone"in e){const{phone:o,password:c,options:u}=e;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Lb})}else throw new Cc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ec}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,o,c,u,f,m,p,y,b,w;let x,k;if("message"in e)x=e.message,k=e.signature;else{const{chain:_,wallet:S,statement:D,options:C}=e;let T;if(Zn())if(typeof S=="object")T=S;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))T=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=S}const M=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const L=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),D?{statement:D}:null));let R;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")R=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)R=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)x=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),k=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${M.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(s=(r=C?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=C?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((m=C?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((y=(p=C?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...C.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const L=await T.signMessage(new TextEncoder().encode(x),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=L}}try{const{data:_,error:S}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:I3(k)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Br});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Ec}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(Te(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await Za(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:c}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Br});if(await wa(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Ec}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:c})}catch(o){if(Te(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:o,nonce:c}=e,u=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Br}),{data:f,error:m}=u;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Ec}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:m})}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,o,c;try{if("email"in e){const{email:u,options:f}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await ui(this.storage,this.storageKey));const{error:y}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:f}=e,{data:m,error:p}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=f?.data)!==null&&s!==void 0?s:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:p}}throw new Cc("You must provide either an email or phone number.")}catch(u){if(Te(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:u}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Br});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,m=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await ui(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:u4})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ka;const{error:s}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:c}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:r,type:s,options:o}=e,{data:c,error:u}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Cc("You must provide either an email or phone number and a type")}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<lh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const c=await Za(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=dh()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,m,p)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,m,p))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Sa}):await this._useSession(async n=>{var r,s,o;const{data:c,error:u}=n;if(u)throw u;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ka}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Sa})})}catch(n){if(Te(n))return $3(n)&&(await this._removeSession(),await wa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new ka;const c=s.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await ui(this.storage,this.storageKey));const{data:m,error:p}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:c.access_token,xform:Sa});if(p)throw p;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ka;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:c}=uh(e.access_token);if(c.exp&&(r=c.exp,s=r<=n),s){const{session:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Te(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:c,error:u}=n;if(u)throw u;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new ka;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Zn())throw new Nc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Nc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Nb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nb("No code detected.");const{data:D,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:c,expires_in:u,expires_at:f,token_type:m}=e;if(!o||!u||!c||!m)throw new Nc("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(u);let b=p+y;f&&(b=parseInt(f));const w=b-p;w*1e3<=gi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const x=b-y;p-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,b,p):p-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,b,p);const{data:k,error:_}=await this._getUser(o);if(_)throw _;const S={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:y,expires_at:b,refresh_token:c,token_type:m,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(Te(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Za(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const c=(r=s.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(L3(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await wa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Q3(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:c}=n;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ui(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var c,u,f,m,p;const{data:y,error:b}=o;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return Zn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(Te(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:c}=n;if(c)throw c;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await G3(async s=>(s>0&&await W3(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Br})),(s,o)=>{const c=200*Math.pow(2,s);return o&&ch(o)&&Date.now()+c-r<gi})}catch(r){if(this._debug(n,"error",r),Te(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Zn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Za(this.storage,this.storageKey);if(s&&this.userStorage){let c=await Za(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await yi(this.userStorage,this.storageKey+"-user",c)),s.user=(e=c?.user)!==null&&e!==void 0?e:dh()}else if(s&&!s.user&&!s.user){const c=await Za(this.storage,this.storageKey+"-user");c&&c?.user?(s.user=c.user,await wa(this.storage,this.storageKey+"-user"),await yi(this.storage,this.storageKey,s)):s.user=dh()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<lh;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${lh}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),ch(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(s.access_token);!u&&c?.user?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ka;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ku;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new ka;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),Te(o)){const c={session:null,error:o};return ch(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(f){o.push(f)}});if(await Promise.all(c),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await yi(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Ab(s);await yi(this.storage,this.storageKey,o)}else{const s=Ab(n);await yi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await wa(this.storage,this.storageKey),await wa(this.storage,this.storageKey+"-code-verifier"),await wa(this.storage,this.storageKey+"-user"),this.userStorage&&await wa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Zn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),gi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/gi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${gi}ms, refresh threshold is ${Ih} ticks`),s<=Ih&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof R1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,c]=await ui(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(u.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:c}=n;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:m}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((s=f?.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:c,error:u}=await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(n){if(Te(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Te(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=e?.factors||[],s=r.filter(c=>c.factor_type==="totp"&&c.status==="verified"),o=r.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=uh(s.access_token);let u=null;c.aal&&(u=c.aal);let f=u;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const p=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+A3>s)return r;const{data:o,error:c}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:w,error:x}=await this.getSession();if(x||!w.session)return{data:null,error:x};r=w.session.access_token}const{header:s,payload:o,signature:c,raw:{header:u,payload:f}}=uh(r);n?.allowExpired||r4(o.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:o,header:s,signature:c},error:null}}const p=a4(s.alg),y=await crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,c,q3(`${u}.${f}`)))throw new Kh("Invalid JWT signature");return{data:{claims:o,header:s,signature:c},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}}Go.nextInstanceID=0;const x4=Go;class w4 extends x4{constructor(e){super(e)}}var _4=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function u(p){try{m(r.next(p))}catch(y){c(y)}}function f(p){try{m(r.throw(p))}catch(y){c(y)}}function m(p){p.done?o(p.value):s(p.value).then(u,f)}m((r=r.apply(t,e||[])).next())})};class k4{constructor(e,n,r){var s,o,c;this.supabaseUrl=e,this.supabaseKey=n;const u=N3(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:b3,realtime:x3,auth:Object.assign(Object.assign({},v3),{storageKey:f}),global:y3},p=C3(r??{},m);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,p.global.fetch),this.fetch=S3(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new US(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new m3(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new NS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return _4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:c,flowType:u,lock:f,debug:m},p,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w4({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),p),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,flowType:u,lock:f,debug:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new t3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S4=(t,e,n)=>new k4(t,e,n);function D4(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}D4()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const E4="https://hjjaxtzutvrngbndhqfr.supabase.co",C4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhqamF4dHp1dHZybmdibmRocWZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMjY2NTMsImV4cCI6MjA2NDgwMjY1M30.oyJefBSDuG8tQtadZeTu7Vt5gMbQEW02WruFk62czJM",de=S4(E4,C4),L1=N.createContext(void 0),_n=()=>{const t=N.useContext(L1);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},N4=({children:t})=>{const[e,n]=N.useState(null),[r,s]=N.useState(null),[o,c]=N.useState(!0);N.useEffect(()=>{de.auth.getSession().then(({data:{session:b}})=>{s(b),n(b?.user??null),c(!1)});const{data:{subscription:y}}=de.auth.onAuthStateChange((b,w)=>{s(w),n(w?.user??null),c(!1)});return()=>y.unsubscribe()},[]);const p={user:e,session:r,loading:o,signInWithOtp:async y=>{console.log("🔐 signInWithOtp: Starting with email:",y);try{console.log("🔐 signInWithOtp: Calling Supabase auth.signInWithOtp...");const{data:b,error:w}=await de.auth.signInWithOtp({email:y,options:{shouldCreateUser:!1}});return console.log("🔐 signInWithOtp: Supabase response:",{hasData:!!b,hasError:!!w,errorMessage:w?.message,errorStatus:w?.status,errorName:w?.name}),w?(console.error("🔐 signInWithOtp: Supabase OTP error:",{message:w.message,status:w.status,name:w.name,stack:w.stack}),w.message.includes("User not found")||w.message.includes("Invalid login credentials")?(console.error("🔐 signInWithOtp: User not found in database"),{error:{message:"User not in database. Contact support for access."}}):w.message.includes("500")||w.message.includes("Internal Server Error")?(console.error("🔐 signInWithOtp: 500 error detected - likely database issue"),{error:{message:"Authentication service temporarily unavailable. Please try again in a few minutes."}}):{error:w}):(console.log("🔐 signInWithOtp: Success - OTP sent to existing user"),{error:null})}catch(b){return console.error("🔐 signInWithOtp: Unexpected error:",{error:b,message:b instanceof Error?b.message:"Unknown error",stack:b instanceof Error?b.stack:void 0}),{error:{message:"An unexpected error occurred. Please try again."}}}},verifyOtp:async(y,b)=>{console.log("🔐 verifyOtp: Starting with email:",y,"token length:",b.length);try{console.log("🔐 verifyOtp: Calling Supabase auth.verifyOtp...");const{data:w,error:x}=await de.auth.verifyOtp({email:y,token:b,type:"email"});return console.log("🔐 verifyOtp: Supabase response:",{hasData:!!w,hasSession:!!w?.session,hasUser:!!w?.session?.user,hasError:!!x,errorMessage:x?.message}),!x&&w.session&&(console.log("🔐 verifyOtp: Session created successfully:",{userId:w.session.user.id,userEmail:w.session.user.email,sessionExpiresAt:w.session.expires_at}),s(w.session),n(w.session.user)),x&&console.error("🔐 verifyOtp: Supabase error:",{message:x.message,status:x.status,name:x.name}),{error:x,session:w.session}}catch(w){return console.error("🔐 verifyOtp: Unexpected error:",{error:w,message:w instanceof Error?w.message:"Unknown error"}),{error:w,session:null}}},signOut:async()=>{await de.auth.signOut()}};return h.jsx(L1.Provider,{value:p,children:t})},Su=()=>{const t=ue.c(24),{user:e}=_n(),n=Ot(),r=e?.id;let s;t[0]!==r?(s=["userBackground",r],t[0]=r,t[1]=s):s=t[1];let o;t[2]!==e?(o=async()=>{if(!e)return"Vista.avif";const{data:C,error:T}=await de.from("profiles").select("bg").eq("id",e.id).single();return T?(console.error("Error fetching background preference:",T),"Vista.avif"):C?.bg||"Vista.avif"},t[2]=e,t[3]=o):o=t[3];const c=!!e;let u;t[4]!==s||t[5]!==o||t[6]!==c?(u={queryKey:s,queryFn:o,enabled:c,staleTime:3e5},t[4]=s,t[5]=o,t[6]=c,t[7]=u):u=t[7];const{data:f,isLoading:m,error:p}=pt(u);let y;t[8]!==e?(y=async C=>{if(!e)throw new Error("User not authenticated");const{error:T}=await de.from("profiles").update({bg:C}).eq("id",e.id);if(T)throw T;return C},t[8]=e,t[9]=y):y=t[9];let b;t[10]!==n||t[11]!==e?.id?(b=C=>{n.setQueryData(["userBackground",e?.id],C)},t[10]=n,t[11]=e?.id,t[12]=b):b=t[12];let w;t[13]!==y||t[14]!==b?(w={mutationFn:y,onSuccess:b,onError:j4},t[13]=y,t[14]=b,t[15]=w):w=t[15];const x=Ft(w);let k;t[16]!==x?(k=C=>{x.mutate(C)},t[16]=x,t[17]=k):k=t[17];const _=k,S=m?null:f||"Vista.avif";let D;return t[18]!==p||t[19]!==m||t[20]!==_||t[21]!==S||t[22]!==x.isPending?(D={currentBackground:S,setCurrentBackground:_,isLoading:m,error:p,isUpdating:x.isPending},t[18]=p,t[19]=m,t[20]=_,t[21]=S,t[22]=x.isPending,t[23]=D):D=t[23],D};function j4(t){console.error("Error updating background preference:",t)}const $1=N.createContext(void 0),T4=t=>{const e=ue.c(7),{children:n}=t,[r,s]=N.useState(!1);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=()=>s(M4),e[0]=o):o=e[0];const c=o;let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=y=>{y.isRainEnabled!==void 0&&s(y.isRainEnabled)},e[1]=u):u=e[1];const f=u;let m;e[2]!==r?(m={isRainEnabled:r,toggleRain:c,setRainSettings:f},e[2]=r,e[3]=m):m=e[3];let p;return e[4]!==n||e[5]!==m?(p=h.jsx($1.Provider,{value:m,children:n}),e[4]=n,e[5]=m,e[6]=p):p=e[6],p},P1=()=>{const t=N.useContext($1);if(t===void 0)throw new Error("useRain must be used within a RainProvider");return t};function M4(t){return!t}const U1=N.createContext(void 0);function O4(t){const e=ue.c(6),{children:n}=t,[r,s]=N.useState(!1);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{s(A4)},e[0]=o):o=e[0];const c=o;let u;e[1]!==r?(u={isSnowEnabled:r,toggleSnow:c},e[1]=r,e[2]=u):u=e[2];let f;return e[3]!==n||e[4]!==u?(f=h.jsx(U1.Provider,{value:u,children:n}),e[3]=n,e[4]=u,e[5]=f):f=e[5],f}function A4(t){return!t}function B1(){const t=N.useContext(U1);if(t===void 0)throw new Error("useSnow must be used within a SnowProvider");return t}const H1=N.createContext(void 0),R4=t=>{const e=ue.c(7),{children:n}=t,[r,s]=N.useState(!0);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=()=>s($4),e[0]=o):o=e[0];const c=o;let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=y=>{y.isLeavesEnabled!==void 0&&s(y.isLeavesEnabled)},e[1]=u):u=e[1];const f=u;let m;e[2]!==r?(m={isLeavesEnabled:r,toggleLeaves:c,setLeavesSettings:f},e[2]=r,e[3]=m):m=e[3];let p;return e[4]!==n||e[5]!==m?(p=h.jsx(H1.Provider,{value:m,children:n}),e[4]=n,e[5]=m,e[6]=p):p=e[6],p},L4=()=>{const t=N.useContext(H1);if(t===void 0)throw new Error("useLeaves must be used within a LeavesProvider");return t};function $4(t){return!t}const P4=t=>{const e=ue.c(19),{children:n}=t,{currentBackground:r}=Su(),{isRainEnabled:s}=P1(),{isSnowEnabled:o}=B1(),c=r&&r!=="offwhite"?`url('/${r}')`:"none",u=r==="jaobscenter.jpeg"?"cover":r==="offwhite"?"auto":"120% 120%",f=r==="offwhite"?"repeat":"no-repeat",m=r?r==="halloween.png"?"blur(4px)":r==="jaobscenter.jpeg"||r==="offwhite"?"none":"blur(8px)":"none";let p;e[0]!==c||e[1]!==u||e[2]!==f||e[3]!==m?(p=h.jsx("div",{className:"fixed inset-0 -z-10",style:{backgroundImage:c,backgroundSize:u,backgroundRepeat:f,backgroundPosition:"center center",backgroundAttachment:"fixed",backgroundColor:"#000000",filter:m,transform:"translateZ(0)"},id:"parallax-background"}),e[0]=c,e[1]=u,e[2]=f,e[3]=m,e[4]=p):p=e[4];let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=h.jsx("div",{className:"fixed inset-0 -z-5 pointer-events-none",style:{background:"radial-gradient(circle at center, rgba(255, 255, 255, 1.0) 0%, rgba(255, 255, 250, 0.9) 20%, rgba(255, 250, 240, 0.7) 40%, rgba(255, 240, 220, 0.5) 60%, transparent 80%)",mixBlendMode:"screen"}}),e[5]=y):y=e[5];let b;e[6]!==s?(b=!1,e[6]=s,e[7]=b):b=e[7];let w;e[8]===Symbol.for("react.memo_cache_sentinel")?(w=!1,e[8]=w):w=e[8];let x;e[9]!==o?(x=!1,e[9]=o,e[10]=x):x=e[10];let k;e[11]===Symbol.for("react.memo_cache_sentinel")?(k=!1,e[11]=k):k=e[11];let _;e[12]!==n?(_=h.jsx("main",{className:"flex-1 min-h-screen",children:n}),e[12]=n,e[13]=_):_=e[13];let S;return e[14]!==_||e[15]!==p||e[16]!==b||e[17]!==x?(S=h.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[p,y,b,w,x,k,_]}),e[14]=_,e[15]=p,e[16]=b,e[17]=x,e[18]=S):S=e[18],S};var U4=function(){return null};const F1=N.createContext(),Ub={"AVOC.JPEG":{isDark:!1,name:"AVOC"},"Gies.avif":{isDark:!1,name:"Gies"},"dusk.jpg":{isDark:!1,name:"Dusk"},"Vista.avif":{isDark:!1,name:"Vista"},"halloween.png":{isDark:!0,name:"Halloween"},"Ryan Fieldhouse.jpg":{isDark:!1,name:"Ryan Fieldhouse"},"jaobscenter.jpeg":{isDark:!1,name:"Jacobs Center"},offwhite:{isDark:!1,name:"Off White"}};function B4(t){const e=ue.c(16),{children:n}=t,{currentBackground:r}=Su(),s=Ub[r]||Ub["Vista.avif"],o=s.isDark;let c,u;e[0]!==o?(c=()=>{o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},u=[o],e[0]=o,e[1]=c,e[2]=u):(c=e[1],u=e[2]),N.useEffect(c,u);let f;e[3]!==r||e[4]!==s||e[5]!==o?(f=()=>({...s,isDarkMode:o,background:r}),e[3]=r,e[4]=s,e[5]=o,e[6]=f):f=e[6];const m=f;let p;e[7]!==m?(p=m(),e[7]=m,e[8]=p):p=e[8];let y;e[9]!==m||e[10]!==o||e[11]!==p?(y={isDarkMode:o,currentTheme:p,getTheme:m},e[9]=m,e[10]=o,e[11]=p,e[12]=y):y=e[12];let b;return e[13]!==n||e[14]!==y?(b=h.jsx(F1.Provider,{value:y,children:n}),e[13]=n,e[14]=y,e[15]=b):b=e[15],b}function zt(){const t=N.useContext(F1);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const H4=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(!1),[s,o]=N.useState(""),[c,u]=N.useState("success"),[f,m]=N.useState(!1),[p,y]=N.useState(""),{signInWithOtp:b,verifyOtp:w,user:x}=_n(),{isDarkMode:k,toggleDarkMode:_}=zt(),S=gn(),D=async R=>{if(R.preventDefault(),console.log("📧 handleSendOtp: Starting with email:",t),r(!0),o(""),!t){console.log("📧 handleSendOtp: No email provided"),o("Please enter your email address"),u("error"),r(!1);return}try{console.log("📧 handleSendOtp: Sending OTP to existing user...");const{error:$}=await b(t);console.log("📧 handleSendOtp: OTP result:",{hasError:!!$,errorMessage:$?.message}),$?(console.error("📧 handleSendOtp: OTP error:",$),o($.message),u("error")):(console.log("📧 handleSendOtp: OTP sent successfully"),o("Check your email for the verification code!"),u("success"),m(!0))}catch($){console.error("📧 handleSendOtp: Unexpected error:",$),o("An unexpected error occurred. Please try again."),u("error")}finally{r(!1)}},C=async R=>{if(R.preventDefault(),console.log("🔑 handleVerifyOtp: Starting with email:",t,"code length:",p.length),r(!0),o(""),!p||p.length!==6){console.log("🔑 handleVerifyOtp: Invalid OTP code length:",p.length),o("Please enter the 6-digit verification code"),u("error"),r(!1);return}try{console.log("🔑 handleVerifyOtp: Verifying OTP...");const{error:$,session:U}=await w(t,p);console.log("🔑 handleVerifyOtp: Verification result:",{hasError:!!$,hasSession:!!U,errorMessage:$?.message,userId:U?.user?.id}),$?(console.error("🔑 handleVerifyOtp: Verification error:",$),o($.message),u("error")):U?(console.log("🔑 handleVerifyOtp: Authentication complete, redirecting..."),o("Verification successful! Redirecting..."),u("success"),setTimeout(()=>{S("/")},1e3)):(console.log("🔑 handleVerifyOtp: No session returned from verification"),o("Verification failed. Please try again."),u("error"))}catch($){console.error("🔑 handleVerifyOtp: Unexpected error:",$),o("An unexpected error occurred. Please try again."),u("error")}finally{r(!1)}},T=async R=>{f?await C(R):await D(R)},M=async()=>{r(!0),o("");try{const{error:R}=await b(t);R?(o(R.message),u("error")):(o("New verification code sent!"),u("success"),y(""))}catch{o("An unexpected error occurred. Please try again."),u("error")}finally{r(!1)}},L=()=>{m(!1),y(""),o("")};return h.jsxs("div",{className:"min-h-screen flex items-center justify-center relative",children:[h.jsx("div",{className:"absolute inset-0 -z-10",style:{backgroundImage:"url(/image.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",filter:"blur(2px)"}}),h.jsx("div",{className:"max-w-md w-full mx-4",children:h.jsxs("div",{className:"p-8 rounded-2xl shadow-2xl backdrop-blur-md bg-white/20 border border-white/30 text-white",children:[h.jsxs("div",{className:"text-center mb-8 relative",children:[h.jsx("h1",{className:"text-3xl font-bold mb-2",children:"AVOC"}),h.jsxs("div",{className:"w-48 h-48 mx-auto mb-4 flex items-center justify-center relative",children:[h.jsx("img",{src:"/curtain.png",alt:"AVOC Logo",className:"w-full h-full object-contain"}),h.jsx("h1",{className:"absolute inset-0 flex items-center justify-center text-5xl font-bold text-white drop-shadow-lg",style:{fontFamily:"Smooth Circulars, sans-serif"},children:"HOME"})]})]}),h.jsxs("form",{onSubmit:T,className:"space-y-6",children:[f?h.jsxs("div",{children:[h.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium mb-2 text-white",children:"Verification Code"}),h.jsx("input",{type:"text",id:"otp",value:p,onChange:R=>y(R.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"123456",className:"w-full px-4 py-3 rounded-lg border border-white/30 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-400 text-center text-2xl tracking-widest bg-white/10 text-white placeholder-white/60 backdrop-blur-sm",disabled:n,maxLength:6}),h.jsxs("p",{className:"text-xs mt-2 text-white/70",children:["Enter the 6-digit code sent to ",t]})]}):h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2 text-white",children:"Northwestern Email Address"}),h.jsx("input",{type:"email",id:"email",value:t,onChange:R=>e(R.target.value),placeholder:"your.email@northwestern.edu",className:"w-full px-4 py-3 rounded-lg border border-white/30 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white/10 text-white placeholder-white/60 backdrop-blur-sm",disabled:n})]}),h.jsx("button",{type:"submit",disabled:n,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${n?"bg-gray-400 cursor-not-allowed":"bg-purple-500 hover:bg-purple-600 text-white"}`,children:n?h.jsxs("div",{className:"flex items-center justify-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),f?"Verifying...":"Sending code..."]}):f?"Verify Code":"Send Verification Code"}),f&&h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("button",{type:"button",onClick:L,className:`text-sm ${k?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:"← Back to email"}),h.jsx("button",{type:"button",onClick:M,disabled:n,className:`text-sm ${k?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:"Resend code"})]})]}),s&&h.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm ${c==="success"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:s})]})})]})},F4=()=>{const t=gn(),{isDarkMode:e}=zt(),[n,r]=N.useState(null);return N.useEffect(()=>{(async()=>{try{console.log("AuthCallback: Starting..."),console.log("AuthCallback: Current URL:",window.location.href),console.log("AuthCallback: URL search params:",window.location.search),console.log("AuthCallback: URL hash:",window.location.hash);const o=window.location.hash;if(o.includes("error=")){const f=new URLSearchParams(o.substring(1)),m=f.get("error"),p=f.get("error_description");console.log("AuthCallback: Error in URL:",{error:m,errorDescription:p}),r(p||m||"Authentication failed");return}console.log("AuthCallback: Checking for session...");const{data:c,error:u}=await de.auth.getSession();if(console.log("AuthCallback: Session check result:",{hasSession:!!c.session,sessionUser:c.session?.user?.email,error:u}),u){console.error("AuthCallback: Session error:",u),r(u.message||"Authentication failed");return}c.session?(console.log("AuthCallback: Session found, navigating to /"),t("/")):(console.log("AuthCallback: No session found"),r("Authentication failed. Please try again."))}catch(o){console.error("AuthCallback: Unexpected error:",o),r("An unexpected error occurred.")}})()},[t]),n?h.jsx("div",{className:`min-h-screen flex items-center justify-center ${e?"bg-gray-900":"bg-gray-50"}`,children:h.jsx("div",{className:`max-w-md w-full mx-4 p-8 rounded-2xl shadow-xl ${e?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-500 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-2xl",children:"⚠️"})}),h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Authentication Error"}),h.jsx("p",{className:"text-red-600 dark:text-red-400 mb-6",children:n}),h.jsx("button",{onClick:()=>t("/auth"),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Back to Sign In"})]})})}):h.jsx("div",{className:`min-h-screen flex items-center justify-center ${e?"bg-gray-900":"bg-gray-50"}`,children:h.jsx("div",{className:`max-w-md w-full mx-4 p-8 rounded-2xl shadow-xl ${e?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-500 rounded-full flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}),h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Signing you in..."}),h.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Please wait while we complete your authentication."})]})})})},Ja=t=>{const e=ue.c(4),{children:n}=t,{user:r,loading:s}=_n();if(s){let c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(c=h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})}),e[0]=c):c=e[0],c}if(!r){let c;return e[1]===Symbol.for("react.memo_cache_sentinel")?(c=h.jsx(sk,{to:"/auth",replace:!0}),e[1]=c):c=e[1],c}let o;return e[2]!==n?(o=h.jsx(h.Fragment,{children:n}),e[2]=n,e[3]=o):o=e[3],o},z4=()=>{const{user:t,signOut:e}=_n(),{isDarkMode:n,toggleDarkMode:r}=zt(),s=gn(),[o,c]=N.useState(!1),u=async()=>{c(!0);try{await e(),s("/auth")}catch(f){console.error("Error signing out:",f)}finally{c(!1)}};return t?h.jsxs("div",{className:`min-h-screen ${n?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:[h.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Account Settings"}),h.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"} mt-1`,children:"Manage your account preferences and settings"})]}),h.jsx("button",{onClick:()=>s("/"),className:`px-4 py-2 rounded-lg transition-colors ${n?"bg-gray-700 hover:bg-gray-600 text-white":"bg-white hover:bg-gray-100 text-gray-700"} shadow-sm`,children:"← Back to Schedule"})]}),h.jsx("div",{className:`rounded-lg shadow-sm ${n?"bg-gray-800":"bg-white"}`,children:h.jsxs("div",{className:"p-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Profile Information"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xl",children:t.email?.charAt(0).toUpperCase()||"U"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium",children:t.email}),h.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Signed in with magic link"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-lg font-medium",children:"Preferences"}),h.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-300 dark:border-gray-600 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:"Theme"}),h.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Choose your preferred appearance"})]}),h.jsx("button",{onClick:r,className:`px-4 py-2 rounded-lg transition-colors ${n?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:n?"🌙 Dark":"☀️ Light"})]})]}),h.jsxs("div",{className:"border-t border-gray-300 dark:border-gray-700 pt-6",children:[h.jsx("h3",{className:"text-lg font-medium mb-4",children:"Account Actions"}),h.jsx("button",{onClick:u,disabled:o,className:`w-full px-4 py-3 rounded-lg font-medium transition-colors ${o?"bg-gray-400 cursor-not-allowed text-gray-600":"bg-red-500 hover:bg-red-600 text-white"}`,children:o?h.jsxs("div",{className:"flex items-center justify-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing out..."]}):h.jsxs("div",{className:"flex items-center justify-center",children:[h.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]})]})]})})]}),h.jsx("footer",{className:"fixed bottom-0 left-0 right-0 py-2 px-4",children:h.jsx("div",{className:"max-w-7xl mx-auto flex justify-center items-center",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300 bg-white/40 dark:bg-white/10 backdrop-blur-sm border border-white/20 dark:border-white/10 shadow-lg rounded-full px-3 py-1",children:"Timezone: Chicago Standard Time"}),h.jsxs(y0,{to:"/about",className:"text-sm text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors flex items-center space-x-1 bg-white/40 dark:bg-white/10 backdrop-blur-sm border border-white/20 dark:border-white/10 shadow-lg rounded-full px-3 py-1",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.jsx("span",{children:"About"})]}),h.jsxs("a",{href:"https://forms.office.com/Pages/ResponsePage.aspx?id=YdN2fXeCCEekd2ToNmzRvLxLY25yMfNIg7aQOhsW0dRUOEVQRFBaQkxCTE0zWEFGQzA5MVJHRUZPUC4u",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors flex items-center space-x-1 bg-white/40 dark:bg-white/10 backdrop-blur-sm border border-white/20 dark:border-white/10 shadow-lg rounded-full px-3 py-1",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),h.jsx("span",{children:"Report a Bug"})]})]})})})]}):h.jsx("div",{className:`min-h-screen flex items-center justify-center ${n?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Not Authenticated"}),h.jsx("p",{className:"mb-4",children:"Please sign in to access your account."}),h.jsx("button",{onClick:()=>s("/auth"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Go to Sign In"})]})})},q4=()=>{const t=ue.c(14);zt();let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"About Glance AVOC"}),t[0]=e):e=t[0];let n,r;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=h.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:"Glance AVOC (Audio Visual Operations Center) is a comprehensive scheduling and management system for the Kellogg School of Management's AV equipment and room bookings. This web application provides real-time access to room schedules, faculty information, and AV setup requirements."}),r=h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Features"}),t[1]=n,t[2]=r):(n=t[1],r=t[2]);let s,o,c;t[3]===Symbol.for("react.memo_cache_sentinel")?(s=h.jsxs("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-300 mb-6 space-y-2",children:[h.jsx("li",{children:"Real-time room scheduling and availability"}),h.jsx("li",{children:"Faculty profile management with setup preferences"}),h.jsx("li",{children:"AV equipment tracking and configuration"}),h.jsx("li",{children:"Push notifications for upcoming events"}),h.jsx("li",{children:"Dark mode support for better viewing experience"}),h.jsx("li",{children:"Mobile-responsive design for all devices"})]}),o=h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Install on iPhone"}),c=h.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"You can install Glance AVOC on your iPhone to access it like a native app. Here's how:"}),t[3]=s,t[4]=o,t[5]=c):(s=t[3],o=t[4],c=t[5]);let u;t[6]===Symbol.for("react.memo_cache_sentinel")?(u=h.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-4",children:"How iPhone Users Can Install:"}),t[6]=u):u=t[6];let f;t[7]===Symbol.for("react.memo_cache_sentinel")?(f=h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-6",children:[u,h.jsxs("ol",{className:"list-decimal list-inside text-blue-800 dark:text-blue-200 space-y-3",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Open Safari"})," on iPhone"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Navigate"})," to your webapp"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Tap the Share button"})," (square with arrow)"]}),h.jsx("li",{children:h.jsx("strong",{children:'Select "Add to Home Screen"'})}),h.jsxs("li",{children:[h.jsx("strong",{children:"Customize the name"})," (optional)"]}),h.jsx("li",{children:h.jsx("strong",{children:'Tap "Add"'})})]})]}),t[7]=f):f=t[7];let m,p;t[8]===Symbol.for("react.memo_cache_sentinel")?(m=h.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6 mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-yellow-900 dark:text-yellow-100 mb-2",children:"💡 Pro Tip"}),h.jsx("p",{className:"text-yellow-800 dark:text-yellow-200",children:"Once installed, Glance AVOC will appear on your home screen like a native app. It will open in full-screen mode without Safari's interface, providing a seamless experience for managing your AV operations."})]}),p=h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"System Requirements"}),t[8]=m,t[9]=p):(m=t[8],p=t[9]);let y,b,w;t[10]===Symbol.for("react.memo_cache_sentinel")?(y=h.jsxs("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-300 mb-6 space-y-2",children:[h.jsx("li",{children:"Modern web browser (Chrome, Safari, Firefox, Edge)"}),h.jsx("li",{children:"iOS 12.0 or later for iPhone installation"}),h.jsx("li",{children:"Internet connection for real-time data"}),h.jsx("li",{children:"Northwestern email address for authentication"})]}),b=h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Support"}),w=h.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"For technical support or questions about Glance AVOC, please contact the Kellogg School of Management IT department or your AV operations team."}),t[10]=y,t[11]=b,t[12]=w):(y=t[10],b=t[11],w=t[12]);let x;return t[13]===Symbol.for("react.memo_cache_sentinel")?(x=h.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[e,h.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[n,r,s,o,c,f,m,p,y,b,w,h.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mt-8",children:h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"© 2024 Kellogg School of Management, Northwestern University. All rights reserved."})})]})]})})}),t[13]=x):x=t[13],x};function I4(t){const e=ue.c(12),{startHour:n,endHour:r,pixelsPerMinute:s}=t;Array.from({length:r-n+1},(b,w)=>n+w);const o=Y4;let c;e[0]!==r||e[1]!==s||e[2]!==n?(c=Array.from({length:r-n+1},(b,w)=>{if(w===0||w===r-n)return null;const x=n+w,k=w*60*s;return h.jsx("div",{className:"absolute text-center text-xs text-gray-700 font-bold px-2 py-1",style:{left:`${k}px`,top:"0px",zIndex:53},children:o(x)},x)}).filter(Boolean),e[0]=r,e[1]=s,e[2]=n,e[3]=c):c=e[3];const u=c;let f;e[4]!==r||e[5]!==s||e[6]!==n?(f=Array.from({length:r-n+1},(b,w)=>{if(w===0||w===r-n)return null;const x=w*60*s;return h.jsx("div",{className:"absolute top-1 w-px h-4 bg-gray-700",style:{left:`${x}px`,zIndex:70}},w)}).filter(Boolean),e[4]=r,e[5]=s,e[6]=n,e[7]=f):f=e[7];const m=f;let p;e[8]===Symbol.for("react.memo_cache_sentinel")?(p={zIndex:60,opacity:1},e[8]=p):p=e[8];let y;return e[9]!==u||e[10]!==m?(y=h.jsxs("div",{className:"sticky top-0 w-full h-6 bg-white/90 dark:bg-gray-900/90 z-50 flex items-center relative overflow-hidden",style:p,children:[u,m]}),e[9]=u,e[10]=m,e[11]=y):y=e[11],y}function Y4(t){const e=t>=12?"PM":"AM";return`${t%12||12} ${e}`}function Q4(t){const e=ue.c(11),{startHour:n,endHour:r,pixelsPerMinute:s}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=new Date,e[0]=o):o=e[0];const[c,u]=N.useState(o);let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f=new Date,e[1]=f):f=e[1];const m=N.useRef(f);let p,y;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{const _=new Date;m.current=_,u(_);const S=setInterval(()=>{const D=new Date;m.current=D,u(D)},3e4);return()=>{clearInterval(S)}},y=[],e[2]=p,e[3]=y):(p=e[2],y=e[3]),N.useEffect(p,y);const b=c.getHours(),w=c.getMinutes(),k=((b-n)*60+w)*s;if(b>=n&&b<=r&&k>=0){const _=`${k-6}px`;let S;e[4]!==_?(S=h.jsx("div",{className:"sticky top-0 animate-pulse",style:{left:_,width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"8px solid #ef4444",filter:"drop-shadow(0 0 8px rgba(239, 68, 68, 0.8)) drop-shadow(0 0 16px rgba(239, 68, 68, 0.4))",zIndex:1001,position:"absolute",pointerEvents:"none"}}),e[4]=_,e[5]=S):S=e[5];const D=`${k}px`;let C;e[6]!==D?(C=h.jsx("div",{className:"w-px  bg-red-500 animate-pulse ",style:{position:"absolute",left:D,top:"10px",height:"calc(100% - 10px)",boxShadow:"0 0 8px rgba(239, 68, 68, 0.8), 0 0 16px rgba(239, 68, 68, 0.4), 0 0 24px rgba(239, 68, 68, 0.2)",zIndex:1e3,pointerEvents:"none"}}),e[6]=D,e[7]=C):C=e[7];let T;return e[8]!==S||e[9]!==C?(T=h.jsxs(h.Fragment,{children:[S,C]}),e[8]=S,e[9]=C,e[10]=T):T=e[10],T}return null}const K4=t=>{const n=(t.resources||[]).map(m=>({...m,icon:eu(m.itemName),displayName:C0(m.itemName)}));let r=!1,s=!1,o=!1,c=!1,u=!1,f=!1;for(const m of n){const p=m.displayName;p&&(p.includes("Recording")&&(r=!0),p==="Staff Assistance"&&(s=!0),p==="Handheld Microphone"&&(o=!0),p==="Web Conference"&&(c=!0),p==="Clickers (Polling)"&&(u=!0),p==="AV Setup Notes"&&(f=!0))}return{resources:n,hasVideoRecording:r,hasStaffAssistance:s,hasHandheldMic:o,hasWebConference:c,hasClickers:u,hasAVNotes:f}},eu=t=>{const e=t?.toLowerCase()||"";return e.includes("video-conferencing")||e.includes("web conference")||e.includes("zoom")?"ZOOM_ICON":e.includes("video-recording")||e.includes("recording")?"🔴":e.includes("microphone")||e.includes("mic")?"🎤":e.includes("staff")||e.includes("assistance")?"🚶":e.includes("notes")||e.includes("kis")?"📝":e.includes("laptop")||e.includes("computer")?"💻":"📱"},V4=(t,e)=>t&&(e.startsWith("laptop")||e.startsWith("computer")?"Laptop "+t.substring(t.indexOf(" ")+1):e.startsWith("camera")||e.startsWith("doc cam")?"Camera "+t.substring(t.indexOf(" ")+1):e.includes("zoom")?t.replace(/zoom/i,"Zoom"):e.endsWith("staff assistance")?"Staff Assistance":e.endsWith("web conference")||e==="ksm-kgh-video-conferencing"?"Web Conference":e.startsWith("ksm-kgh-video-recording")?"Video Recording":e.endsWith("handheld microphone")?"Handheld Microphone":e.includes("clickers")&&e.includes("polling")?"Clickers (Polling)":e==="ksm-kgh-av-kis notes"?"AV Setup Notes":t),C0=t=>{const e=t?.toLowerCase()||"";return V4(t,e)},Du=t=>{const e=t.event_type||"";t.event_name;const n=e==="Lecture",r=e==="Ad Hoc Class Meeting",s=e==="KSM: Kellogg Special Events (KGH)"||e==="KSM: Kellogg FacStaff (KGH)"||e==="KSM: Student (KGH)"||e==="CMC"||e==="Ad Hoc Class Meeting",o=!!t.room_name?.includes("&"),c=t.event_type==="CMC"&&(t.room_name==="GH 2410A"||t.room_name==="GH 2410B"||!!t.room_name?.includes("2410A")||!!t.room_name?.includes("2410B")),u=o||c;c&&console.log("TEMPORARY FIX APPLIED: CMC event in 2410A/B forced to merged room event",{eventType:t.event_type,roomName:t.room_name,originalIsMergedRoomEvent:o,finalIsMergedRoomEvent:u});const f=e.toLowerCase().includes("student");return{isStudentEvent:f,isFacStaffEvent:!f,isLecture:n,isAdHocClassMeeting:r,isReducedHeightEvent:s,isMergedRoomEvent:u,truncatedEventName:z1(t)}},dr=t=>{const e=t.match(/bg-\[#([a-fA-F0-9]{6})\]/);return e?`#${e[1]}`:{"bg-white":"#ffffff","bg-gray-50":"#f9fafb","bg-gray-100":"#f3f4f6","bg-gray-200":"#e5e7eb","bg-gray-300":"#d1d5db","bg-gray-400":"#9ca3af","bg-gray-500":"#6b7280","bg-gray-600":"#4b5563","bg-gray-700":"#374151","bg-gray-800":"#1f2937","bg-gray-900":"#111827","bg-red-50":"#fef2f2","bg-red-100":"#fee2e2","bg-red-200":"#fecaca","bg-red-300":"#fca5a5","bg-red-400":"#f87171","bg-red-500":"#ef4444","bg-red-600":"#dc2626","bg-red-700":"#b91c1c","bg-red-800":"#991b1b","bg-red-900":"#7f1d1d","bg-amber-50":"#fffbeb","bg-amber-100":"#fef3c7","bg-amber-200":"#fde68a","bg-amber-300":"#fcd34d","bg-amber-400":"#fbbf24","bg-amber-500":"#f59e0b","bg-amber-600":"#d97706","bg-amber-700":"#b45309","bg-amber-800":"#92400e","bg-amber-900":"#78350f","bg-slate-50":"#f8fafc","bg-slate-100":"#f1f5f9","bg-slate-200":"#e2e8f0","bg-slate-300":"#cbd5e1","bg-slate-400":"#94a3b8","bg-slate-500":"#64748b","bg-slate-600":"#475569","bg-slate-700":"#334155","bg-slate-800":"#1e293b","bg-slate-900":"#0f172a"}[t]||"#ffffff"},gs=t=>{const e=Vn(t);return{1:dr(e[1]),2:dr(e[2]),3:dr(e[3]),4:dr(e[4]),5:dr(e[5]),6:dr(e[6]),7:dr(e[7]),8:dr(e[8]),9:dr(e[9]),10:dr(e[10]),text1:e.text1,text2:e.text2,text3:e.text3,text4:e.text4,text5:e.text5,text6:e.text6,text7:e.text7,text8:e.text8,text9:e.text9,text10:e.text10,border1:e.border1,border2:e.border2,border3:e.border3,border4:e.border4,border5:e.border5}},Vn=t=>{const e=t.event_type||"";t.event_name;const n=e==="Lecture",r=e==="Ad Hoc Class Meeting",s=e.toLowerCase().includes("student"),o=!s;return e==="KEC"?{1:"bg-[#fffef7]",2:"bg-[#fffcf0]",3:"bg-[#fff8e1]",4:"bg-[#fff3d4]",5:"bg-[#ffe0a6]",6:"bg-[#f4d03f]",7:"bg-[#e6b800]",8:"bg-[#c89664]",9:"bg-[#a67c52]",10:"bg-[#8b6914]",text1:"text-[#8b6914]",text2:"text-[#a67c52]",text3:"text-[#c89664]",text4:"text-[#e6b800]",text5:"text-[#f4d03f]",text6:"text-[#ffe0a6]",text7:"text-[#fff3d4]",text8:"text-[#fff8e1]",text9:"text-[#fffcf0]",text10:"text-white",border1:"border-[#fff8e1]",border2:"border-[#fff3d4]",border3:"border-[#ffe0a6]",border4:"border-[#f4d03f]",border5:"border-[#e6b800]"}:e==="KSM: Kellogg FacStaff (KGH)"?{1:"bg-[#e8f0f8]",2:"bg-[#d1e0f0]",3:"bg-[#b8d0e8]",4:"bg-[#9bbcd4]",5:"bg-[#6d8fbf]",6:"bg-[#59739b]",7:"bg-[#4f6683]",8:"bg-[#455b6f]",9:"bg-[#3a4f5c]",10:"bg-[#2f4349]",text1:"text-[#2f4349]",text2:"text-[#3a4f5c]",text3:"text-[#455b6f]",text4:"text-[#4f6683]",text5:"text-[#59739b]",text6:"text-[#6d8fbf]",text7:"text-[#9bbcd4]",text8:"text-[#b8d0e8]",text9:"text-[#d1e0f0]",text10:"text-white",border1:"border-[#b8d0e8]",border2:"border-[#9bbcd4]",border3:"border-[#6d8fbf]",border4:"border-[#59739b]",border5:"border-[#4f6683]"}:e==="CMC"?{1:"bg-[#f8e8e8]",2:"bg-[#f0d4d4]",3:"bg-[#e8b8b8]",4:"bg-[#d49494]",5:"bg-[#c26868]",6:"bg-[#a54f4f]",7:"bg-[#7e3d3d]",8:"bg-[#5a2a2a]",9:"bg-[#3d1f1f]",10:"bg-[#1a0d0d]",text1:"text-[#1a0d0d]",text2:"text-[#3d1f1f]",text3:"text-[#5a2a2a]",text4:"text-[#7e3d3d]",text5:"text-[#a54f4f]",text6:"text-[#c26868]",text7:"text-[#d49494]",text8:"text-[#e8b8b8]",text9:"text-[#f0d4d4]",text10:"text-white",border1:"border-[#e8b8b8]",border2:"border-[#d49494]",border3:"border-[#c26868]",border4:"border-[#a54f4f]",border5:"border-[#7e3d3d]"}:n?{1:"bg-[#f0e6ff]",2:"bg-[#d4c2ff]",3:"bg-[#b19cd9]",4:"bg-[#8d7dad]",5:"bg-[#866dbf]",6:"bg-[#6b5b8f]",7:"bg-[#605283]",8:"bg-[#4a3e60]",9:"bg-[#3e3250]",10:"bg-[#332640]",text1:"text-[#332640]",text2:"text-[#3e3250]",text3:"text-[#4a3e60]",text4:"text-[#605283]",text5:"text-[#6b5b8f]",text6:"text-[#7c6ca1]",text7:"text-[#8d7dad]",text8:"text-[#9e8eb9]",text9:"text-[#af9fc5]",text10:"text-white",border1:"border-[#b19cd9]",border2:"border-[#8d7dad]",border3:"border-[#7c6ca1]",border4:"border-[#6b5b8f]",border5:"border-[#605283]"}:r?{1:"bg-[#f2f2f5]",2:"bg-[#e6e6eb]",3:"bg-[#d4d4da]",4:"bg-[#c0c0c8]",5:"bg-[#9a9aab]",6:"bg-[#777788]",7:"bg-[#666678]",8:"bg-[#525260]",9:"bg-[#3d3d46]",10:"bg-[#29292f]",text1:"text-[#29292f]",text2:"text-[#3d3d46]",text3:"text-[#525260]",text4:"text-[#666678]",text5:"text-[#777788]",text6:"text-[#9a9aab]",text7:"text-[#c0c0c8]",text8:"text-[#d4d4da]",text9:"text-[#e6e6eb]",text10:"text-white",border1:"border-[#d4d4da]",border2:"border-[#c0c0c8]",border3:"border-[#9a9aab]",border4:"border-[#777788]",border5:"border-[#666678]"}:s?{1:"bg-[#f0f9f0]",2:"bg-[#dcf4dc]",3:"bg-[#bbf0bb]",4:"bg-[#9ae69a]",5:"bg-[#6dd86d]",6:"bg-[#4ade80]",7:"bg-[#22c55e]",8:"bg-[#16a34a]",9:"bg-[#15803d]",10:"bg-[#14532d]",text1:"text-[#14532d]",text2:"text-[#15803d]",text3:"text-[#16a34a]",text4:"text-[#22c55e]",text5:"text-[#4ade80]",text6:"text-[#6dd86d]",text7:"text-[#9ae69a]",text8:"text-[#bbf0bb]",text9:"text-[#dcf4dc]",text10:"text-white",border1:"border-[#bbf0bb]",border2:"border-[#9ae69a]",border3:"border-[#6dd86d]",border4:"border-[#4ade80]",border5:"border-[#22c55e]"}:o?{1:"bg-slate-50",2:"bg-slate-100",3:"bg-slate-200",4:"bg-slate-300",5:"bg-slate-400",6:"bg-slate-500",7:"bg-slate-600",8:"bg-slate-700",9:"bg-slate-800",10:"bg-slate-900",text1:"text-slate-100",text2:"text-slate-200",text3:"text-slate-300",text4:"text-slate-400",text5:"text-slate-500",text6:"text-slate-600",text7:"text-slate-700",text8:"text-slate-800",text9:"text-slate-900",text10:"text-white",border1:"border-slate-200",border2:"border-slate-300",border3:"border-slate-400",border4:"border-slate-500",border5:"border-slate-600"}:{1:"bg-gray-50",2:"bg-gray-100",3:"bg-gray-200",4:"bg-gray-300",5:"bg-gray-400",6:"bg-gray-500",7:"bg-gray-600",8:"bg-gray-700",9:"bg-gray-800",10:"bg-gray-900",text1:"text-gray-100",text2:"text-gray-200",text3:"text-gray-300",text4:"text-gray-400",text5:"text-gray-500",text6:"text-gray-600",text7:"text-gray-700",text8:"text-gray-800",text9:"text-gray-900",text10:"text-white",border1:"border-gray-200",border2:"border-gray-300",border3:"border-gray-400",border4:"border-gray-500",border5:"border-gray-600"}},W4=t=>{switch(t){case"Lecture":return"lecture-gradient";case"Ad Hoc Class Meeting":return"ad-hoc-solid";case"KEC":return"kec-gradient";case"KSM: Kellogg FacStaff (KGH)":return"ksm-facstaff-solid";case"CMC":return"cmc-solid";default:return t.toLowerCase().includes("student")?"student-event-solid":!t.toLowerCase().includes("student")&&t!=="KSM: Kellogg FacStaff (KGH)"?"facstaff-event-solid":"default-event-solid"}},G4=t=>{let e="rgb(59 130 246)";if(t.includes("bg-[")&&t.includes("]")){const n=t.match(/bg-\[#([a-fA-F0-9]{6})\]/);if(n){const r=n[1],s=parseInt(r.substr(0,2),16),o=parseInt(r.substr(2,2),16),c=parseInt(r.substr(4,2),16);e=`rgb(${s} ${o} ${c})`}}else t.includes("bg-slate-")?e={"bg-slate-50":"rgb(248 250 252)","bg-slate-100":"rgb(241 245 249)","bg-slate-200":"rgb(226 232 240)","bg-slate-300":"rgb(203 213 225)","bg-slate-400":"rgb(148 163 184)","bg-slate-500":"rgb(100 116 139)","bg-slate-600":"rgb(71 85 105)","bg-slate-700":"rgb(51 65 85)","bg-slate-800":"rgb(30 41 59)","bg-slate-900":"rgb(15 23 42)"}[t]||"rgb(148 163 184)":t.includes("bg-gray-")&&(e={"bg-gray-50":"rgb(249 250 251)","bg-gray-100":"rgb(243 244 246)","bg-gray-200":"rgb(229 231 235)","bg-gray-300":"rgb(209 213 219)","bg-gray-400":"rgb(156 163 175)","bg-gray-500":"rgb(107 114 128)","bg-gray-600":"rgb(75 85 99)","bg-gray-700":"rgb(55 65 81)","bg-gray-800":"rgb(31 41 55)","bg-gray-900":"rgb(17 24 39)"}[t]||"rgb(156 163 175)");return e},X4=(t,e,n,r,s=1)=>{if(!t.start_time||!t.end_time)return{startMinutes:0,endMinutes:0,durationMinutes:0,left:"0px",width:"0px"};const[o,c]=t.start_time.split(":").map(Number),[u,f]=t.end_time.split(":").map(Number),m=o*60+c,p=u*60+f,y=p-m,b=m-e,w=p-e,x=Math.max(y*n-s*2,30);return{startMinutes:b,endMinutes:w,durationMinutes:y,left:`${b*n+s-r}px`,width:`${x}px`}};function z1(t){const e=t.event_name?String(t.event_name):"",n=t.event_type||"";if(n==="Lecture"||n==="Exam"||n==="Lab"){const r=e.indexOf("-");return r!==-1?e.substring(0,r):e}return e}function N0(t,e,n=[]){if(t.man_owner===e)return!0;if(!t.date||!t.start_time||!t.end_time||!t.room_name)return!1;const r=t.date,s=t.start_time,o=t.end_time,c=t.room_name,u=n.filter(f=>{if(!f.date||!f.start_time||!f.end_time||f.date!==r)return!1;const m=f.start_time,p=f.end_time;return s>=m&&s<p||o>m&&o<=p||s<=m&&o>=p});for(const f of u)if(f.assignments&&Array.isArray(f.assignments)){for(const m of f.assignments)if(m&&m.rooms&&Array.isArray(m.rooms)&&m.rooms.includes(c)&&m.user===e)return!0}return!1}const q1=t=>{const e=ue.c(8),n=t?.event_name;let r;e[0]!==n?(r=["occurrences",n],e[0]=n,e[1]=r):r=e[1];let s;e[2]!==t?(s=async()=>{if(!t?.event_name)return{occurrences:[],isFirstSession:!1};const{data:u,error:f}=await de.from("events").select("*").eq("event_name",t.event_name).order("date",{ascending:!0}).order("start_time",{ascending:!0});if(f)throw console.error("Error fetching occurrences:",f),f;const m=u||[],p=Z4(t,m);return{occurrences:m,isFirstSession:p}},e[2]=t,e[3]=s):s=e[3];const o=!!t?.event_name;let c;return e[4]!==r||e[5]!==s||e[6]!==o?(c={queryKey:r,queryFn:s,enabled:o,staleTime:3e5},e[4]=r,e[5]=s,e[6]=o,e[7]=c):c=e[7],pt(c)};function Z4(t,e){return!e||e.length===0||t.event_type!=="Lecture"?!1:[...e].sort((r,s)=>{const o=r.start_time?new Date(r.start_time).getTime():0,c=s.start_time?new Date(s.start_time).getTime():0;return o-c})[0]?.id===t.id}const Xo=async(t,e,n,r,s,o)=>{console.log("Creating notification:",{userId:t,title:e,message:n,type:r,eventId:s,data:o});const{data:c,error:u}=await de.from("notifications").insert({user_id:t,title:e,message:n,type:r,event_id:s,data:o}).select().single();return u?console.error("Error creating notification:",u):console.log("Notification created successfully:",c),{notification:c,error:u}},J4=async t=>{const{data:e,error:n}=await de.from("notifications").select("*").eq("user_id",t).order("created_at",{ascending:!1});return n?(console.error("Error fetching notifications:",n),[]):e||[]},e5=async t=>{const{error:e}=await de.from("notifications").update({read_at:new Date().toISOString()}).eq("id",t);e&&console.error("Error marking notification as read:",e)},t5=async t=>{const{error:e}=await de.from("notifications").update({read_at:new Date().toISOString()}).eq("user_id",t).is("read_at",null);e&&console.error("Error marking all notifications as read:",e)},n5=async t=>{const{error:e}=await de.from("notifications").delete().eq("id",t);e&&console.error("Error deleting notification:",e)},r5=async(t,e,n)=>{console.log("notifyEventAssignment called:",{eventId:t,assignedUserId:e,eventName:n});const{data:r,error:s}=await de.from("events").select("date, start_time, end_time").eq("id",t).single();if(s){console.error("Error fetching event details for notification:",s);const w=await Xo(e,"New Event Assignment",`You've been assigned to: ${n}`,"event_assignment",t,{eventName:n});try{await Vh(n)}catch(x){console.error("Failed to send system notification for assignment:",x)}return console.log("notifyEventAssignment result:",w),w}const o=w=>{if(!w)return"";try{return new Date(`2000-01-01T${w}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(x){return console.error("Error formatting time:",w,x),w}},u=(w=>{if(!w)return"";try{return new Date(w).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}catch(x){return console.error("Error formatting date:",w,x),w}})(r.date||""),f=o(r.start_time||""),m=o(r.end_time||""),p=f&&m?`${f} - ${m}`:"",y=u&&p?`${n}
${u} at ${p}`:n,b=await Xo(e,"You Have Been Assigned to an Event",y,"event_assignment",t,{eventName:n,date:r.date,startTime:r.start_time,endTime:r.end_time});try{await Vh(n,r.date||void 0,r.start_time||void 0,r.end_time||void 0)}catch(w){console.error("Failed to send system notification for assignment:",w)}return console.log("notifyEventAssignment result:",b),b},a5=async(t,e,n)=>Xo(e,"Setup Reminder",`Event starts in 10 minutes: ${n}`,"setup_reminder",t,{eventName:n}),s5=async t=>{const e=await Xo(t,"Test Notification","This is a test notification to verify the system is working!","test",void 0,{test:!0});try{await Vh("Test Event Assignment",new Date().toISOString().split("T")[0],"14:30:00","15:30:00")}catch(n){console.error("Failed to send test system notification:",n)}return e},Vh=async(t,e,n,r)=>{if(!("Notification"in window))return console.log("This browser does not support notifications"),!1;if(Notification.permission!=="granted")return console.log("Notification permission not granted"),!1;try{const s=w=>{if(!w)return"";try{return new Date(`2000-01-01T${w}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(x){return console.error("Error formatting time:",w,x),w||""}},c=(w=>{if(!w)return"";try{return new Date(w).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}catch(x){return console.error("Error formatting date:",w,x),w}})(e),u=s(n),f=s(r),m=u&&f?`${u} - ${f}`:"",p="You Have Been Assigned to an Event",y=c&&m?`${t}
${c} at ${m}`:t;console.log("Sending system notification for event assignment:",{title:p,body:y});const b=new Notification(p,{body:y,icon:"/wildcat2.png",badge:"/wildcat2.png",tag:`event-assignment-${Date.now()}`,requireInteraction:!1,silent:!1});return setTimeout(()=>{b.close()},15e3),b.onclick=()=>{window.focus(),b.close()},!0}catch(s){return console.error("Error sending event assignment notification:",s),!1}};function sl(t){const e=ue.c(2);let n;return e[0]!==t?(n={queryKey:["shift_blocks",t],queryFn:async()=>{if(t==null){const{data:o,error:c}=await de.from("shift_blocks").select("*").order("date",{ascending:!0}).order("start_time",{ascending:!0});if(c)throw c;return o||[]}const{data:r,error:s}=await de.from("shift_blocks").select("*").eq("date",t).order("start_time",{ascending:!0});if(s)throw s;return r||[]},staleTime:1/0,gcTime:864e5,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1},e[0]=t,e[1]=n):n=e[1],pt(n)}function i5(){const t=ue.c(2),e=Ot();let n;return t[0]!==e?(n={mutationFn:o5,onSuccess:async(r,s)=>{await e.refetchQueries({queryKey:["shift_blocks",s.date]}),await e.refetchQueries({queryKey:["shift_blocks"]}),e.invalidateQueries({queryKey:["eventOwnership"]})}},t[0]=e,t[1]=n):n=t[1],Ft(n)}async function o5(t){const{date:e,newBlocks:n}=t;console.log("🔄 Updating shift blocks for date:",e),console.log("  📅 Date:",e),console.log("  📦 New blocks:",n.length);const{error:r}=await de.from("shift_blocks").delete().eq("date",e);if(r)throw console.error("❌ Error deleting existing blocks:",r),r;if(console.log("🗑️ Deleted existing shift blocks for date",e),n.length>0){const s=n.filter(c5);console.log(`🔍 Filtered ${n.length-s.length} zero-duration blocks`),console.log("🔍 Valid blocks to insert:",s.map(l5));const{data:o,error:c}=await de.from("shift_blocks").insert(s).select();if(c)throw console.error("❌ Error inserting new blocks:",c),c;return console.log("✅ Successfully inserted",o?.length,"new blocks"),o}return[]}function l5(t){return{start:t.start_time,end:t.end_time}}function c5(t){return t.start_time===t.end_time?(console.error(`🚨 ERROR: Attempting to insert zero-duration block: ${t.start_time} -> ${t.end_time}`),!1):!0}const u5=async t=>{try{const{data:e,error:n}=await de.from("events").select("*").eq("id",t).single();if(n)throw console.error("Error fetching event:",n),n;return e}catch(e){throw console.error("Error in fetchEvent:",e),e}};function Eu(t,e){const n=ue.c(12),r=Ot();let s,o;n[0]!==t?(s=["event",t],o=()=>u5(t),n[0]=t,n[1]=s,n[2]=o):(s=n[1],o=n[2]);const c=!!t;let u;n[3]!==e||n[4]!==t||n[5]!==r?(u=()=>{if(!e)return;const m=r.getQueryData(["events",e]);return Array.isArray(m)?m.find(p=>p.id===t):void 0},n[3]=e,n[4]=t,n[5]=r,n[6]=u):u=n[6];let f;return n[7]!==s||n[8]!==o||n[9]!==c||n[10]!==u?(f={queryKey:s,queryFn:o,enabled:c,staleTime:3e5,gcTime:36e5,refetchOnMount:!1,initialData:u},n[7]=s,n[8]=o,n[9]=c,n[10]=u,n[11]=f):f=n[11],pt(f)}function d5(t,e){if(!t.date||!t.start_time||!t.end_time||!t.room_name)return[];const n=t.date,r=t.start_time,s=t.end_time,o=t.room_name,c=e.filter(f=>{if(!f.date||!f.start_time||!f.end_time||f.date!==n)return!1;const m=f.start_time,p=f.end_time;return r>=m&&r<p||s>m&&s<=p||r<=m&&s>=p}),u=[];return c.forEach(f=>{if(!f.start_time||!f.end_time||!f.assignments)return;const m=[];Array.isArray(f.assignments)&&f.assignments.forEach(p=>{p&&p.rooms&&Array.isArray(p.rooms)&&p.rooms.includes(o)&&m.push(p.user)}),u.push({blockId:f.id,startTime:f.start_time,endTime:f.end_time,owners:m})}),u.sort((f,m)=>f.startTime.localeCompare(m.startTime))}function f5(t){if(t.length===0)return{owners:[],handOffTimes:[]};const e=new Set;t.forEach(r=>{r.owners.forEach(s=>e.add(s))});const n=[];for(let r=0;r<t.length-1;r++){const s=t[r],o=t[r+1],c=new Set(s.owners),u=new Set(o.owners);(c.size!==u.size||!Array.from(c).every(m=>u.has(m)))&&n.push(s.endTime)}return{owners:Array.from(e),handOffTimes:n}}function h5(t,e,n){const r=[];return n?(r.push({ownerId:n,transitionTime:void 0}),r):t.length===0?[]:(t.forEach((s,o)=>{r.push({ownerId:s,transitionTime:o<e.length?e[o]:void 0})}),r)}function j0(t){const e=ue.c(12),{data:n}=Eu(t),{data:r,isLoading:s,error:o}=sl(n?.date||null);let c;e[0]!==r?(c=r===void 0?[]:r,e[0]=r,e[1]=c):c=e[1];const u=c;let f;e[2]!==t?(f=["eventOwnership",t],e[2]=t,e[3]=f):f=e[3];let m;e[4]!==n||e[5]!==u||e[6]!==o||e[7]!==s?(m=async()=>{if(!n?.date||s||o)return null;const y=d5(n,u),b=f5(y),w=h5(b.owners,b.handOffTimes,n.man_owner);return{intersectingBlocks:y,...b,timeline:w}},e[4]=n,e[5]=u,e[6]=o,e[7]=s,e[8]=m):m=e[8];let p;return e[9]!==f||e[10]!==m?(p={queryKey:f,queryFn:m,staleTime:1/0,gcTime:864e5,refetchOnMount:!0,refetchOnWindowFocus:!1,refetchOnReconnect:!1},e[9]=f,e[10]=m,e[11]=p):p=e[11],pt(p)}function m5(){const t=Ot();return Ft({mutationFn:async({eventId:e,userId:n})=>{const{data:r,error:s}=await de.from("events").update({man_owner:n}).eq("id",e).select().single();if(s)throw s;return r},onSuccess:async e=>{t.setQueryData(["event",e.id],e);const n=e.date,r=t.getQueryData(["events",n]);if(r){const s=r.map(o=>o.id===e.id?e:o);t.setQueryData(["events",n],s)}t.invalidateQueries({queryKey:["eventOwnership",e.id]});try{await r5(e.id,e.man_owner,e.event_name||"Event")}catch(s){console.error("Failed to send event assignment notification:",s)}}})}function p5(){const t=ue.c(2),e=Ot();let n;return t[0]!==e?(n={mutationFn:g5,onSuccess:r=>{e.setQueryData(["event",r.id],r);const s=r.date,o=e.getQueryData(["events",s]);if(o){const c=o.map(u=>u.id===r.id?r:u);e.setQueryData(["events",s],c)}e.invalidateQueries({queryKey:["eventOwnership",r.id]})}},t[0]=e,t[1]=n):n=t[1],Ft(n)}async function g5(t){const{eventId:e}=t,{data:n,error:r}=await de.from("events").update({man_owner:null}).eq("id",e).select().single();if(r)throw r;return n}const y5=1800*1e3,Bb=(t,e,n,r)=>{const s=ue.c(4),{data:o,isLoading:c,error:u}=usePanoptoChecksData(t);let f;e:{if(!t||!e||!n||!r||!o){f=!1;break e}try{const y=new Date(`${r}T${e}`),w=new Date(`${r}T${n}`).getTime()-y.getTime(),x=Math.floor(w/y5);if(x===0){f=!0;break e}f=o.filter(b5).length>=x}catch(y){console.error("Error checking completion status:",y),f=!1}}const m=f;let p;return s[0]!==u||s[1]!==m||s[2]!==c?(p={isComplete:m,isLoading:c,error:u},s[0]=u,s[1]=m,s[2]=c,s[3]=p):p=s[3],p};function b5(t){return t.completed_time!==null}const ys=()=>{const t=ue.c(40),{user:e}=_n(),n=Ot(),r=e?.id;let s;t[0]!==r?(s=["profile",r],t[0]=r,t[1]=s):s=t[1];const o=s;let c;t[2]!==e?(c=async()=>{if(!e)throw new Error("No user");const{data:V,error:X}=await de.from("profiles").select("*").eq("id",e.id).single();if(X)throw X;return V},t[2]=e,t[3]=c):c=t[3];const u=!!e;let f;t[4]!==o||t[5]!==c||t[6]!==u?(f={queryKey:o,queryFn:c,enabled:u},t[4]=o,t[5]=c,t[6]=u,t[7]=f):f=t[7];const{data:m,isLoading:p,error:y}=pt(f);let b;t[8]!==e?(b=async V=>{if(!e)throw new Error("No user");const{error:X}=await de.from("profiles").update({auto_hide:V}).eq("id",e.id);if(X)throw X;return{auto_hide:V}},t[8]=e,t[9]=b):b=t[9];let w;t[10]!==o||t[11]!==n?(w=()=>{n.invalidateQueries({queryKey:o})},t[10]=o,t[11]=n,t[12]=w):w=t[12];let x;t[13]!==b||t[14]!==w?(x={mutationFn:b,onSuccess:w},t[13]=b,t[14]=w,t[15]=x):x=t[15];const k=Ft(x);let _;t[16]!==e?(_=async V=>{if(!e)throw new Error("No user");const{error:X}=await de.from("profiles").update({current_filter:V}).eq("id",e.id);if(X)throw X;return{current_filter:V}},t[16]=e,t[17]=_):_=t[17];let S;t[18]!==o||t[19]!==n?(S=()=>{n.invalidateQueries({queryKey:o})},t[18]=o,t[19]=n,t[20]=S):S=t[20];let D;t[21]!==_||t[22]!==S?(D={mutationFn:_,onSuccess:S},t[21]=_,t[22]=S,t[23]=D):D=t[23];const C=Ft(D);let T;t[24]!==k?(T=V=>{k.mutate(V)},t[24]=k,t[25]=T):T=t[25];const M=T;let L;t[26]!==C?(L=V=>{C.mutate(V)},t[26]=C,t[27]=L):L=t[27];const R=L,$=m?.auto_hide||!1,U=m?.current_filter;let q;return t[28]!==y||t[29]!==p||t[30]!==m||t[31]!==$||t[32]!==U||t[33]!==M||t[34]!==k.error||t[35]!==k.isPending||t[36]!==R||t[37]!==C.error||t[38]!==C.isPending?(q={profile:m,autoHide:$,currentFilter:U,isLoading:p,isUpdatingAutoHide:k.isPending,isUpdatingCurrentFilter:C.isPending,error:y,autoHideError:k.error,currentFilterError:C.error,updateAutoHide:M,updateCurrentFilter:R},t[28]=y,t[29]=p,t[30]=m,t[31]=$,t[32]=U,t[33]=M,t[34]=k.error,t[35]=k.isPending,t[36]=R,t[37]=C.error,t[38]=C.isPending,t[39]=q):q=t[39],q},v5=t=>{const e=Array.isArray(t.display)?t.display:[];return{id:t.id,name:t.name,display:e,owner:t.owner,isDefault:t.default||!1,createdAt:t.created_at}},Cu=()=>{const t=ue.c(27),{user:e}=_n(),n=Ot(),r=e?.id;let s;t[0]!==r?(s=["filters",r],t[0]=r,t[1]=s):s=t[1];const o=s,c=!!e;let u;t[2]!==o||t[3]!==c?(u={queryKey:o,queryFn:x5,enabled:c},t[2]=o,t[3]=c,t[4]=u):u=t[4];const{data:f,isLoading:m,error:p}=pt(u);let y;t[5]!==e?(y=async M=>{if(!e)throw new Error("No user");const{data:L,error:R}=await de.from("profiles").select("auto_hide").eq("id",e.id).single();if(R)throw R;const{error:$}=await de.from("profiles").update({current_filter:M.name,auto_hide:L?.auto_hide||!1}).eq("id",e.id);if($)throw $;return M},t[5]=e,t[6]=y):y=t[6];let b;t[7]!==n||t[8]!==e?.id?(b=M=>{n.invalidateQueries({queryKey:["profile",e?.id]})},t[7]=n,t[8]=e?.id,t[9]=b):b=t[9];let w;t[10]!==y||t[11]!==b?(w={mutationFn:y,onSuccess:b},t[10]=y,t[11]=b,t[12]=w):w=t[12];const x=Ft(w);let k;t[13]!==x?(k=M=>{x.mutate(M)},t[13]=x,t[14]=k):k=t[14];const _=k;let S;t[15]!==f?(S=M=>f?.find(L=>L.name===M),t[15]=f,t[16]=S):S=t[16];const D=S;let C;t[17]!==f?(C=f||[],t[17]=f,t[18]=C):C=t[18];let T;return t[19]!==p||t[20]!==D||t[21]!==m||t[22]!==_||t[23]!==x.error||t[24]!==x.isPending||t[25]!==C?(T={filters:C,isLoading:m,isLoadingFilter:x.isPending,error:p,loadFilterError:x.error,loadFilter:_,getFilterByName:D},t[19]=p,t[20]=D,t[21]=m,t[22]=_,t[23]=x.error,t[24]=x.isPending,t[25]=C,t[26]=T):T=t[26],T};async function x5(){const{data:t,error:e}=await de.from("room_filters").select("*");if(e)throw e;return t.map(v5)}const T0=()=>{const t=ue.c(7);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["rooms"],queryFn:_5,staleTime:36e5},t[0]=e):e=t[0];const{data:n,isLoading:r,error:s}=pt(e);let o;t[1]!==n?(o=n||[],t[1]=n,t[2]=o):o=t[2];let c;return t[3]!==s||t[4]!==r||t[5]!==o?(c={rooms:o,isLoading:r,error:s},t[3]=s,t[4]=r,t[5]=o,t[6]=c):c=t[6],c};function w5(t){return t.name}async function _5(){const{data:t,error:e}=await de.from("rooms").select("name").order("name");if(e)throw e;const n=t.map(w5).filter(Boolean),r=["GH L129","GH L070","GH L110","GH L120","GH L130","GH 1110","GH 1120","GH 1130"];return n.sort((o,c)=>{const u=r.indexOf(o),f=r.indexOf(c);return u!==-1&&f!==-1?u-f:u!==-1?-1:f!==-1?1:o.localeCompare(c)})}const I1=async t=>{try{const{data:e,error:n}=await de.from("events").select("*").eq("date",t.toISOString().split("T")[0]).order("start_time",{ascending:!0});if(n)throw n;return e||[]}catch(e){throw console.error("❌ useEvents: Error fetching events:",e),e}};function M0(t){const e=ue.c(14);let n;e[0]!==t?(n=t.toISOString().split("T"),e[0]=t,e[1]=n):n=e[1];const r=n[0];let s;e[2]!==r?(s=["events",r],e[2]=r,e[3]=s):s=e[3];let o;e[4]!==t?(o=()=>I1(t),e[4]=t,e[5]=o):o=e[5];let c;e[6]!==s||e[7]!==o?(c={queryKey:s,queryFn:o,staleTime:1/0,gcTime:864e5,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,placeholderData:void 0},e[6]=s,e[7]=o,e[8]=c):c=e[8];const{data:u,isLoading:f,error:m,isFetching:p}=pt(c);let y;return e[9]!==m||e[10]!==u||e[11]!==p||e[12]!==f?(y={data:u,isLoading:f,error:m,isFetching:p},e[9]=m,e[10]=u,e[11]=p,e[12]=f,e[13]=y):y=e[13],y}function k5(t){const e=ue.c(12),{autoHide:n,currentFilter:r}=ys(),{filters:s,isLoading:o}=Cu(),{rooms:c}=T0();if(o){let u;return e[0]===Symbol.for("react.memo_cache_sentinel")?(u={data:[],isLoading:!0},e[0]=u):u=e[0],u}if(r==="My Events"||n){let u;if(e[1]!==t||e[2]!==c){const p=t.map(D5);for(const y of p)if(y.includes("&")){const b=y.split("&"),w=b[0],x=b[1];let k;x==="30"?k="1430":k=`${w.slice(0,-1)}${x}`,p.push(w),p.push(k),p.splice(p.indexOf(y),1)}u=c?.filter(y=>p.includes(y))||[],e[1]=t,e[2]=c,e[3]=u}else u=e[3];const f=u;let m;return e[4]!==f?(m={data:f,isLoading:!1},e[4]=f,e[5]=m):m=e[5],m}else{let u;if(e[6]!==r||e[7]!==s||e[8]!==c){const y=s.find(b=>b.name===r)?.display?.filter(S5)||[];u=c?.filter(b=>y.includes(b))||[],e[6]=r,e[7]=s,e[8]=c,e[9]=u}else u=e[9];const f=u;let m;return e[10]!==f?(m={data:f,isLoading:!1},e[10]=f,e[11]=m):m=e[11],m}}function S5(t){return!t.includes("&")}function D5(t){return t.room_name}function E5(t){const e=ue.c(22),{data:n,isLoading:r,error:s,isFetching:o}=M0(t),{currentFilter:c}=ys(),{filters:u}=Cu(),{user:f}=_n();console.log("useFilteredEvents",c),console.log("useFilteredEvents events",n);let m;e[0]!==t?(m=t.toISOString().split("T"),e[0]=t,e[1]=m):m=e[1];const p=m[0],{data:y}=sl(p);let b;e[2]!==y?(b=y===void 0?[]:y,e[2]=y,e[3]=b):b=e[3];const w=b;let x;e[4]!==c||e[5]!==p?(x=["events:filtered",p,c],e[4]=c,e[5]=p,e[6]=x):x=e[6];let k;e[7]!==w||e[8]!==c||e[9]!==n||e[10]!==u||e[11]!==f?.id?(k=()=>{const R=f?.id??null;return N5(n,c??null,u,R,w)},e[7]=w,e[8]=c,e[9]=n,e[10]=u,e[11]=f?.id,e[12]=k):k=e[12];const _=n!=null&&(c==="My Events"?w!==void 0:!0)&&c!==void 0;let S;e[13]!==x||e[14]!==k||e[15]!==_?(S={queryKey:x,queryFn:k,staleTime:1/0,gcTime:36e5,enabled:_},e[13]=x,e[14]=k,e[15]=_,e[16]=S):S=e[16];const D=pt(S),C=D.isLoading||r,T=D.error||s,M=D.isFetching||o;let L;return e[17]!==D.data||e[18]!==C||e[19]!==T||e[20]!==M?(L={data:D.data,isLoading:C,error:T,isFetching:M},e[17]=D.data,e[18]=C,e[19]=T,e[20]=M,e[21]=L):L=e[21],L}function O0(t){const e=ue.c(9),{data:n}=Eu(t);let r;e[0]!==t?(r=["eventResources",t],e[0]=t,e[1]=r):r=e[1];let s;e[2]!==n||e[3]!==t?(s=()=>!t||t<=0?{resources:[],hasVideoRecording:!1,hasStaffAssistance:!1,hasHandheldMic:!1,hasWebConference:!1,hasClickers:!1,hasAVNotes:!1}:n?K4(n):{resources:[],hasVideoRecording:!1,hasStaffAssistance:!1,hasHandheldMic:!1,hasWebConference:!1,hasClickers:!1,hasAVNotes:!1},e[2]=n,e[3]=t,e[4]=s):s=e[4];const o=!!t&&t>0&&!!n;let c;return e[5]!==r||e[6]!==s||e[7]!==o?(c={queryKey:r,queryFn:s,enabled:o,staleTime:1/0,gcTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1},e[5]=r,e[6]=s,e[7]=o,e[8]=c):c=e[8],pt(c)}function A0(t){const e=ue.c(8),n=Ot();let r;e[0]!==t?(r=["eventDurationHours",t],e[0]=t,e[1]=r):r=e[1];let s;e[2]!==t||e[3]!==n?(s=async()=>{const c=n.getQueryData(["event",t]);if(!c)throw new Error(`Event with id ${t} not found in cache. Make sure to use useEvent hook first.`);return C5(c)},e[2]=t,e[3]=n,e[4]=s):s=e[4];let o;return e[5]!==r||e[6]!==s?(o={queryKey:r,queryFn:s,staleTime:6e5,gcTime:36e5,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1},e[5]=r,e[6]=s,e[7]=o):o=e[7],pt(o)}function C5(t){if(!t.start_time||!t.end_time)return 0;try{const[e,n]=t.start_time.split(":").map(Number),[r,s]=t.end_time.split(":").map(Number),o=e*60+n;return(r*60+s-o)/60}catch{return 0}}const N5=(t,e,n,r,s)=>{if(!t||t.length===0)return t||[];if(e==="My Events"&&r)return t.filter(o=>N0(o,r,s));if(e&&n.length>0){const o=n.find(c=>c.name===e);if(o&&o.display.length>0)return t.filter(c=>{const u=c.room_name;return u?o.display.includes(u):!1})}return t},Hb=async(t,e,n)=>{const r=e.toISOString().split("T")[0];await t.prefetchQuery({queryKey:["events",r],queryFn:()=>I1(e),staleTime:1/0,gcTime:1e3*60*60*24})};function j5(t){const e=ue.c(7),n=Ot(),{currentFilter:r}=ys();let s;e[0]!==t||e[1]!==r||e[2]!==n?(s=()=>{setTimeout(async()=>{const u=new Date(t);u.setDate(t.getDate()-1),await Hb(n,u);const f=new Date(t);f.setDate(t.getDate()+1),await Hb(n,f)},100)},e[0]=t,e[1]=r,e[2]=n,e[3]=s):s=e[3];let o;e[4]!==t||e[5]!==r?(o=[t,r],e[4]=t,e[5]=r,e[6]=o):o=e[6],N.useEffect(s,o)}const T5=async t=>{if(!t)return null;try{const{data:e,error:n}=await de.from("profiles").select("id, name").eq("id",t).single();return n?(console.error("Error fetching user profile:",n),null):e}catch(e){return console.error("Error in fetchUserProfile:",e),null}},il=t=>{const e=ue.c(7);let n,r;e[0]!==t?(n=["profile",t],r=()=>T5(t),e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const s=!!t;let o;return e[3]!==n||e[4]!==r||e[5]!==s?(o={queryKey:n,queryFn:r,enabled:s},e[3]=n,e[4]=r,e[5]=s,e[6]=o):o=e[6],pt(o)},M5=t=>{if(!t)return console.warn("getAvatarColor: userId is undefined or null"),"bg-gray-500";const e=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500","bg-orange-500","bg-cyan-500"];let n=0;for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);n=(n<<5)-n+s,n=n&n}return e[Math.abs(n)%e.length]},O5=t=>{if(!t)return"?";const e=t.trim().split(" ");return e.length===1?e[0].charAt(0).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()},_i=t=>{const e=ue.c(10),{userId:n,size:r,className:s}=t,o=r===void 0?"md":r,c=s===void 0?"":s,u={xs:"w-4 h-4 text-[10px]",sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},{data:f,isLoading:m}=il(n||"");if(!n){console.warn("Avatar: userId is undefined or null");const D=`
        ${u[o]}
        bg-gray-500
        rounded-full flex items-center justify-center text-white font-medium
        ${c}
      `;let C;return e[0]!==D?(C=h.jsx("div",{className:D,children:"?"}),e[0]=D,e[1]=C):C=e[1],C}const p=f?.name||"Unknown User",y=p!=="Unknown User"?p:null;let b;e[2]!==y?(b=O5(y),e[2]=y,e[3]=b):b=e[3];const w=b,x=M5(n),k=`
        ${u[o]}
        ${x}
        rounded-full flex items-center justify-center text-white font-medium
        ${c}
      `;let _;e[4]!==w||e[5]!==m?(_=m?h.jsx("div",{className:"animate-pulse bg-white bg-opacity-30 rounded-full w-3/4 h-3/4"}):w,e[4]=w,e[5]=m,e[6]=_):_=e[6];let S;return e[7]!==k||e[8]!==_?(S=h.jsx("div",{className:k,children:_}),e[7]=k,e[8]=_,e[9]=S):S=e[9],S};function A5({eventId:t,date:e,isHovering:n=!1}){const{data:r}=Eu(t,e);if(!r)return null;const{data:s}=q1(r);s?.occurrences;const o=s?.isFirstSession||!1,{data:c}=j0(r.id),u=c?.timeline||[],{isComplete:f,isLoading:m}=Bb(r.id,r.start_time||void 0,r.end_time||void 0,r.date||void 0),{data:p}=O0(r.id);p?.resources;const y=p?.hasVideoRecording||!1,b=p?.hasStaffAssistance||!1,w=p?.hasHandheldMic||!1,x=p?.hasWebConference||!1,k=p?.hasClickers||!1,_=p?.hasAVNotes||!1;Vn(r);const{isComplete:S,isLoading:D,error:C}=Bb(r.id,r.start_time||void 0,r.end_time||void 0,r.date||void 0),[T,M]=N.useState(null),L=["firstSession","videoRecording","staffAssistance","handheldMic","webConference","clickers","avNotes"],R=N.useCallback(B=>{if(!B)return"";try{const[F,I]=B.split(":").map(Number),A=new Date;return A.setHours(F,I,0,0),I===0?A.toLocaleTimeString("en-US",{hour:"numeric",hour12:!0}):A.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(F){return console.error("Error formatting time:",B,F),""}},[]),$=N.useMemo(()=>`${R(r.start_time)} - ${R(r.end_time)}`,[R,r.start_time,r.end_time]),{data:U=0}=A0(r.id);r.event_type==="Lecture"&&U<2;const q=N.useCallback(B=>1,[T,L]),V=N.useCallback(B=>{M(B)},[]),X=N.useCallback(()=>{M(null)},[]);return h.jsxs("div",{className:"flex justify-between items-center h-5 py-0.5 transition-all duration-200 ease-in-out absolute top-0 left-1 right-0 z-[100]",children:[h.jsx("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:h.jsx("span",{className:`text-xs font-medium opacity-90 truncate transition-all duration-200 ease-in-out ${r.event_type==="Ad Hoc Class Meeting"?n?"text-white":"text-gray-600":r.event_type==="Lecture"?"text-black":"text-white"}`,title:$,style:{transform:n?"scale(1.1)":"scale(1)",transformOrigin:"left center"},children:$})}),(o||y||b||w||x||k||_||u.length>0)&&h.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 transition-all duration-200 ease-in-out overflow-visible bg-black bg-opacity-20  rounded-md px-2 py-1 mt-2",children:[o&&h.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400 text-xs font-bold transition-all duration-[250ms] ease-in-out cursor-pointer relative",title:"First Session",style:{transform:`scale(${q("firstSession")*.8})`,fontSize:`${q("firstSession")*.8}em`},onMouseEnter:()=>V("firstSession"),onMouseLeave:X,children:["!",T==="firstSession"&&h.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded-md whitespace-nowrap z-[200] pointer-events-none",style:{fontSize:"12px"},children:"First Session"})]}),y&&h.jsxs("div",{className:"relative rounded-full bg-red-500 transition-all duration-[250ms] ease-in-out cursor-pointer",title:f?"Video Recording - All Checks Complete":"Video Recording",style:{width:"12px",height:"12px"},onMouseEnter:()=>V("videoRecording"),onMouseLeave:X,children:[f&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx("svg",{className:"text-green-400",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 20 20",style:{width:"8px",height:"8px"},children:h.jsx("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})})}),T==="videoRecording"&&h.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded-md whitespace-nowrap z-[200] pointer-events-none",children:f?"Video Recording - All Checks Complete":"Video Recording"})]}),b&&h.jsxs("div",{className:"flex items-center justify-center rounded-full bg-green-500 bg-opacity-90 transition-all duration-[250ms] ease-in-out cursor-pointer relative",title:"Staff Assistance",style:{width:`${13*q("staffAssistance")}px`,height:`${13*q("staffAssistance")}px`},onMouseEnter:()=>V("staffAssistance"),onMouseLeave:X,children:[h.jsx("span",{className:"text-white transition-all duration-[250ms] ease-in-out",style:{fontSize:`${10*q("staffAssistance")}px`},children:"🚶"}),T==="staffAssistance"&&h.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded-md whitespace-nowrap z-[200] pointer-events-none",children:"Staff Assistance"})]}),w&&h.jsxs("span",{className:"transition-all duration-[250ms] ease-in-out cursor-pointer relative",title:"Handheld Microphone",style:{fontSize:`${q("handheldMic")*.8}em`},onMouseEnter:()=>V("handheldMic"),onMouseLeave:X,children:["🎤",T==="handheldMic"&&h.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded-md whitespace-nowrap z-[200] pointer-events-none",children:"Handheld Microphone"})]}),x&&h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:"/zoomicon.png",alt:"Web Conference",className:"object-contain dark:invert transition-all duration-[250ms] ease-in-out cursor-pointer",title:"Web Conference",style:{width:`${12*q("webConference")}px`,height:`${12*q("webConference")}px`},onMouseEnter:()=>V("webConference"),onMouseLeave:X}),T==="webConference"&&h.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded-md whitespace-nowrap z-[200] pointer-events-none",children:"Web Conference"})]}),k&&h.jsx("div",{className:"relative overflow-visible",children:h.jsxs("div",{className:"bg-pink-400 rounded-full flex items-center justify-center transition-all duration-[250ms] ease-in-out cursor-pointer relative",style:{width:`${16*q("clickers")}px`,height:`${16*q("clickers")}px`},onMouseEnter:()=>V("clickers"),onMouseLeave:X,children:[h.jsx("img",{src:"/tp.png",alt:"Clickers",className:"object-contain dark:invert transition-all duration-[250ms] ease-in-out",style:{width:`${14*q("clickers")}px`,height:`${14*q("clickers")}px`},title:"Clickers (Polling)"}),T==="clickers"&&h.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded-md whitespace-nowrap z-[200] pointer-events-none",children:"Clickers (Polling)"})]})}),_&&h.jsxs("span",{className:"text-xs transition-all duration-[250ms] ease-in-out cursor-pointer relative",title:"AV Setup Notes",style:{fontSize:`${q("avNotes")*.8}em`},onMouseEnter:()=>V("avNotes"),onMouseLeave:X,children:["📝",T==="avNotes"&&h.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded-md whitespace-nowrap z-[200] pointer-events-none",children:"AV Setup Notes"})]}),(o||y||b||w||x||k||_)&&u.length>0&&h.jsx("div",{className:"w-0.5 h-4 bg-white dark:bg-gray-800 mx-0.5 opacity-20"}),u.length>0&&h.jsx("div",{className:"flex items-center gap-0.5",children:u.map((B,F)=>h.jsxs(ee.Fragment,{children:[h.jsx("div",{className:"transition-all duration-200 ease-in-out",title:`Assigned to: ${B.ownerId}`,style:{transform:n?"scale(1.2)":"scale(1)"},children:h.jsx(_i,{userId:B.ownerId,size:"xs"})}),F<u.length-1&&h.jsx("svg",{className:"w-3 h-3 text-white transition-all duration-200 ease-in-out",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{transform:n?"scale(1.2)":"scale(1)"},children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]},B.ownerId))})]})]})}const jc={sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"};function tu(t){const e=ue.c(51),{imageUrl:n,cutoutImageUrl:r,instructorName:s,isHovering:o,className:c,size:u,maskRadius:f,priority:m}=t,p=c===void 0?"":c,y=u===void 0?"md":u,{currentTheme:b}=zt(),[w,x]=N.useState(!1),k=r&&typeof r=="string"&&r.length>0,_=b.name==="Halloween";let S;e[0]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{x(!0)},e[0]=S):S=e[0];const D=S;if(w){const L=`${jc[y]} rounded-full bg-purple-200 flex items-center justify-center ${p}`;let R;e[1]===Symbol.for("react.memo_cache_sentinel")?(R=h.jsx("span",{className:"text-sm transition-all duration-200 ease-in-out",children:"👤"}),e[1]=R):R=e[1];let $;return e[2]!==s||e[3]!==L?($=h.jsx("div",{className:L,title:s,children:R}),e[2]=s,e[3]=L,e[4]=$):$=e[4],$}if(k){const L=`relative ${jc[y]} transition-all duration-300 ease-in-out ${p}`;let R;e[5]===Symbol.for("react.memo_cache_sentinel")?(R={overflow:"visible"},e[5]=R):R=e[5];let $;e[6]===Symbol.for("react.memo_cache_sentinel")?($=h.jsx("div",{className:"absolute inset-0 rounded-full z-0",style:{background:"linear-gradient(135deg, #6b5b95 0%, #886ec4 50%, #9b8ce8 100%)",backgroundSize:"cover",backgroundPosition:"center"}}),e[6]=$):$=e[6];let U;e[7]!==_||e[8]!==o?(U=_&&o&&h.jsx("div",{className:"absolute inset-0 rounded-full z-10 animate-pulse",style:{background:"radial-gradient(circle, rgba(0, 255, 0, 0.3) 0%, rgba(0, 255, 0, 0.1) 50%, transparent 100%)",boxShadow:"0 0 20px rgba(0, 255, 0, 0.6), 0 0 40px rgba(0, 255, 0, 0.4), 0 0 60px rgba(0, 255, 0, 0.2)",filter:"blur(1px)"}}),e[7]=_,e[8]=o,e[9]=U):U=e[9];let q;e[10]===Symbol.for("react.memo_cache_sentinel")?(q={overflow:"visible"},e[10]=q):q=e[10];let V;e[11]===Symbol.for("react.memo_cache_sentinel")?(V={overflow:"visible"},e[11]=V):V=e[11];let X;e[12]===Symbol.for("react.memo_cache_sentinel")?(X=h.jsx("clipPath",{id:"maskImage",clipPathUnits:"userSpaceOnUse",children:h.jsx("path",{d:"M -13 -40 L 113 -40 L 113 50 A 63 63 0 0 1 -13 50 Z"})}),e[12]=X):X=e[12];let B;e[13]===Symbol.for("react.memo_cache_sentinel")?(B=h.jsxs("defs",{children:[X,h.jsx("clipPath",{id:"maskBackground",clipPathUnits:"userSpaceOnUse",children:h.jsx("circle",{cx:"50",cy:"50",r:"63"})})]}),e[13]=B):B=e[13];const F=o?"translate(0 8)":"translate(0 10)",I=o?"translateY(-30px) scale(1.7)":"translateY(-30px) scale(1.5)",A=o?_?"sepia(1) hue-rotate(120deg) saturate(1.5) brightness(1.2) contrast(1.3) drop-shadow(0 0 10px rgba(0, 255, 0, 0.8))":"sepia(1) hue-rotate(240deg) saturate(0.8) brightness(0.9) contrast(1.2)":"sepia(1) hue-rotate(240deg) saturate(0.8) brightness(0.7) contrast(1.2)";let H;e[14]!==I||e[15]!==A?(H={transformOrigin:"50% 50%",transform:I,filter:A},e[14]=I,e[15]=A,e[16]=H):H=e[16];let z;e[17]!==r||e[18]!==H?(z=h.jsx("image",{width:"120",height:"144",x:"-15",y:"0",fill:"none",className:"transition-all duration-300 ease-in-out",style:H,href:r,onError:D}),e[17]=r,e[18]=H,e[19]=z):z=e[19];let te;e[20]!==F||e[21]!==z?(te=h.jsx("div",{className:"absolute inset-0 z-20",style:q,children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -10 100 130",className:"w-full h-full transition-all duration-300 ease-in-out",style:V,children:[B,h.jsx("g",{clipPath:"url(#maskImage)",transform:F,className:"transition-all duration-300 ease-in-out",children:z})]})}),e[20]=F,e[21]=z,e[22]=te):te=e[22];let O;return e[23]!==s||e[24]!==te||e[25]!==L||e[26]!==U?(O=h.jsxs("div",{className:L,style:R,title:s,children:[$,U,te]}),e[23]=s,e[24]=te,e[25]=L,e[26]=U,e[27]=O):O=e[27],O}if(n){const L=`relative ${jc[y]} transition-all duration-300 ease-in-out ${p}`;let R;e[28]===Symbol.for("react.memo_cache_sentinel")?(R=h.jsx("div",{className:"absolute inset-0 rounded-full z-0",style:{background:"linear-gradient(135deg, #6b5b95 0%, #886ec4 50%, #9b8ce8 100%)",backgroundSize:"cover",backgroundPosition:"center"}}),e[28]=R):R=e[28];const $=`w-full h-full object-cover rounded-full transition-all duration-300 ease-in-out ${o?"scale-110 brightness-110":"scale-100"}`,U=o?"brightness(1.1) saturate(1.2) hue-rotate(10deg) contrast(1.1)":"brightness(0.9) saturate(1.1) hue-rotate(5deg) contrast(1.05)";let q;e[29]!==U?(q={filter:U,mixBlendMode:"multiply"},e[29]=U,e[30]=q):q=e[30];let V;e[31]!==n||e[32]!==s||e[33]!==q||e[34]!==$?(V=h.jsx("div",{className:"absolute inset-0 z-10 rounded-full overflow-hidden",children:h.jsx("img",{src:n,alt:s,className:$,style:q,onError:D})}),e[31]=n,e[32]=s,e[33]=q,e[34]=$,e[35]=V):V=e[35];const X=o?"linear-gradient(135deg, rgba(139, 110, 196, 0.3) 0%, rgba(155, 140, 232, 0.4) 50%, rgba(107, 91, 149, 0.2) 100%)":"linear-gradient(135deg, rgba(139, 110, 196, 0.2) 0%, rgba(155, 140, 232, 0.3) 50%, rgba(107, 91, 149, 0.15) 100%)";let B;e[36]!==X?(B=h.jsx("div",{className:"absolute inset-0 z-15 rounded-full transition-all duration-300 ease-in-out",style:{background:X,mixBlendMode:"overlay"}}),e[36]=X,e[37]=B):B=e[37];let F;e[38]!==_||e[39]!==o?(F=_&&o&&h.jsx("div",{className:"absolute inset-0 rounded-full z-20 animate-pulse",style:{background:"radial-gradient(circle, rgba(0, 255, 0, 0.3) 0%, rgba(0, 255, 0, 0.1) 50%, transparent 100%)",boxShadow:"0 0 20px rgba(0, 255, 0, 0.6), 0 0 40px rgba(0, 255, 0, 0.4), 0 0 60px rgba(0, 255, 0, 0.2)",filter:"blur(1px)"}}),e[38]=_,e[39]=o,e[40]=F):F=e[40];let I;return e[41]!==s||e[42]!==V||e[43]!==B||e[44]!==F||e[45]!==L?(I=h.jsxs("div",{className:L,title:s,children:[R,V,B,F]}),e[41]=s,e[42]=V,e[43]=B,e[44]=F,e[45]=L,e[46]=I):I=e[46],I}const C=`${jc[y]} rounded-full bg-purple-200 flex items-center justify-center ${p}`;let T;e[47]===Symbol.for("react.memo_cache_sentinel")?(T=h.jsx("span",{className:"text-sm transition-all duration-200 ease-in-out",children:"👤"}),e[47]=T):T=e[47];let M;return e[48]!==s||e[49]!==C?(M=h.jsx("div",{className:C,title:s,children:T}),e[48]=s,e[49]=C,e[50]=M):M=e[50],M}const R0=t=>pt({queryKey:["facultyMembers",t.sort().join(",")],queryFn:async()=>{if(!t||t.length===0)return[];try{const{data:e,error:n}=await de.from("faculty").select("*").in("twentyfivelive_name",t);return n?(console.error("Error fetching faculty members:",n),[]):e||[]}catch(e){return console.error("Error in fetchMultipleFacultyMembers:",e),[]}},enabled:!!t&&t.length>0,staleTime:1e3*60*5,retry:3}),R5=()=>{const t=ue.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["allFaculty"],queryFn:L5,staleTime:6e5,retry:2},t[0]=e):e=t[0],pt(e)};async function L5(){const{data:t,error:e}=await de.from("faculty").select("*").order("kelloggdirectory_name",{ascending:!0});return e?(console.error("Error fetching all faculty:",e),[]):t||[]}const Y1=t=>t?Array.isArray(t)?t.filter(e=>typeof e=="string"&&e.trim()!==""):typeof t=="string"?[t]:[]:[];function $5(t){const e=ue.c(40),{event:n,isHovering:r,isMergedRoomEvent:s}=t;let o;e[0]!==n.instructor_names?(o=Y1(n.instructor_names),e[0]=n.instructor_names,e[1]=o):o=e[1];const c=o,{data:u}=R0(c);let f;e[2]!==n?(f=Du(n),e[2]=n,e[3]=f):f=e[3];const{truncatedEventName:m}=f;let p;e[4]!==n?(p=Vn(n),e[4]=n,e[5]=p):p=e[5];const y=p;n.event_type==="Ad Hoc Class Meeting"?y[5]:n.event_type==="Lecture"?y[4]:y[7];const b=n.event_name?String(n.event_name):"";let w;e[6]!==b?(w=b.split(" "),e[6]=b,e[7]=w):w=e[7];const x=w,k=x&&x.length>=3?x[2]:"",{data:_}=A0(n.id),S=_===void 0?0:_;n.event_type==="Lecture"&&S<2;const C=B5(c[0]),T=s?"h-full":"h-16";let M;e[8]!==c.length?(M=()=>c.length<=1?"w-16":c.length===2?"w-24":c.length>=3?"w-28":"w-16",e[8]=c.length,e[9]=M):M=e[9];const L=M;let R;e[10]!==u||e[11]!==c[0]?(R=u?.find(te=>te.twentyfivelive_name===c[0]),e[10]=u,e[11]=c[0],e[12]=R):R=e[12];const $=R,U=`flex flex-row ${T} w-full rounded absolute inset-0 p-1 transition-all duration-200 ease-in-out ${s?"items-center":""} relative`;let q;e[13]!==C||e[14]!==n.event_type||e[15]!==u||e[16]!==$||e[17]!==L||e[18]!==c||e[19]!==r||e[20]!==y[6]?(q=c.length>0&&h.jsxs("div",{className:`flex flex-col items-center justify-center gap-0.5 ${n.event_type==="Lecture"?y[6]:""} rounded h-16 ${L()} z-10 transition-all duration-200 ease-in-out relative flex-shrink-0 -mt-1`,style:{transform:`rotate(${C}deg)`},children:[c.length===1&&$?.kelloggdirectory_image_url?h.jsx(tu,{imageUrl:$.kelloggdirectory_image_url,cutoutImageUrl:$.cutout_image,instructorName:c[0],isHovering:r,size:"md"}):c.length>1?h.jsxs("div",{className:"flex -space-x-2",children:[c.slice(0,3).map((te,O)=>{const K=u?.find(re=>re.twentyfivelive_name===te);return h.jsx(tu,{imageUrl:K?.kelloggdirectory_image_url||"",cutoutImageUrl:K?.cutout_image,instructorName:te,isHovering:r,size:"md",className:"h-10 w-10"},`${te}-${O}`)}),c.length>3&&h.jsxs("div",{className:"h-10 w-10 rounded-full bg-gray-400 border-2 border-white flex items-center justify-center text-white font-medium text-sm",title:c.slice(3).join(", "),children:["+",c.length-3]})]}):h.jsx("span",{className:"text-sm transition-all duration-200 ease-in-out",style:{transform:"scale(1)"},children:"👤"}),h.jsx("span",{className:`leading-tight font-medium opacity-90 text-center whitespace-nowrap w-full -mt-0.5 transition-all duration-200 ease-in-out ${(c.length>0?(()=>{if(c.length===1){const O=c[0],K=O.split(",");return K.length>=2?K[0].trim():O}else return c.slice(0,3).map(U5).join(", ")})():"").length>12?"text-[8px]":"text-[10px]"}`,children:c.length>0?(()=>{if(c.length===1){const te=c[0],O=te.split(",");return O.length>=2?O[0].trim():te}else return c.slice(0,3).map(P5).join(", ")})():""})]}),e[13]=C,e[14]=n.event_type,e[15]=u,e[16]=$,e[17]=L,e[18]=c,e[19]=r,e[20]=y[6],e[21]=q):q=e[21];const V=`flex flex-col min-w-0 pl-1 -gap-2 transition-all duration-200 ease-in-out overflow-hidden mt-1 ${s?"justify-center":""}`,X=r?"scale(1.05)":"scale(1)";let B;e[22]!==X?(B={transform:X,transformOrigin:"left center",fontFamily:"'Kenyan Coffee', sans-serif"},e[22]=X,e[23]=B):B=e[23];let F;e[24]!==m||e[25]!==B?(F=h.jsx("span",{className:"font-medium text-black transition-all duration-200 ease-in-out whitespace-nowrap text-2xl leading-none",style:B,title:m,children:m}),e[24]=m,e[25]=B,e[26]=F):F=e[26];let I;e[27]!==k?(I=k&&h.jsxs("span",{className:"text-[10px] text-gray-400 opacity-90 transition-all duration-200 ease-in-out whitespace-nowrap leading-none",children:["Sec: ",k]}),e[27]=k,e[28]=I):I=e[28];let A;e[29]!==n.lecture_title?(A=n.lecture_title&&h.jsx("span",{className:"text-xs text-white opacity-80 transition-all duration-200 ease-in-out whitespace-nowrap leading-none",style:{fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"},title:n.lecture_title,children:n.lecture_title}),e[29]=n.lecture_title,e[30]=A):A=e[30];let H;e[31]!==V||e[32]!==F||e[33]!==I||e[34]!==A?(H=h.jsxs("div",{className:V,children:[F,I,A]}),e[31]=V,e[32]=F,e[33]=I,e[34]=A,e[35]=H):H=e[35];let z;return e[36]!==H||e[37]!==U||e[38]!==q?(z=h.jsxs("div",{className:U,children:[q,H]}),e[36]=H,e[37]=U,e[38]=q,e[39]=z):z=e[39],z}function P5(t){const e=t.split(",");return e.length>=2?e[0].trim():t}function U5(t){const e=t.split(",");return e.length>=2?e[0].trim():t}function B5(t){return t?t.split("").reduce(H5,0)%2===0?2:-2:2}function H5(t,e){return t+e.charCodeAt(0)}function F5(t){const e=ue.c(21),{event:n,isHovering:r,isMergedRoomEvent:s}=t;let o;e[0]!==n?(o=Du(n),e[0]=n,e[1]=o):o=e[1];const{truncatedEventName:c}=o;Vn(n);const f=`relative ${s?"h-full":"h-16"} flex items-center justify-center`,m=`relative z-10 flex flex-col items-center justify-center h-full px-4 ${s?"py-4":"pt-0 pb-3"} gap-1`,p=r?"scale(1.05) translateY(-1px)":"scale(1)",y=s?"1.2rem":c&&c.length>15?"0.7rem":"0.8rem";let b;e[2]!==p||e[3]!==y?(b={transform:p,transformOrigin:"center",fontFamily:"'Morrison', sans-serif",fontSize:y,fontWeight:700,lineHeight:"1.1",letterSpacing:"0.4rem",textTransform:"uppercase",background:"linear-gradient(rgb(255, 224, 166), rgb(200, 150, 100))",color:"transparent",WebkitBackgroundClip:"text",backgroundClip:"text",textShadow:"0 0 20px rgba(255, 224, 166, 0.3)"},e[2]=p,e[3]=y,e[4]=b):b=e[4];let w;e[5]!==c||e[6]!==b?(w=h.jsx("span",{className:"font-bold transition-all duration-400 ease-out block text-center",style:b,title:c,children:c}),e[5]=c,e[6]=b,e[7]=w):w=e[7];const x=r?"scale(1.02)":"scale(1)";let k;e[8]!==x?(k=h.jsx("span",{className:"transition-all duration-300 ease-out text-center",style:{color:"#ffe0a6",fontSize:"0.6rem",letterSpacing:"0.1rem",opacity:.8,transform:x},children:"EXECUTIVE EDUCATION"}),e[8]=x,e[9]=k):k=e[9];const _=r?"90%":"70%",S=r?"gentle-glow 1.5s ease-in-out infinite alternate":"none";let D;e[10]!==_||e[11]!==S?(D=h.jsx("div",{className:"bg-gradient-to-r from-transparent via-yellow-300/80 to-transparent transition-all duration-400 ease-out",style:{height:"1px",width:_,filter:"drop-shadow(0 0 4px rgba(255, 224, 166, 0.6))",animation:S}}),e[10]=_,e[11]=S,e[12]=D):D=e[12];let C;e[13]!==D||e[14]!==m||e[15]!==w||e[16]!==k?(C=h.jsxs("div",{className:m,children:[w,k,D]}),e[13]=D,e[14]=m,e[15]=w,e[16]=k,e[17]=C):C=e[17];let T;return e[18]!==C||e[19]!==f?(T=h.jsx("div",{className:f,children:C}),e[18]=C,e[19]=f,e[20]=T):T=e[20],T}function z5(t){const e=ue.c(16),{event:n,isHovering:r,isMergedRoomEvent:s}=t;let o;e[0]!==n.instructor_names?(o=Y1(n.instructor_names),e[0]=n.instructor_names,e[1]=o):o=e[1],R0(o);let u;e[2]!==n?(u=Du(n),e[2]=n,e[3]=u):u=e[3];const{truncatedEventName:f,isReducedHeightEvent:m}=u,p=Vn(n);n.event_type==="Ad Hoc Class Meeting"?p[5]:n.event_type==="Lecture"?p[4]:p[7];const y=()=>s?"h-full":m?n.event_type==="Ad Hoc Class Meeting"?"h-8":"h-10":"h-12",b=`${n.event_type==="Lecture"?"bg-black bg-opacity-30":""} rounded transition-all duration-200 ease-in-out min-w-0 overflow-hidden relative ${y()} ${n.event_type==="Ad Hoc Class Meeting"?"flex items-center":""} ${s?"flex items-center justify-center":""}`,w=`flex items-start justify-start transition-all duration-200 ease-in-out pl-1 pr-1 ${n.event_type==="Ad Hoc Class Meeting"?"py-0":s?"py-2":"py-1"}`,x=`text-sm font-medium transition-all duration-200 ease-in-out w-full leading-relaxed ${n.event_type==="Ad Hoc Class Meeting"?r?"text-gray-900":"text-gray-700":n.event_type==="Lecture"?"text-white":"text-gray-900"}`,k=r?"scale(1.02)":"scale(1)";let _;e[4]!==k?(_={transform:k,transformOrigin:"left top",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",wordWrap:"break-word",overflowWrap:"break-word",lineHeight:"1.4",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},e[4]=k,e[5]=_):_=e[5];let S;e[6]!==f||e[7]!==x||e[8]!==_?(S=h.jsx("span",{className:x,style:_,title:f,children:f}),e[6]=f,e[7]=x,e[8]=_,e[9]=S):S=e[9];let D;e[10]!==w||e[11]!==S?(D=h.jsx("div",{className:w,children:S}),e[10]=w,e[11]=S,e[12]=D):D=e[12];let C;return e[13]!==b||e[14]!==D?(C=h.jsx("div",{className:b,children:D}),e[13]=b,e[14]=D,e[15]=C):C=e[15],C}function q5(t){const e=ue.c(9),{event:n,isHovering:r,isMergedRoomEvent:s,hasOverduePanoptoChecks:o,isOverdueChecksLoading:c}=t,u=`flex gap-2 relative transition-all duration-200 ease-in-out flex-1 ${n.event_type==="KEC"?"w-full justify-center":"min-w-0"} ${s?"h-full pt-6":""}`;let f;e[0]!==n||e[1]!==o||e[2]!==r||e[3]!==s||e[4]!==c?(f=n.event_type==="Lecture"?h.jsx($5,{event:n,isHovering:r,isMergedRoomEvent:s,hasOverduePanoptoChecks:o,isOverdueChecksLoading:c}):n.event_type==="KEC"?h.jsx(F5,{event:n,isHovering:r,isMergedRoomEvent:s,hasOverduePanoptoChecks:o,isOverdueChecksLoading:c}):h.jsx(z5,{event:n,isHovering:r,isMergedRoomEvent:s,hasOverduePanoptoChecks:o,isOverdueChecksLoading:c}),e[0]=n,e[1]=o,e[2]=r,e[3]=s,e[4]=c,e[5]=f):f=e[5];let m;return e[6]!==u||e[7]!==f?(m=h.jsx("div",{className:u,children:f}),e[6]=u,e[7]=f,e[8]=m):m=e[8],m}const Fb=1800*1e3,I5=t=>{const e=ue.c(9);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=new Date,e[0]=n):n=e[0];const[r,s]=N.useState(n);let o,c;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{const S=setInterval(()=>{s(new Date)},3e5);return()=>clearInterval(S)},c=[],e[1]=o,e[2]=c):(o=e[1],c=e[2]),N.useEffect(o,c);let u;e:{if(!t.resources||!Array.isArray(t.resources)){u=!1;break e}u=t.resources.some(Y5)}const f=u;let m;e:{const S=new Date,D=S.getFullYear()+"-"+String(S.getMonth()+1).padStart(2,"0")+"-"+String(S.getDate()).padStart(2,"0");if(!t.date){m=!1;break e}const C=new Date(`${t.date}T${t.start_time}`),T=new Date(`${t.date}T${t.end_time}`),M=new Date(T.getTime()+72e5),L=t.date===D,R=S<=M;if(!L&&!R){m=!1;break e}if(!t.start_time||!t.end_time){m=!1;break e}m=S>=C&&S<=M}const p=m,{data:y,isLoading:b}=usePanoptoChecksData(t.id);let w;e:{if(!f||!p){w=!1;break e}if(!y||y.length===0){w=!1;break e}const S=r;if(!t.start_time||!t.end_time||!t.date){w=!1;break e}const D=new Date(`${t.date}T${t.start_time}`),T=new Date(`${t.date}T${t.end_time}`).getTime()-D.getTime(),M=Math.floor(T/Fb);if(M===0){w=!1;break e}for(let L=0;L<M;L++){const R=new Date(D.getTime()+L*Fb);if(S<R)continue;const $=y.find(U=>{const q=new Date(`${t.date}T${U.check_time}`);return Math.abs(q.getTime()-R.getTime())<6e4});if($?.status!=="missed"&&S>=R&&!$?.completed_time&&$?.status!=="completed"&&S.getTime()-R.getTime()<18e5){w=!0;break e}}w=!1}const x=w;let k;e[3]!==y?(k=y||[],e[3]=y,e[4]=k):k=e[4];let _;return e[5]!==x||e[6]!==b||e[7]!==k?(_={hasOverdueChecks:x,isLoading:b,panoptoChecks:k},e[5]=x,e[6]=b,e[7]=k,e[8]=_):_=e[8],_};function Y5(t){return t.itemName?.toLowerCase().includes("panopto")||t.itemName?.toLowerCase().includes("recording")}const Q5=async t=>{if(!t)return null;try{const{data:e,error:n}=await de.from("organizations").select("*").eq("name",t).single();return n?(console.error("Error fetching organization:",n),null):e}catch(e){return console.error("Error in fetchOrganization:",e),null}},K5=t=>{const e=ue.c(7);let n,r;e[0]!==t?(n=["organization",t],r=()=>Q5(t),e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const s=!!t;let o;return e[3]!==n||e[4]!==r||e[5]!==s?(o={queryKey:n,queryFn:r,enabled:s,staleTime:3e5,retry:3},e[3]=n,e[4]=r,e[5]=s,e[6]=o):o=e[6],pt(o)};function V5({event:t,startHour:e,pixelsPerMinute:n,rooms:r,onEventClick:s}){const[o,c]=N.useState(!1),{hasOverdueChecks:u,isLoading:f}=I5(t),m=u,p=t.organization==="JAPAN CLUB"||t.organization==="KELLOGG MARKETING CLUB"||t.organization==="KELLOGG KIDS"||t.organization==="ASIAN MANAGEMENT ASSOCIATION"||t.organization==="KELLOGG VETERANS ASSOCIATION"||t.organization==="Entrepreneurship Acquisition Club",{data:y}=K5(p&&t.organization||""),b=()=>{c(!0)},w=()=>{c(!1)},x=t.room_name;if((()=>{if(x?.includes("&")){const me=x.split("&")[0];return r.indexOf(me)}else return r.indexOf(x||"")})()===-1)return null;const{data:_=0}=A0(t.id),S=t.event_type==="Lecture"&&_<2,D=e*60,T=X4(t,D,n,96);if(!T)return null;const{left:M,width:L,durationMinutes:R}=T,$=500,U=parseFloat(L),q=U>$,V=q?`${$}px`:L,X=q?Math.max(0,U-$):0,B=$,{isReducedHeightEvent:F,isMergedRoomEvent:I}=Du(t),H=Vn(t)[5],z=W4(t.event_type||""),te=m;G4(H);const O=96,K=88,re=64,ne=48,ce=180;let le,ie;return I?(le=ce,ie="6px"):(t.event_type==="Ad Hoc Class Meeting"?le=ne:le=F?re:K,ie=`${(O-le)/2}px`),h.jsxs("div",{className:"absolute transition-all duration-200 ease-in-out cursor-pointer group",style:{top:ie,left:M,width:V,height:`${le}px`,minHeight:`${le}px`,overflow:"visible",textOverflow:"ellipsis",whiteSpace:t.event_type==="Lecture"?"nowrap":"normal",zIndex:o?I?70:60:I?52:49},title:t.event_name||"",onMouseEnter:b,onMouseLeave:w,onClick:()=>s&&s(t),"data-event":"true",children:[h.jsxs("div",{className:`flex flex-col h-full transition-all duration-200 ease-in-out relative ${y?.logo?"":z} ${t.event_type==="Lecture"?"text-white":"text-gray-900"} text-sm rounded ${S?"px-1":"px-2"} ${I?"pt-2 pb-2":"pt-5 pb-1"}`,style:{transform:o?"scale(1.05)":"scale(1)",transformOrigin:"center center",boxShadow:o?"0 4px 12px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.15)",...y?.logo&&{backgroundColor:"white",backgroundImage:`url(${y.logo})`,backgroundSize:y?.name==="KELLOGG VETERANS ASSOCIATION"?"cover":`auto ${le*.7}px`,backgroundPosition:y?.name==="KELLOGG VETERANS ASSOCIATION"?"center":"10% center",backgroundRepeat:"no-repeat"}},children:[h.jsx(A5,{eventId:t.id,date:t.date||void 0,isHovering:o}),h.jsx("div",{className:"flex-1",children:h.jsx(q5,{event:t,isHovering:o,isMergedRoomEvent:I,hasOverduePanoptoChecks:te,isOverdueChecksLoading:f})}),te&&h.jsx("div",{className:"absolute inset-0 rounded pointer-events-none",style:{animation:"blink-red-vignette 6s ease-in-out infinite"}})]}),q&&X>0&&h.jsx("div",{"aria-hidden":!0,className:`absolute pointer-events-none ${t.event_type==="KEC"?"kec-continuation-line":z}`,style:{left:t.event_type==="KEC"?`${B}px`:`${B}px`,top:t.event_type==="KEC"?"calc(50%  - 88px)":"50%",transform:"translateY(-50%)",width:`${X}px`,height:"2px",zIndex:-1}}),q&&X>0&&h.jsx("div",{"aria-hidden":!0,className:`absolute pointer-events-none ${t.event_type==="KEC"?"kec-continuation-line":z}`,style:{left:`${B+X}px`,top:t.event_type==="KEC"?"-90px":0,width:"2px",height:"100%",zIndex:-1}})]})}function W5(t){const e=ue.c(34),{room:n,roomEvents:r,startHour:s,pixelsPerMinute:o,rooms:c,isLastRow:u,onEventClick:f,isEvenRow:m}=t,p=m===void 0?!1:m,{currentTheme:y}=zt(),[b,w]=N.useState(!1);let x;if(e[0]!==n){let O;e[2]===Symbol.for("react.memo_cache_sentinel")?(O=/^GH\s+/,e[2]=O):O=e[2],x=n.replace(O,""),e[0]=n,e[1]=x}else x=e[1];const k=x;r?.some(G5);const _=y.name==="Halloween",S=_?"HalloweenInline":"Prokofiev",D=_?"text-7xl":k.length>4?"text-xl":"text-3xl",C=`flex h-24 overflow-visible ${u?"rounded-b-md":""}`,T=p?"rgba(200, 200, 200, 0.5)":"rgba(220, 220, 220, 0.55)";let M;e[3]!==T?(M={backgroundColor:T},e[3]=T,e[4]=M):M=e[4];let L,R;e[5]===Symbol.for("react.memo_cache_sentinel")?(L=()=>w(!0),R=()=>w(!1),e[5]=L,e[6]=R):(L=e[5],R=e[6]);const $=`sticky left-0 w-24 h-24 bg-white/95 dark:bg-gray-900/95 flex flex-col items-center justify-center shadow-lg transition-all duration-300 ease-in-out cursor-pointer event-no-select ${u?"rounded-bl-md":""}`,U=b?"rgba(255, 255, 255, 0.2)":"transparent",q=b?"0 25px 50px -12px rgba(0, 0, 0, 0.25)":"0 10px 15px -3px rgba(0, 0, 0, 0.1)";let V;e[7]!==q||e[8]!==U?(V={zIndex:100,backgroundColor:U,boxShadow:q},e[7]=q,e[8]=U,e[9]=V):V=e[9];const X=`font-light ${D}`;let B;e[10]!==S?(B={fontFamily:S,color:"white",mixBlendMode:"overlay",textShadow:"0 0 40px rgba(255, 255, 255, 0.2), 0 4px 8px rgba(0, 0, 0, 0.3), 0 2px 4px rgba(0, 0, 0, 0.4)",filter:"drop-shadow(0 6px 12px rgba(0, 0, 0, 0.2))",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},e[10]=S,e[11]=B):B=e[11];let F;e[12]!==k||e[13]!==X||e[14]!==B?(F=h.jsx("span",{className:X,style:B,children:k}),e[12]=k,e[13]=X,e[14]=B,e[15]=F):F=e[15];let I;e[16]!==V||e[17]!==F||e[18]!==$?(I=h.jsx("div",{className:$,style:V,"data-room-label":"true",children:F}),e[16]=V,e[17]=F,e[18]=$,e[19]=I):I=e[19];const A=`flex-1 h-24 relative transition-all duration-300 ease-in-out overflow-visible ${u?"rounded-br-md":""}`;let H;e[20]!==f||e[21]!==o||e[22]!==r||e[23]!==c||e[24]!==s?(H=r?.map(O=>h.jsx(V5,{event:O,startHour:s,pixelsPerMinute:o,rooms:c,onEventClick:f},O.id)),e[20]=f,e[21]=o,e[22]=r,e[23]=c,e[24]=s,e[25]=H):H=e[25];let z;e[26]!==A||e[27]!==H?(z=h.jsx("div",{className:A,children:H}),e[26]=A,e[27]=H,e[28]=z):z=e[28];let te;return e[29]!==I||e[30]!==z||e[31]!==C||e[32]!==M?(te=h.jsxs("div",{className:C,style:M,onMouseEnter:L,onMouseLeave:R,children:[I,z]}),e[29]=I,e[30]=z,e[31]=C,e[32]=M,e[33]=te):te=e[33],te}function G5(t){return t.room_name?.includes("&")||t.event_type==="CMC"&&(t.room_name==="GH 2410A"||t.room_name==="GH 2410B"||t.room_name?.includes("2410A")||t.room_name?.includes("2410B"))}function X5(t){const e=ue.c(5),{startHour:n,endHour:r,pixelsPerMinute:s,actualRowCount:o}=t,u=(o===void 0?0:o)*96+24;let f;if(e[0]!==u||e[1]!==r||e[2]!==s||e[3]!==n){const m=Array.from({length:r-n+1},(p,y)=>{if(y===0||y===r-n)return null;const b=y*60*s;return h.jsx("div",{className:"absolute top-0 w-px bg-gray-300/40 dark:bg-gray-300/40",style:{left:`${b}px`,height:`${u}px`,zIndex:40}},y)}).filter(Boolean);f=h.jsx("div",{className:"absolute inset-0",children:m}),e[0]=u,e[1]=r,e[2]=s,e[3]=n,e[4]=f}else f=e[4];return f}function Q1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Q1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sn(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Q1(t))&&(r&&(r+=" "),r+=e);return r}const K1=6048e5,Z5=864e5,Nu=6e4,ju=36e5,J5=1e3,Tc=43200,zb=1440,qb=Symbol.for("constructDateFrom");function it(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&qb in t?t[qb](e):t instanceof Date?new t.constructor(e):new Date(e)}function ge(t,e){return it(e||t,t)}function er(t,e,n){const r=ge(t,n?.in);return isNaN(e)?it(n?.in||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function nr(t,e,n){const r=ge(t,n?.in);if(isNaN(e))return it(t,NaN);if(!e)return r;const s=r.getDate(),o=it(t,r.getTime());o.setMonth(r.getMonth()+e+1,0);const c=o.getDate();return s>=c?o:(r.setFullYear(o.getFullYear(),o.getMonth(),s),r)}function V1(t,e,n){return it(t,+ge(t)+e)}function eD(t,e,n){return V1(t,e*ju)}let tD={};function Oa(){return tD}function Vr(t,e){const n=Oa(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=ge(t,e?.in),o=s.getDay(),c=(o<r?7:0)+o-r;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function ki(t,e){return Vr(t,{...e,weekStartsOn:1})}function W1(t,e){const n=ge(t,e?.in),r=n.getFullYear(),s=it(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=ki(s),c=it(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const u=ki(c);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Si(t){const e=ge(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function sr(t,...e){const n=it.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function fs(t,e){const n=ge(t,e?.in);return n.setHours(0,0,0,0),n}function Di(t,e,n){const[r,s]=sr(n?.in,t,e),o=fs(r),c=fs(s),u=+o-Si(o),f=+c-Si(c);return Math.round((u-f)/Z5)}function nD(t,e){const n=W1(t,e),r=it(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ki(r)}function Wh(t,e,n){const r=ge(t,n?.in);return r.setTime(r.getTime()+e*Nu),r}function L0(t,e,n){return nr(t,e*3,n)}function rD(t,e,n){return V1(t,e*1e3)}function nu(t,e,n){return er(t,e*7,n)}function zr(t,e,n){return nr(t,e*12,n)}function Ib(t,e){let n,r=e?.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=it.bind(null,s));const o=ge(s,r);(!n||n<o||isNaN(+o))&&(n=o)}),it(r,n||NaN)}function Yb(t,e){let n,r=e?.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=it.bind(null,s));const o=ge(s,r);(!n||n>o||isNaN(+o))&&(n=o)}),it(r,n||NaN)}function zc(t,e){const n=+ge(t)-+ge(e);return n<0?-1:n>0?1:n}function aD(t){return it(t,Date.now())}function sD(t,e,n){const[r,s]=sr(n?.in,t,e);return+fs(r)==+fs(s)}function qr(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ru(t){return!(!qr(t)&&typeof t!="number"||isNaN(+ge(t)))}function Zo(t,e,n){const[r,s]=sr(n?.in,t,e),o=r.getFullYear()-s.getFullYear(),c=r.getMonth()-s.getMonth();return o*12+c}function os(t,e){const n=ge(t,e?.in);return Math.trunc(n.getMonth()/3)+1}function au(t,e,n){const[r,s]=sr(n?.in,t,e),o=r.getFullYear()-s.getFullYear(),c=os(r)-os(s);return o*4+c}function su(t,e,n){const[r,s]=sr(n?.in,t,e);return r.getFullYear()-s.getFullYear()}function iD(t,e,n){const[r,s]=sr(n?.in,t,e),o=Qb(r,s),c=Math.abs(Di(r,s));r.setDate(r.getDate()-o*c);const u=+(Qb(r,s)===-o),f=o*(c-u);return f===0?0:f}function Qb(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function oD(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function lD(t,e){return+ge(t)-+ge(e)}function $0(t,e){const n=ge(t,e?.in);return n.setHours(23,59,59,999),n}function P0(t,e){const n=ge(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function cD(t,e){const n=ge(t,e?.in);return+$0(n,e)==+P0(n,e)}function uD(t,e,n){const[r,s,o]=sr(n?.in,t,t,e),c=zc(s,o),u=Math.abs(Zo(s,o));if(u<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-c*u);let f=zc(s,o)===-c;cD(r)&&u===1&&zc(r,o)===1&&(f=!1);const m=c*(u-+f);return m===0?0:m}function dD(t,e,n){const r=lD(t,e)/1e3;return oD(n?.roundingMethod)(r)}function Gh(t,e){const n=ge(t,e?.in),r=n.getMonth(),s=r-r%3;return n.setMonth(s,1),n.setHours(0,0,0,0),n}function G1(t,e){const n=ge(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function X1(t,e){const n=ge(t,e?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Tu(t,e){const n=ge(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function fD(t,e){const n=Oa(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=ge(t,e?.in),o=s.getDay(),c=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}const hD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mD=(t,e,n)=>{let r;const s=hD[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function hh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const pD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bD={date:hh({formats:pD,defaultWidth:"full"}),time:hh({formats:gD,defaultWidth:"full"}),dateTime:hh({formats:yD,defaultWidth:"full"})},vD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xD=(t,e,n,r)=>vD[t];function Po(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=n?.width?String(n.width):c;s=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=n?.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const wD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_D={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ED={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CD=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ND={ordinalNumber:CD,era:Po({values:wD,defaultWidth:"wide"}),quarter:Po({values:_D,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Po({values:kD,defaultWidth:"wide"}),day:Po({values:SD,defaultWidth:"wide"}),dayPeriod:Po({values:DD,defaultWidth:"wide",formattingValues:ED,defaultFormattingWidth:"wide"})};function Uo(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(u)?TD(u,y=>y.test(c)):jD(u,y=>y.test(c));let m;m=t.valueCallback?t.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const p=e.slice(c.length);return{value:m,rest:p}}}function jD(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function TD(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function MD(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}const OD=/^(\d+)(th|st|nd|rd)?/i,AD=/\d+/i,RD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LD={any:[/^b/i,/^(a|c)/i]},$D={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PD={any:[/1/i,/2/i,/3/i,/4/i]},UD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},BD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},HD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ID={ordinalNumber:MD({matchPattern:OD,parsePattern:AD,valueCallback:t=>parseInt(t,10)}),era:Uo({matchPatterns:RD,defaultMatchWidth:"wide",parsePatterns:LD,defaultParseWidth:"any"}),quarter:Uo({matchPatterns:$D,defaultMatchWidth:"wide",parsePatterns:PD,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Uo({matchPatterns:UD,defaultMatchWidth:"wide",parsePatterns:BD,defaultParseWidth:"any"}),day:Uo({matchPatterns:HD,defaultMatchWidth:"wide",parsePatterns:FD,defaultParseWidth:"any"}),dayPeriod:Uo({matchPatterns:zD,defaultMatchWidth:"any",parsePatterns:qD,defaultParseWidth:"any"})},U0={code:"en-US",formatDistance:mD,formatLong:bD,formatRelative:xD,localize:ND,match:ID,options:{weekStartsOn:0,firstWeekContainsDate:1}};function YD(t,e){const n=ge(t,e?.in);return Di(n,Tu(n))+1}function B0(t,e){const n=ge(t,e?.in),r=+ki(n)-+nD(n);return Math.round(r/K1)+1}function H0(t,e){const n=ge(t,e?.in),r=n.getFullYear(),s=Oa(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=it(e?.in||t,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const u=Vr(c,e),f=it(e?.in||t,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const m=Vr(f,e);return+n>=+u?r+1:+n>=+m?r:r-1}function QD(t,e){const n=Oa(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=H0(t,e),o=it(e?.in||t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Vr(o,e)}function Z1(t,e){const n=ge(t,e?.in),r=+Vr(n,e)-+QD(n,e);return Math.round(r/K1)+1}function ut(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const _a={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ut(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ut(n+1,2)},d(t,e){return ut(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ut(t.getHours()%12||12,e.length)},H(t,e){return ut(t.getHours(),e.length)},m(t,e){return ut(t.getMinutes(),e.length)},s(t,e){return ut(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ut(s,e.length)}},mi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kb={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return _a.y(t,e)},Y:function(t,e,n,r){const s=H0(t,r),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return ut(c,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):ut(o,e.length)},R:function(t,e){const n=W1(t);return ut(n,e.length)},u:function(t,e){const n=t.getFullYear();return ut(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ut(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ut(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return _a.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ut(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Z1(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ut(s,e.length)},I:function(t,e,n){const r=B0(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ut(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):_a.d(t,e)},D:function(t,e,n){const r=YD(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ut(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ut(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ut(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ut(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=mi.noon:r===0?s=mi.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=mi.evening:r>=12?s=mi.afternoon:r>=4?s=mi.morning:s=mi.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _a.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):_a.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ut(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ut(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):_a.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):_a.s(t,e)},S:function(t,e){return _a.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Wb(r);case"XXXX":case"XX":return ts(r);case"XXXXX":case"XXX":default:return ts(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Wb(r);case"xxxx":case"xx":return ts(r);case"xxxxx":case"xxx":default:return ts(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Vb(r,":");case"OOOO":default:return"GMT"+ts(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Vb(r,":");case"zzzz":default:return"GMT"+ts(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return ut(r,e.length)},T:function(t,e,n){return ut(+t,e.length)}};function Vb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+ut(o,2)}function Wb(t,e){return t%60===0?(t>0?"-":"+")+ut(Math.abs(t)/60,2):ts(t,e)}function ts(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ut(Math.trunc(r/60),2),o=ut(r%60,2);return n+s+e+o}const Gb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},J1=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},KD=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Gb(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Gb(r,e)).replace("{{time}}",J1(s,e))},Xh={p:J1,P:KD},VD=/^D+$/,WD=/^Y+$/,GD=["D","DD","YY","YYYY"];function XD(t){return VD.test(t)}function ZD(t){return WD.test(t)}function JD(t,e,n){const r=eE(t,e,n);if(console.warn(r),GD.includes(t))throw new RangeError(r)}function eE(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rE=/^'([^]*?)'?$/,aE=/''/g,sE=/[a-zA-Z]/;function Zh(t,e,n){const r=Oa(),s=n?.locale??r.locale??U0,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=ge(t,n?.in);if(!ru(u))throw new RangeError("Invalid time value");let f=e.match(nE).map(p=>{const y=p[0];if(y==="p"||y==="P"){const b=Xh[y];return b(p,s.formatLong)}return p}).join("").match(tE).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const y=p[0];if(y==="'")return{isToken:!1,value:iE(p)};if(Kb[y])return{isToken:!0,value:p};if(y.match(sE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(f=s.localize.preprocessor(u,f));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return f.map(p=>{if(!p.isToken)return p.value;const y=p.value;(!n?.useAdditionalWeekYearTokens&&ZD(y)||!n?.useAdditionalDayOfYearTokens&&XD(y))&&JD(y,e,String(t));const b=Kb[y[0]];return b(u,y,s.localize,m)}).join("")}function iE(t){const e=t.match(rE);return e?e[1].replace(aE,"'"):t}function oE(t,e,n){const r=Oa(),s=n?.locale??r.locale??U0,o=2520,c=zc(t,e);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:c}),[f,m]=sr(n?.in,...c>0?[e,t]:[t,e]),p=dD(m,f),y=(Si(m)-Si(f))/1e3,b=Math.round((p-y)/60);let w;if(b<2)return n?.includeSeconds?p<5?s.formatDistance("lessThanXSeconds",5,u):p<10?s.formatDistance("lessThanXSeconds",10,u):p<20?s.formatDistance("lessThanXSeconds",20,u):p<40?s.formatDistance("halfAMinute",0,u):p<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):b===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",b,u);if(b<45)return s.formatDistance("xMinutes",b,u);if(b<90)return s.formatDistance("aboutXHours",1,u);if(b<zb){const x=Math.round(b/60);return s.formatDistance("aboutXHours",x,u)}else{if(b<o)return s.formatDistance("xDays",1,u);if(b<Tc){const x=Math.round(b/zb);return s.formatDistance("xDays",x,u)}else if(b<Tc*2)return w=Math.round(b/Tc),s.formatDistance("aboutXMonths",w,u)}if(w=uD(m,f),w<12){const x=Math.round(b/Tc);return s.formatDistance("xMonths",x,u)}else{const x=w%12,k=Math.trunc(w/12);return x<3?s.formatDistance("aboutXYears",k,u):x<9?s.formatDistance("overXYears",k,u):s.formatDistance("almostXYears",k+1,u)}}function ex(t,e){return oE(t,aD(t),e)}function Xb(t,e){return ge(t,e?.in).getDate()}function lE(t,e){return ge(t,e?.in).getDay()}function cE(t,e){const n=ge(t,e?.in),r=n.getFullYear(),s=n.getMonth(),o=it(n,0);return o.setFullYear(r,s+1,0),o.setHours(0,0,0,0),o.getDate()}function uE(){return Object.assign({},Oa())}function Ir(t,e){return ge(t,e?.in).getHours()}function dE(t,e){const n=ge(t,e?.in).getDay();return n===0?7:n}function Yr(t,e){return ge(t,e?.in).getMinutes()}function un(t,e){return ge(t,e?.in).getMonth()}function Ca(t){return ge(t).getSeconds()}function Jh(t){return+ge(t)}function He(t,e){return ge(t,e?.in).getFullYear()}function ja(t,e){return+ge(t)>+ge(e)}function hs(t,e){return+ge(t)<+ge(e)}function fE(t,e){return+ge(t)==+ge(e)}function hE(t,e){const n=mE(e)?new e(0):it(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function mE(t){return typeof t=="function"&&t.prototype?.constructor===t}const pE=10;class tx{subPriority=0;validate(e,n){return!0}}class gE extends tx{constructor(e,n,r,s,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class yE extends tx{priority=pE;subPriority=-1;constructor(e,n){super(),this.context=e||(r=>it(n,r))}set(e,n){return n.timestampIsSet?e:it(e,hE(e,this.context))}}class nt{run(e,n,r,s){const o=this.parse(e,n,r,s);return o?{setter:new gE(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}}class bE extends nt{priority=140;parse(e,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,n,r){return n.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Tt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},gr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mt(t,e){return t&&{value:e(t.value),rest:t.rest}}function kt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function yr(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,c=n[5]?parseInt(n[5],10):0;return{value:r*(s*ju+o*Nu+c*J5),rest:e.slice(n[0].length)}}function nx(t){return kt(Tt.anyDigitsSigned,t)}function Et(t,e){switch(t){case 1:return kt(Tt.singleDigit,e);case 2:return kt(Tt.twoDigits,e);case 3:return kt(Tt.threeDigits,e);case 4:return kt(Tt.fourDigits,e);default:return kt(new RegExp("^\\d{1,"+t+"}"),e)}}function iu(t,e){switch(t){case 1:return kt(Tt.singleDigitSigned,e);case 2:return kt(Tt.twoDigitsSigned,e);case 3:return kt(Tt.threeDigitsSigned,e);case 4:return kt(Tt.fourDigitsSigned,e);default:return kt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function F0(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function rx(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const o=r+50,c=Math.trunc(o/100)*100,u=t>=o%100;s=t+c-(u?100:0)}return n?s:1-s}function ax(t){return t%400===0||t%4===0&&t%100!==0}class vE extends nt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,n,r){const s=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Mt(Et(4,e),s);case"yo":return Mt(r.ordinalNumber(e,{unit:"year"}),s);default:return Mt(Et(n.length,e),s)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,r){const s=e.getFullYear();if(r.isTwoDigitYear){const c=rx(r.year,s);return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}const o=!("era"in n)||n.era===1?r.year:1-r.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class xE extends nt{priority=130;parse(e,n,r){const s=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Mt(Et(4,e),s);case"Yo":return Mt(r.ordinalNumber(e,{unit:"year"}),s);default:return Mt(Et(n.length,e),s)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,r,s){const o=H0(e,s);if(r.isTwoDigitYear){const u=rx(r.year,o);return e.setFullYear(u,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),Vr(e,s)}const c=!("era"in n)||n.era===1?r.year:1-r.year;return e.setFullYear(c,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),Vr(e,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class wE extends nt{priority=130;parse(e,n){return iu(n==="R"?4:n.length,e)}set(e,n,r){const s=it(e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),ki(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class _E extends nt{priority=130;parse(e,n){return iu(n==="u"?4:n.length,e)}set(e,n,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class kE extends nt{priority=120;parse(e,n,r){switch(n){case"Q":case"QQ":return Et(n.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class SE extends nt{priority=120;parse(e,n,r){switch(n){case"q":case"qq":return Et(n.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class DE extends nt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,n,r){const s=o=>o-1;switch(n){case"M":return Mt(kt(Tt.month,e),s);case"MM":return Mt(Et(2,e),s);case"Mo":return Mt(r.ordinalNumber(e,{unit:"month"}),s);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class EE extends nt{priority=110;parse(e,n,r){const s=o=>o-1;switch(n){case"L":return Mt(kt(Tt.month,e),s);case"LL":return Mt(Et(2,e),s);case"Lo":return Mt(r.ordinalNumber(e,{unit:"month"}),s);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function CE(t,e,n){const r=ge(t,n?.in),s=Z1(r,n)-e;return r.setDate(r.getDate()-s*7),ge(r,n?.in)}class NE extends nt{priority=100;parse(e,n,r){switch(n){case"w":return kt(Tt.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return Et(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,r,s){return Vr(CE(e,r,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function jE(t,e,n){const r=ge(t,n?.in),s=B0(r,n)-e;return r.setDate(r.getDate()-s*7),r}class TE extends nt{priority=100;parse(e,n,r){switch(n){case"I":return kt(Tt.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return Et(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,r){return ki(jE(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const ME=[31,28,31,30,31,30,31,31,30,31,30,31],OE=[31,29,31,30,31,30,31,31,30,31,30,31];class AE extends nt{priority=90;subPriority=1;parse(e,n,r){switch(n){case"d":return kt(Tt.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return Et(n.length,e)}}validate(e,n){const r=e.getFullYear(),s=ax(r),o=e.getMonth();return s?n>=1&&n<=OE[o]:n>=1&&n<=ME[o]}set(e,n,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class RE extends nt{priority=90;subpriority=1;parse(e,n,r){switch(n){case"D":case"DD":return kt(Tt.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return Et(n.length,e)}}validate(e,n){const r=e.getFullYear();return ax(r)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function z0(t,e,n){const r=Oa(),s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=ge(t,n?.in),c=o.getDay(),f=(e%7+7)%7,m=7-s,p=e<0||e>6?e-(c+m)%7:(f+m)%7-(c+m)%7;return er(o,p,n)}class LE extends nt{priority=90;parse(e,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,s){return e=z0(e,r,s),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class $E extends nt{priority=90;parse(e,n,r,s){const o=c=>{const u=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+u};switch(n){case"e":case"ee":return Mt(Et(n.length,e),o);case"eo":return Mt(r.ordinalNumber(e,{unit:"day"}),o);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,s){return e=z0(e,r,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class PE extends nt{priority=90;parse(e,n,r,s){const o=c=>{const u=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+u};switch(n){case"c":case"cc":return Mt(Et(n.length,e),o);case"co":return Mt(r.ordinalNumber(e,{unit:"day"}),o);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,s){return e=z0(e,r,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function UE(t,e,n){const r=ge(t,n?.in),s=dE(r,n),o=e-s;return er(r,o,n)}class BE extends nt{priority=90;parse(e,n,r){const s=o=>o===0?7:o;switch(n){case"i":case"ii":return Et(n.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return Mt(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return Mt(r.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Mt(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Mt(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,n){return n>=1&&n<=7}set(e,n,r){return e=UE(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class HE extends nt{priority=80;parse(e,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(F0(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class FE extends nt{priority=80;parse(e,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(F0(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class zE extends nt{priority=80;parse(e,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(F0(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class qE extends nt{priority=70;parse(e,n,r){switch(n){case"h":return kt(Tt.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return Et(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,r){const s=e.getHours()>=12;return s&&r<12?e.setHours(r+12,0,0,0):!s&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class IE extends nt{priority=70;parse(e,n,r){switch(n){case"H":return kt(Tt.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return Et(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class YE extends nt{priority=70;parse(e,n,r){switch(n){case"K":return kt(Tt.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return Et(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class QE extends nt{priority=70;parse(e,n,r){switch(n){case"k":return kt(Tt.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return Et(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,r){const s=r<=24?r%24:r;return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class KE extends nt{priority=60;parse(e,n,r){switch(n){case"m":return kt(Tt.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return Et(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class VE extends nt{priority=50;parse(e,n,r){switch(n){case"s":return kt(Tt.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return Et(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class WE extends nt{priority=30;parse(e,n){const r=s=>Math.trunc(s*Math.pow(10,-n.length+3));return Mt(Et(n.length,e),r)}set(e,n,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class GE extends nt{priority=10;parse(e,n){switch(n){case"X":return yr(gr.basicOptionalMinutes,e);case"XX":return yr(gr.basic,e);case"XXXX":return yr(gr.basicOptionalSeconds,e);case"XXXXX":return yr(gr.extendedOptionalSeconds,e);case"XXX":default:return yr(gr.extended,e)}}set(e,n,r){return n.timestampIsSet?e:it(e,e.getTime()-Si(e)-r)}incompatibleTokens=["t","T","x"]}class XE extends nt{priority=10;parse(e,n){switch(n){case"x":return yr(gr.basicOptionalMinutes,e);case"xx":return yr(gr.basic,e);case"xxxx":return yr(gr.basicOptionalSeconds,e);case"xxxxx":return yr(gr.extendedOptionalSeconds,e);case"xxx":default:return yr(gr.extended,e)}}set(e,n,r){return n.timestampIsSet?e:it(e,e.getTime()-Si(e)-r)}incompatibleTokens=["t","T","X"]}class ZE extends nt{priority=40;parse(e){return nx(e)}set(e,n,r){return[it(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class JE extends nt{priority=20;parse(e){return nx(e)}set(e,n,r){return[it(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const eC={G:new bE,y:new vE,Y:new xE,R:new wE,u:new _E,Q:new kE,q:new SE,M:new DE,L:new EE,w:new NE,I:new TE,d:new AE,D:new RE,E:new LE,e:new $E,c:new PE,i:new BE,a:new HE,b:new FE,B:new zE,h:new qE,H:new IE,K:new YE,k:new QE,m:new KE,s:new VE,S:new WE,X:new GE,x:new XE,t:new ZE,T:new JE},tC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rC=/^'([^]*?)'?$/,aC=/''/g,sC=/\S/,iC=/[a-zA-Z]/;function oC(t,e,n,r){const s=()=>it(r?.in||n,NaN),o=uE(),c=r?.locale??o.locale??U0,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,f=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!e)return t?s():ge(n,r?.in);const m={firstWeekContainsDate:u,weekStartsOn:f,locale:c},p=[new yE(r?.in,n)],y=e.match(nC).map(_=>{const S=_[0];if(S in Xh){const D=Xh[S];return D(_,c.formatLong)}return _}).join("").match(tC),b=[];for(let _ of y){const S=_[0],D=eC[S];if(D){const{incompatibleTokens:C}=D;if(Array.isArray(C)){const M=b.find(L=>C.includes(L.token)||L.token===S);if(M)throw new RangeError(`The format string mustn't contain \`${M.fullToken}\` and \`${_}\` at the same time`)}else if(D.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);b.push({token:S,fullToken:_});const T=D.run(t,_,c.match,m);if(!T)return s();p.push(T.setter),t=T.rest}else{if(S.match(iC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(_==="''"?_="'":S==="'"&&(_=lC(_)),t.indexOf(_)===0)t=t.slice(_.length);else return s()}}if(t.length>0&&sC.test(t))return s();const w=p.map(_=>_.priority).sort((_,S)=>S-_).filter((_,S,D)=>D.indexOf(_)===S).map(_=>p.filter(S=>S.priority===_).sort((S,D)=>D.subPriority-S.subPriority)).map(_=>_[0]);let x=ge(n,r?.in);if(isNaN(+x))return s();const k={};for(const _ of w){if(!_.validate(x,m))return s();const S=_.set(x,k,m);Array.isArray(S)?(x=S[0],Object.assign(k,S[1])):x=S}return x}function lC(t){return t.match(rC)[1].replace(aC,"'")}function cC(t,e,n){const[r,s]=sr(n?.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function uC(t,e,n){const[r,s]=sr(n?.in,t,e);return+Gh(r)==+Gh(s)}function dC(t,e,n){const[r,s]=sr(n?.in,t,e);return r.getFullYear()===s.getFullYear()}function Jo(t,e,n){const r=+ge(t,n?.in),[s,o]=[+ge(e.start,n?.in),+ge(e.end,n?.in)].sort((c,u)=>c-u);return r>=s&&r<=o}function fC(t,e,n){return er(t,-1,n)}function hC(t,e){const n=()=>it(e?.in,NaN),s=yC(t);let o;if(s.date){const m=bC(s.date,2);o=vC(m.restDateString,m.year)}if(!o||isNaN(+o))return n();const c=+o;let u=0,f;if(s.time&&(u=xC(s.time),isNaN(u)))return n();if(s.timezone){if(f=wC(s.timezone),isNaN(f))return n()}else{const m=new Date(c+u),p=ge(0,e?.in);return p.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),p.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),p}return ge(c+u+f,e?.in)}const Mc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},mC=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pC=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gC=/^([+-])(\d{2})(?::?(\d{2}))?$/;function yC(t){const e={},n=t.split(Mc.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Mc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Mc.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Mc.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function bC(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?s:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function vC(t,e){if(e===null)return new Date(NaN);const n=t.match(mC);if(!n)return new Date(NaN);const r=!!n[4],s=Bo(n[1]),o=Bo(n[2])-1,c=Bo(n[3]),u=Bo(n[4]),f=Bo(n[5])-1;if(r)return EC(e,u,f)?_C(e,u,f):new Date(NaN);{const m=new Date(0);return!SC(e,o,c)||!DC(e,s)?new Date(NaN):(m.setUTCFullYear(e,o,Math.max(s,c)),m)}}function Bo(t){return t?parseInt(t):1}function xC(t){const e=t.match(pC);if(!e)return NaN;const n=mh(e[1]),r=mh(e[2]),s=mh(e[3]);return CC(n,r,s)?n*ju+r*Nu+s*1e3:NaN}function mh(t){return t&&parseFloat(t.replace(",","."))||0}function wC(t){if(t==="Z")return 0;const e=t.match(gC);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return NC(r,s)?n*(r*ju+s*Nu):NaN}function _C(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,o=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+o),r}const kC=[31,null,31,30,31,30,31,31,30,31,30,31];function sx(t){return t%400===0||t%4===0&&t%100!==0}function SC(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(kC[e]||(sx(t)?29:28))}function DC(t,e){return e>=1&&e<=(sx(t)?366:365)}function EC(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function CC(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function NC(t,e){return e>=0&&e<=59}function Yn(t,e,n){const r=ge(t,n?.in),s=r.getFullYear(),o=r.getDate(),c=it(t,0);c.setFullYear(s,e,15),c.setHours(0,0,0,0);const u=cE(c);return r.setMonth(e,Math.min(o,u)),r}function qc(t,e,n){const r=ge(t,n?.in);return r.setHours(e),r}function Ic(t,e,n){const r=ge(t,n?.in);return r.setMinutes(e),r}function bi(t,e,n){const r=ge(t,n?.in),s=Math.trunc(r.getMonth()/3)+1,o=e-s;return Yn(r,r.getMonth()+o*3)}function Yc(t,e,n){const r=ge(t,n?.in);return r.setSeconds(e),r}function mr(t,e,n){const r=ge(t,n?.in);return isNaN(+r)?it(t,NaN):(r.setFullYear(e),r)}function ls(t,e,n){return nr(t,-e,n)}function ix(t,e,n){return L0(t,-1,n)}function Zb(t,e,n){return nu(t,-1,n)}function Ei(t,e,n){return zr(t,-e,n)}function Mu(){return typeof window<"u"}function $i(t){return ox(t)?(t.nodeName||"").toLowerCase():"#document"}function An(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function kr(t){var e;return(e=(ox(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ox(t){return Mu()?t instanceof Node||t instanceof An(t).Node:!1}function pn(t){return Mu()?t instanceof Element||t instanceof An(t).Element:!1}function wr(t){return Mu()?t instanceof HTMLElement||t instanceof An(t).HTMLElement:!1}function Jb(t){return!Mu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof An(t).ShadowRoot}const jC=new Set(["inline","contents"]);function ol(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!jC.has(s)}const TC=new Set(["table","td","th"]);function MC(t){return TC.has($i(t))}const OC=[":popover-open",":modal"];function Ou(t){return OC.some(e=>{try{return t.matches(e)}catch{return!1}})}const AC=["transform","translate","scale","rotate","perspective"],RC=["transform","translate","scale","rotate","perspective","filter"],LC=["paint","layout","strict","content"];function q0(t){const e=I0(),n=pn(t)?Kn(t):t;return AC.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||RC.some(r=>(n.willChange||"").includes(r))||LC.some(r=>(n.contain||"").includes(r))}function $C(t){let e=Ta(t);for(;wr(e)&&!Ci(e);){if(q0(e))return e;if(Ou(e))return null;e=Ta(e)}return null}function I0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const PC=new Set(["html","body","#document"]);function Ci(t){return PC.has($i(t))}function Kn(t){return An(t).getComputedStyle(t)}function Au(t){return pn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ta(t){if($i(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Jb(t)&&t.host||kr(t);return Jb(e)?e.host:e}function lx(t){const e=Ta(t);return Ci(e)?t.ownerDocument?t.ownerDocument.body:t.body:wr(e)&&ol(e)?e:lx(e)}function el(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=lx(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),c=An(s);if(o){const u=e0(c);return e.concat(c,c.visualViewport||[],ol(s)?s:[],u&&n?el(u):[])}return e.concat(s,el(s,[],n))}function e0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Ni=Math.min,cs=Math.max,ou=Math.round,Oc=Math.floor,xr=t=>({x:t,y:t}),UC={left:"right",right:"left",bottom:"top",top:"bottom"},BC={start:"end",end:"start"};function HC(t,e,n){return cs(t,Ni(e,n))}function Ru(t,e){return typeof t=="function"?t(e):t}function ji(t){return t.split("-")[0]}function ll(t){return t.split("-")[1]}function FC(t){return t==="x"?"y":"x"}function Y0(t){return t==="y"?"height":"width"}const zC=new Set(["top","bottom"]);function ss(t){return zC.has(ji(t))?"y":"x"}function Q0(t){return FC(ss(t))}function qC(t,e,n){n===void 0&&(n=!1);const r=ll(t),s=Q0(t),o=Y0(s);let c=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=lu(c)),[c,lu(c)]}function IC(t){const e=lu(t);return[t0(t),e,t0(e)]}function t0(t){return t.replace(/start|end/g,e=>BC[e])}const ev=["left","right"],tv=["right","left"],YC=["top","bottom"],QC=["bottom","top"];function KC(t,e,n){switch(t){case"top":case"bottom":return n?e?tv:ev:e?ev:tv;case"left":case"right":return e?YC:QC;default:return[]}}function VC(t,e,n,r){const s=ll(t);let o=KC(ji(t),n==="start",r);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(t0)))),o}function lu(t){return t.replace(/left|right|bottom|top/g,e=>UC[e])}function WC(t){return{top:0,right:0,bottom:0,left:0,...t}}function cx(t){return typeof t!="number"?WC(t):{top:t,right:t,bottom:t,left:t}}function cu(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}var GC=typeof document<"u",XC=function(){},uu=GC?N.useLayoutEffect:XC;const ZC={...Yv},JC=ZC.useInsertionEffect,eN=JC||(t=>t());function tN(t){const e=N.useRef(()=>{});return eN(()=>{e.current=t}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function nv(t,e,n){let{reference:r,floating:s}=t;const o=ss(e),c=Q0(e),u=Y0(c),f=ji(e),m=o==="y",p=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,b=r[u]/2-s[u]/2;let w;switch(f){case"top":w={x:p,y:r.y-s.height};break;case"bottom":w={x:p,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y};break;case"left":w={x:r.x-s.width,y};break;default:w={x:r.x,y:r.y}}switch(ll(e)){case"start":w[c]-=b*(n&&m?-1:1);break;case"end":w[c]+=b*(n&&m?-1:1);break}return w}const nN=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:c}=n,u=o.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y}=nv(m,r,f),b=r,w={},x=0;for(let k=0;k<u.length;k++){const{name:_,fn:S}=u[k],{x:D,y:C,data:T,reset:M}=await S({x:p,y,initialPlacement:r,placement:b,strategy:s,middlewareData:w,rects:m,platform:c,elements:{reference:t,floating:e}});p=D??p,y=C??y,w={...w,[_]:{...w[_],...T}},M&&x<=50&&(x++,typeof M=="object"&&(M.placement&&(b=M.placement),M.rects&&(m=M.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:s}):M.rects),{x:p,y}=nv(m,b,f)),k=-1)}return{x:p,y,placement:b,strategy:s,middlewareData:w}};async function rN(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:c,elements:u,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:b=!1,padding:w=0}=Ru(e,t),x=cx(w),_=u[b?y==="floating"?"reference":"floating":y],S=cu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:p,strategy:f})),D=y==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),T=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},M=cu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:C,strategy:f}):D);return{top:(S.top-M.top+x.top)/T.y,bottom:(M.bottom-S.bottom+x.bottom)/T.y,left:(S.left-M.left+x.left)/T.x,right:(M.right-S.right+x.right)/T.x}}const aN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:c,elements:u,middlewareData:f}=e,{element:m,padding:p=0}=Ru(t,e)||{};if(m==null)return{};const y=cx(p),b={x:n,y:r},w=Q0(s),x=Y0(w),k=await c.getDimensions(m),_=w==="y",S=_?"top":"left",D=_?"bottom":"right",C=_?"clientHeight":"clientWidth",T=o.reference[x]+o.reference[w]-b[w]-o.floating[x],M=b[w]-o.reference[w],L=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let R=L?L[C]:0;(!R||!await(c.isElement==null?void 0:c.isElement(L)))&&(R=u.floating[C]||o.floating[x]);const $=T/2-M/2,U=R/2-k[x]/2-1,q=Ni(y[S],U),V=Ni(y[D],U),X=q,B=R-k[x]-V,F=R/2-k[x]/2+$,I=HC(X,F,B),A=!f.arrow&&ll(s)!=null&&F!==I&&o.reference[x]/2-(F<X?q:V)-k[x]/2<0,H=A?F<X?F-X:F-B:0;return{[w]:b[w]+H,data:{[w]:I,centerOffset:F-I-H,...A&&{alignmentOffset:H}},reset:A}}}),sN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:c,initialPlacement:u,platform:f,elements:m}=e,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:k=!0,..._}=Ru(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const S=ji(s),D=ss(u),C=ji(u)===u,T=await(f.isRTL==null?void 0:f.isRTL(m.floating)),M=b||(C||!k?[lu(u)]:IC(u)),L=x!=="none";!b&&L&&M.push(...VC(u,k,x,T));const R=[u,...M],$=await rN(e,_),U=[];let q=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&U.push($[S]),y){const F=qC(s,c,T);U.push($[F[0]],$[F[1]])}if(q=[...q,{placement:s,overflows:U}],!U.every(F=>F<=0)){var V,X;const F=(((V=o.flip)==null?void 0:V.index)||0)+1,I=R[F];if(I&&(!(y==="alignment"?D!==ss(I):!1)||q.every(z=>ss(z.placement)===D?z.overflows[0]>0:!0)))return{data:{index:F,overflows:q},reset:{placement:I}};let A=(X=q.filter(H=>H.overflows[0]<=0).sort((H,z)=>H.overflows[1]-z.overflows[1])[0])==null?void 0:X.placement;if(!A)switch(w){case"bestFit":{var B;const H=(B=q.filter(z=>{if(L){const te=ss(z.placement);return te===D||te==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(te=>te>0).reduce((te,O)=>te+O,0)]).sort((z,te)=>z[1]-te[1])[0])==null?void 0:B[0];H&&(A=H);break}case"initialPlacement":A=u;break}if(s!==A)return{reset:{placement:A}}}return{}}}},iN=new Set(["left","top"]);async function oN(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=ji(n),u=ll(n),f=ss(n)==="y",m=iN.has(c)?-1:1,p=o&&f?-1:1,y=Ru(e,t);let{mainAxis:b,crossAxis:w,alignmentAxis:x}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof x=="number"&&(w=u==="end"?x*-1:x),f?{x:w*p,y:b*m}:{x:b*m,y:w*p}}const lN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:c,middlewareData:u}=e,f=await oN(e,t);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:c}}}}};function ux(t){const e=Kn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=wr(t),o=s?t.offsetWidth:n,c=s?t.offsetHeight:r,u=ou(n)!==o||ou(r)!==c;return u&&(n=o,r=c),{width:n,height:r,$:u}}function K0(t){return pn(t)?t:t.contextElement}function vi(t){const e=K0(t);if(!wr(e))return xr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=ux(e);let c=(o?ou(n.width):n.width)/r,u=(o?ou(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const cN=xr(0);function dx(t){const e=An(t);return!I0()||!e.visualViewport?cN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==An(t)?!1:e}function ms(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=K0(t);let c=xr(1);e&&(r?pn(r)&&(c=vi(r)):c=vi(t));const u=uN(o,n,r)?dx(o):xr(0);let f=(s.left+u.x)/c.x,m=(s.top+u.y)/c.y,p=s.width/c.x,y=s.height/c.y;if(o){const b=An(o),w=r&&pn(r)?An(r):r;let x=b,k=e0(x);for(;k&&r&&w!==x;){const _=vi(k),S=k.getBoundingClientRect(),D=Kn(k),C=S.left+(k.clientLeft+parseFloat(D.paddingLeft))*_.x,T=S.top+(k.clientTop+parseFloat(D.paddingTop))*_.y;f*=_.x,m*=_.y,p*=_.x,y*=_.y,f+=C,m+=T,x=An(k),k=e0(x)}}return cu({width:p,height:y,x:f,y:m})}function Lu(t,e){const n=Au(t).scrollLeft;return e?e.left+n:ms(kr(t)).left+n}function fx(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Lu(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function dN(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",c=kr(r),u=e?Ou(e.floating):!1;if(r===c||u&&o)return n;let f={scrollLeft:0,scrollTop:0},m=xr(1);const p=xr(0),y=wr(r);if((y||!y&&!o)&&(($i(r)!=="body"||ol(c))&&(f=Au(r)),wr(r))){const w=ms(r);m=vi(r),p.x=w.x+r.clientLeft,p.y=w.y+r.clientTop}const b=c&&!y&&!o?fx(c,f):xr(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+p.x+b.x,y:n.y*m.y-f.scrollTop*m.y+p.y+b.y}}function fN(t){return Array.from(t.getClientRects())}function hN(t){const e=kr(t),n=Au(t),r=t.ownerDocument.body,s=cs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=cs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Lu(t);const u=-n.scrollTop;return Kn(r).direction==="rtl"&&(c+=cs(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:c,y:u}}const rv=25;function mN(t,e){const n=An(t),r=kr(t),s=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,u=0,f=0;if(s){o=s.width,c=s.height;const p=I0();(!p||p&&e==="fixed")&&(u=s.offsetLeft,f=s.offsetTop)}const m=Lu(r);if(m<=0){const p=r.ownerDocument,y=p.body,b=getComputedStyle(y),w=p.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,x=Math.abs(r.clientWidth-y.clientWidth-w);x<=rv&&(o-=x)}else m<=rv&&(o+=m);return{width:o,height:c,x:u,y:f}}const pN=new Set(["absolute","fixed"]);function gN(t,e){const n=ms(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=wr(t)?vi(t):xr(1),c=t.clientWidth*o.x,u=t.clientHeight*o.y,f=s*o.x,m=r*o.y;return{width:c,height:u,x:f,y:m}}function av(t,e,n){let r;if(e==="viewport")r=mN(t,n);else if(e==="document")r=hN(kr(t));else if(pn(e))r=gN(e,n);else{const s=dx(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return cu(r)}function hx(t,e){const n=Ta(t);return n===e||!pn(n)||Ci(n)?!1:Kn(n).position==="fixed"||hx(n,e)}function yN(t,e){const n=e.get(t);if(n)return n;let r=el(t,[],!1).filter(u=>pn(u)&&$i(u)!=="body"),s=null;const o=Kn(t).position==="fixed";let c=o?Ta(t):t;for(;pn(c)&&!Ci(c);){const u=Kn(c),f=q0(c);!f&&u.position==="fixed"&&(s=null),(o?!f&&!s:!f&&u.position==="static"&&!!s&&pN.has(s.position)||ol(c)&&!f&&hx(t,c))?r=r.filter(p=>p!==c):s=u,c=Ta(c)}return e.set(t,r),r}function bN(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const c=[...n==="clippingAncestors"?Ou(e)?[]:yN(e,this._c):[].concat(n),r],u=c[0],f=c.reduce((m,p)=>{const y=av(e,p,s);return m.top=cs(y.top,m.top),m.right=Ni(y.right,m.right),m.bottom=Ni(y.bottom,m.bottom),m.left=cs(y.left,m.left),m},av(e,u,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function vN(t){const{width:e,height:n}=ux(t);return{width:e,height:n}}function xN(t,e,n){const r=wr(e),s=kr(e),o=n==="fixed",c=ms(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const f=xr(0);function m(){f.x=Lu(s)}if(r||!r&&!o)if(($i(e)!=="body"||ol(s))&&(u=Au(e)),r){const w=ms(e,!0,o,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else s&&m();o&&!r&&s&&m();const p=s&&!r&&!o?fx(s,u):xr(0),y=c.left+u.scrollLeft-f.x-p.x,b=c.top+u.scrollTop-f.y-p.y;return{x:y,y:b,width:c.width,height:c.height}}function ph(t){return Kn(t).position==="static"}function sv(t,e){if(!wr(t)||Kn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return kr(t)===n&&(n=n.ownerDocument.body),n}function mx(t,e){const n=An(t);if(Ou(t))return n;if(!wr(t)){let s=Ta(t);for(;s&&!Ci(s);){if(pn(s)&&!ph(s))return s;s=Ta(s)}return n}let r=sv(t,e);for(;r&&MC(r)&&ph(r);)r=sv(r,e);return r&&Ci(r)&&ph(r)&&!q0(r)?n:r||$C(t)||n}const wN=async function(t){const e=this.getOffsetParent||mx,n=this.getDimensions,r=await n(t.floating);return{reference:xN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _N(t){return Kn(t).direction==="rtl"}const kN={convertOffsetParentRelativeRectToViewportRelativeRect:dN,getDocumentElement:kr,getClippingRect:bN,getOffsetParent:mx,getElementRects:wN,getClientRects:fN,getDimensions:vN,getScale:vi,isElement:pn,isRTL:_N};function px(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function SN(t,e){let n=null,r;const s=kr(t);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),o();const m=t.getBoundingClientRect(),{left:p,top:y,width:b,height:w}=m;if(u||e(),!b||!w)return;const x=Oc(y),k=Oc(s.clientWidth-(p+b)),_=Oc(s.clientHeight-(y+w)),S=Oc(p),C={rootMargin:-x+"px "+-k+"px "+-_+"px "+-S+"px",threshold:cs(0,Ni(1,f))||1};let T=!0;function M(L){const R=L[0].intersectionRatio;if(R!==f){if(!T)return c();R?c(!1,R):r=setTimeout(()=>{c(!1,1e-7)},1e3)}R===1&&!px(m,t.getBoundingClientRect())&&c(),T=!1}try{n=new IntersectionObserver(M,{...C,root:s.ownerDocument})}catch{n=new IntersectionObserver(M,C)}n.observe(t)}return c(!0),o}function DN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=K0(t),p=s||o?[...m?el(m):[],...el(e)]:[];p.forEach(S=>{s&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const y=m&&u?SN(m,n):null;let b=-1,w=null;c&&(w=new ResizeObserver(S=>{let[D]=S;D&&D.target===m&&w&&(w.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(e)})),n()}),m&&!f&&w.observe(m),w.observe(e));let x,k=f?ms(t):null;f&&_();function _(){const S=ms(t);k&&!px(k,S)&&n(),k=S,x=requestAnimationFrame(_)}return n(),()=>{var S;p.forEach(D=>{s&&D.removeEventListener("scroll",n),o&&D.removeEventListener("resize",n)}),y?.(),(S=w)==null||S.disconnect(),w=null,f&&cancelAnimationFrame(x)}}const EN=lN,CN=sN,iv=aN,NN=(t,e,n)=>{const r=new Map,s={platform:kN,...n},o={...s.platform,_c:r};return nN(t,e,{...s,platform:o})};var jN=typeof document<"u",TN=function(){},Qc=jN?N.useLayoutEffect:TN;function du(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!du(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!du(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function gx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ov(t,e){const n=gx(t);return Math.round(e*n)/n}function gh(t){const e=N.useRef(t);return Qc(()=>{e.current=t}),e}function MN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=t,[p,y]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,w]=N.useState(r);du(b,r)||w(r);const[x,k]=N.useState(null),[_,S]=N.useState(null),D=N.useCallback(z=>{z!==L.current&&(L.current=z,k(z))},[]),C=N.useCallback(z=>{z!==R.current&&(R.current=z,S(z))},[]),T=o||x,M=c||_,L=N.useRef(null),R=N.useRef(null),$=N.useRef(p),U=f!=null,q=gh(f),V=gh(s),X=gh(m),B=N.useCallback(()=>{if(!L.current||!R.current)return;const z={placement:e,strategy:n,middleware:b};V.current&&(z.platform=V.current),NN(L.current,R.current,z).then(te=>{const O={...te,isPositioned:X.current!==!1};F.current&&!du($.current,O)&&($.current=O,_u.flushSync(()=>{y(O)}))})},[b,e,n,V,X]);Qc(()=>{m===!1&&$.current.isPositioned&&($.current.isPositioned=!1,y(z=>({...z,isPositioned:!1})))},[m]);const F=N.useRef(!1);Qc(()=>(F.current=!0,()=>{F.current=!1}),[]),Qc(()=>{if(T&&(L.current=T),M&&(R.current=M),T&&M){if(q.current)return q.current(T,M,B);B()}},[T,M,B,q,U]);const I=N.useMemo(()=>({reference:L,floating:R,setReference:D,setFloating:C}),[D,C]),A=N.useMemo(()=>({reference:T,floating:M}),[T,M]),H=N.useMemo(()=>{const z={position:n,left:0,top:0};if(!A.floating)return z;const te=ov(A.floating,p.x),O=ov(A.floating,p.y);return u?{...z,transform:"translate("+te+"px, "+O+"px)",...gx(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:O}},[n,u,A.floating,p.x,p.y]);return N.useMemo(()=>({...p,update:B,refs:I,elements:A,floatingStyles:H}),[p,B,I,A,H])}const ON=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?iv({element:r.current,padding:s}).fn(n):{}:r?iv({element:r,padding:s}).fn(n):{}}}},AN=(t,e)=>({...EN(t),options:[t,e]}),RN=(t,e)=>({...CN(t),options:[t,e]}),LN=(t,e)=>({...ON(t),options:[t,e]}),$N={...Yv};let lv=!1,PN=0;const cv=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+PN++;function UN(){const[t,e]=N.useState(()=>lv?cv():void 0);return uu(()=>{t==null&&e(cv())},[]),N.useEffect(()=>{lv=!0},[]),t}const BN=$N.useId,yx=BN||UN,HN=N.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:o,shift:c}},width:u=14,height:f=7,tipRadius:m=0,strokeWidth:p=0,staticOffset:y,stroke:b,d:w,style:{transform:x,...k}={},..._}=e,S=yx(),[D,C]=N.useState(!1);if(uu(()=>{if(!s)return;Kn(s).direction==="rtl"&&C(!0)},[s]),!s)return null;const[T,M]=r.split("-"),L=T==="top"||T==="bottom";let R=y;(L&&c!=null&&c.x||!L&&c!=null&&c.y)&&(R=null);const $=p*2,U=$/2,q=u/2*(m/-8+1),V=f/2*m/4,X=!!w,B=R&&M==="end"?"bottom":"top";let F=R&&M==="end"?"right":"left";R&&D&&(F=M==="end"?"left":"right");const I=o?.x!=null?R||o.x:"",A=o?.y!=null?R||o.y:"",H=w||"M0,0"+(" H"+u)+(" L"+(u-q)+","+(f-V))+(" Q"+u/2+","+f+" "+q+","+(f-V))+" Z",z={top:X?"rotate(180deg)":"",left:X?"rotate(90deg)":"rotate(-90deg)",bottom:X?"":"rotate(180deg)",right:X?"rotate(-90deg)":"rotate(90deg)"}[T];return h.jsxs("svg",{..._,"aria-hidden":!0,ref:n,width:X?u:u+$,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[F]:I,[B]:A,[T]:L||X?"100%":"calc(100% - "+$/2+"px)",transform:[z,x].filter(te=>!!te).join(" "),...k},children:[$>0&&h.jsx("path",{clipPath:"url(#"+S+")",fill:"none",stroke:b,strokeWidth:$+(w?0:1),d:H}),h.jsx("path",{stroke:$&&!w?_.fill:"none",d:H}),h.jsx("clipPath",{id:S,children:h.jsx("rect",{x:-U,y:U*(X?-1:1),width:u+$,height:u})})]})});function FN(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(s=>s(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const zN=N.createContext(null),qN=N.createContext(null),IN=()=>{var t;return((t=N.useContext(zN))==null?void 0:t.id)||null},YN=()=>N.useContext(qN);function QN(t){const{open:e=!1,onOpenChange:n,elements:r}=t,s=yx(),o=N.useRef({}),[c]=N.useState(()=>FN()),u=IN()!=null,[f,m]=N.useState(r.reference),p=tN((w,x,k)=>{o.current.openEvent=w?x:void 0,c.emit("openchange",{open:w,event:x,reason:k,nested:u}),n?.(w,x,k)}),y=N.useMemo(()=>({setPositionReference:m}),[]),b=N.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return N.useMemo(()=>({dataRef:o,open:e,onOpenChange:p,elements:b,events:c,floatingId:s,refs:y}),[e,p,b,c,s,y])}function KN(t){t===void 0&&(t={});const{nodeId:e}=t,n=QN({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,s=r.elements,[o,c]=N.useState(null),[u,f]=N.useState(null),p=s?.domReference||o,y=N.useRef(null),b=YN();uu(()=>{p&&(y.current=p)},[p]);const w=MN({...t,elements:{...s,...u&&{reference:u}}}),x=N.useCallback(C=>{const T=pn(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),getClientRects:()=>C.getClientRects(),contextElement:C}:C;f(T),w.refs.setReference(T)},[w.refs]),k=N.useCallback(C=>{(pn(C)||C===null)&&(y.current=C,c(C)),(pn(w.refs.reference.current)||w.refs.reference.current===null||C!==null&&!pn(C))&&w.refs.setReference(C)},[w.refs]),_=N.useMemo(()=>({...w.refs,setReference:k,setPositionReference:x,domReference:y}),[w.refs,k,x]),S=N.useMemo(()=>({...w.elements,domReference:p}),[w.elements,p]),D=N.useMemo(()=>({...w,...r,refs:_,elements:S,nodeId:e}),[w,_,S,e,r]);return uu(()=>{r.dataRef.current.floatingContext=D;const C=b?.nodesRef.current.find(T=>T.id===e);C&&(C.context=D)}),N.useMemo(()=>({...w,context:D,refs:_,elements:S}),[w,_,S,D])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var n0=function(e,n){return n0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},n0(e,n)};function en(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Xe=function(){return Xe=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},Xe.apply(this,arguments)};function br(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var VN=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,s=r===void 0?!1:r,o=t.className,c=t.children,u=n?"Choose Time":"Choose Date".concat(s?" and Time":"");return ee.createElement("div",{className:o,role:"dialog","aria-label":u,"aria-modal":"true"},c)},WN=function(t,e){var n=N.useRef(null),r=N.useRef(t);r.current=t;var s=N.useCallback(function(o){var c,u=o.composed&&o.composedPath&&o.composedPath().find(function(f){return f instanceof Node})||o.target;n.current&&!n.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(c=r.current)===null||c===void 0||c.call(r,o))},[e]);return N.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),n},$u=function(t){var e=t.children,n=t.onClickOutside,r=t.className,s=t.containerRef,o=t.style,c=t.ignoreClass,u=WN(n,c);return ee.createElement("div",{className:r,style:o,ref:function(f){u.current=f,s&&(s.current=f)}},e)},he;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(he||(he={}));function bx(){var t=typeof window<"u"?window:globalThis;return t}var cl=12;function st(t){if(t==null)return new Date;var e=typeof t=="string"?hC(t):ge(t);return Pu(e)?e:new Date}function yh(t,e,n,r,s){s===void 0&&(s=st());for(var o=Ti(n)||Ti(V0()),c=Array.isArray(e)?e:[e],u=0,f=c;u<f.length;u++){var m=f[u],p=oC(t,m,s,{locale:o});if(Pu(p)&&(!r||t===xt(p,m,n)))return p}return null}function Pu(t,e){return ru(t)&&!hs(t,new Date("1/1/1800"))}function xt(t,e,n){if(n==="en")return Zh(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Ti(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Ti(V0()),Zh(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function qn(t,e){var n=e.dateFormat,r=e.locale,s=Array.isArray(n)&&n.length>0?n[0]:n;return t&&xt(t,s,r)||""}var vx=" - ";function GN(t,e,n){if(!t)return"";var r=qn(t,n),s=e?qn(e,n):"";return"".concat(r).concat(vx).concat(s)}function XN(t,e){if(!t?.length)return"";var n=t[0]?qn(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=qn(t[1],e);return"".concat(n,", ").concat(r)}var s=t.length-1;return"".concat(n," (+").concat(s,")")}function bh(t,e){var n=e.hour,r=n===void 0?0:n,s=e.minute,o=s===void 0?0:s,c=e.second,u=c===void 0?0:c;return qc(Ic(Yc(t,u),o),r)}function ZN(t){return B0(t)}function JN(t,e){return xt(t,"ddd",e)}function Kc(t){return fs(t)}function Na(t,e,n){var r=Ti(e||V0());return Vr(t,{locale:r,weekStartsOn:n})}function Qr(t){return G1(t)}function qo(t){return Tu(t)}function uv(t){return Gh(t)}function dv(){return fs(st())}function fv(t){return $0(t)}function ej(t){return fD(t)}function tj(t){return P0(t)}function pr(t,e){return t&&e?dC(t,e):!t&&!e}function mn(t,e){return t&&e?cC(t,e):!t&&!e}function fu(t,e){return t&&e?uC(t,e):!t&&!e}function Ge(t,e){return t&&e?sD(t,e):!t&&!e}function is(t,e){return t&&e?fE(t,e):!t&&!e}function Io(t,e,n){var r,s=fs(e),o=$0(n);try{r=Jo(t,{start:s,end:o})}catch{r=!1}return r}function V0(){var t=bx();return t.__localeId__}function Ti(t){if(typeof t=="string"){var e=bx();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function nj(t,e,n){return e(xt(t,"EEEE",n))}function rj(t,e){return xt(t,"EEEEEE",e)}function aj(t,e){return xt(t,"EEE",e)}function W0(t,e){return xt(Yn(st(),t),"LLLL",e)}function xx(t,e){return xt(Yn(st(),t),"LLL",e)}function sj(t,e){return xt(bi(st(),t),"QQQ",e)}function Qn(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,o=n.excludeDates,c=n.excludeDateIntervals,u=n.includeDates,f=n.includeDateIntervals,m=n.filterDate;return ul(t,{minDate:r,maxDate:s})||o&&o.some(function(p){return p instanceof Date?Ge(t,p):Ge(t,p.date)})||c&&c.some(function(p){var y=p.start,b=p.end;return Jo(t,{start:y,end:b})})||u&&!u.some(function(p){return Ge(t,p)})||f&&!f.some(function(p){var y=p.start,b=p.end;return Jo(t,{start:y,end:b})})||m&&!m(st(t))||!1}function G0(t,e){var n=e===void 0?{}:e,r=n.excludeDates,s=n.excludeDateIntervals;return s&&s.length>0?s.some(function(o){var c=o.start,u=o.end;return Jo(t,{start:c,end:u})}):r&&r.some(function(o){var c;return o instanceof Date?Ge(t,o):Ge(t,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function wx(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,o=n.excludeDates,c=n.includeDates,u=n.filterDate;return ul(t,{minDate:r?G1(r):void 0,maxDate:s?P0(s):void 0})||o?.some(function(f){return mn(t,f instanceof Date?f:f.date)})||c&&!c.some(function(f){return mn(t,f)})||u&&!u(st(t))||!1}function Ac(t,e,n,r){var s=He(t),o=un(t),c=He(e),u=un(e),f=He(r);return s===c&&s===f?o<=n&&n<=u:s<c?f===s&&o<=n||f===c&&u>=n||f<c&&f>s:!1}function ij(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,o=n.excludeDates,c=n.includeDates;return ul(t,{minDate:r,maxDate:s})||o&&o.some(function(u){return mn(u instanceof Date?u:u.date,t)})||c&&!c.some(function(u){return mn(u,t)})||!1}function Rc(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,o=n.excludeDates,c=n.includeDates,u=n.filterDate;return ul(t,{minDate:r,maxDate:s})||o?.some(function(f){return fu(t,f instanceof Date?f:f.date)})||c&&!c.some(function(f){return fu(t,f)})||u&&!u(st(t))||!1}function Lc(t,e,n){if(!e||!n||!ru(e)||!ru(n))return!1;var r=He(e),s=He(n);return r<=t&&s>=t}function Vc(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,o=n.excludeDates,c=n.includeDates,u=n.filterDate,f=new Date(t,0,1);return ul(f,{minDate:r?Tu(r):void 0,maxDate:s?X1(s):void 0})||o?.some(function(m){return pr(f,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return pr(f,m)})||u&&!u(st(f))||!1}function $c(t,e,n,r){var s=He(t),o=os(t),c=He(e),u=os(e),f=He(r);return s===c&&s===f?o<=n&&n<=u:s<c?f===s&&o<=n||f===c&&u>=n||f<c&&f>s:!1}function ul(t,e){var n,r=e===void 0?{}:e,s=r.minDate,o=r.maxDate;return(n=s&&Di(t,s)<0||o&&Di(t,o)>0)!==null&&n!==void 0?n:!1}function hv(t,e){return e.some(function(n){return Ir(n)===Ir(t)&&Yr(n)===Yr(t)&&Ca(n)===Ca(t)})}function mv(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,s=n.includeTimes,o=n.filterTime;return r&&hv(t,r)||s&&!hv(t,s)||o&&!o(t)||!1}function pv(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var s=st();s=qc(s,Ir(t)),s=Ic(s,Yr(t)),s=Yc(s,Ca(t));var o=st();o=qc(o,Ir(n)),o=Ic(o,Yr(n)),o=Yc(o,Ca(n));var c=st();c=qc(c,Ir(r)),c=Ic(c,Yr(r)),c=Yc(c,Ca(r));var u;try{u=!Jo(s,{start:o,end:c})}catch{u=!1}return u}function gv(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.includeDates,o=ls(t,1);return r&&Zo(r,o)>0||s&&s.every(function(c){return Zo(c,o)>0})||!1}function yv(t,e){var n=e===void 0?{}:e,r=n.maxDate,s=n.includeDates,o=nr(t,1);return r&&Zo(o,r)>0||s&&s.every(function(c){return Zo(o,c)>0})||!1}function oj(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.includeDates,o=Tu(t),c=ix(o);return r&&au(r,c)>0||s&&s.every(function(u){return au(u,c)>0})||!1}function lj(t,e){var n=e===void 0?{}:e,r=n.maxDate,s=n.includeDates,o=X1(t),c=L0(o,1);return r&&au(c,r)>0||s&&s.every(function(u){return au(c,u)>0})||!1}function bv(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.includeDates,o=Ei(t,1);return r&&su(r,o)>0||s&&s.every(function(c){return su(c,o)>0})||!1}function cj(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.yearItemNumber,o=s===void 0?cl:s,c=qo(Ei(t,o)),u=Da(c,o).endPeriod,f=r&&He(r);return f&&f>u||!1}function vv(t,e){var n=e===void 0?{}:e,r=n.maxDate,s=n.includeDates,o=zr(t,1);return r&&su(o,r)>0||s&&s.every(function(c){return su(o,c)>0})||!1}function uj(t,e){var n=e===void 0?{}:e,r=n.maxDate,s=n.yearItemNumber,o=s===void 0?cl:s,c=zr(t,o),u=Da(c,o).startPeriod,f=r&&He(r);return f&&f<u||!1}function _x(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(s){return Di(s,e)>=0});return Yb(r)}else return n?Yb(n):e}function kx(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(s){return Di(s,e)<=0});return Ib(r)}else return n?Ib(n):e}function xv(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,s=0,o=t.length;s<o;s++){var c=t[s];if(qr(c)){var u=xt(c,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(e)||(f.push(e),r.set(u,f))}else if(typeof c=="object"){var m=Object.keys(c),p=(n=m[0])!==null&&n!==void 0?n:"",y=c[p];if(typeof p=="string"&&Array.isArray(y))for(var b=0,w=y.length;b<w;b++){var x=y[b];if(x){var u=xt(x,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(p)||(f.push(p),r.set(u,f))}}}}return r}function dj(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function fj(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var s=r.date,o=r.holidayName;if(qr(s)){var c=xt(s,"MM.dd.yyyy"),u=n.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&dj(u.holidayNames,[o]))){u.className=e;var f=u.holidayNames;u.holidayNames=f?br(br([],f,!0),[o],!1):[o],n.set(c,u)}}}),n}function hj(t,e,n,r,s){for(var o=s.length,c=[],u=0;u<o;u++){var f=t,m=s[u];m&&(f=eD(f,Ir(m)),f=Wh(f,Yr(m)),f=rD(f,Ca(m)));var p=Wh(t,(n+1)*r);ja(f,e)&&hs(f,p)&&m!=null&&c.push(m)}return c}function wv(t){return t<10?"0".concat(t):"".concat(t)}function Da(t,e){e===void 0&&(e=cl);var n=Math.ceil(He(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function mj(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function _v(t){var e=t.getSeconds(),n=t.getMilliseconds();return ge(t.getTime()-e*1e3-n)}function pj(t,e){return _v(t).getTime()===_v(e).getTime()}function kv(t){if(!qr(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function Sv(t,e){if(!qr(t)||!qr(e))throw new Error("Invalid date received");var n=kv(t),r=kv(e);return hs(n,r)}function Sx(t){return t.key===he.Space}var gj=(function(t){en(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=ee.createRef(),r.onTimeChange=function(s){var o,c;r.setState({time:s});var u=r.props.date,f=u instanceof Date&&!isNaN(+u),m=f?u:new Date;if(s?.includes(":")){var p=s.split(":"),y=p[0],b=p[1];m.setHours(Number(y)),m.setMinutes(Number(b))}(c=(o=r.props).onChange)===null||c===void 0||c.call(o,m)},r.renderTimeInput=function(){var s=r.state.time,o=r.props,c=o.date,u=o.timeString,f=o.customTimeInput;return f?N.cloneElement(f,{date:c,value:s,onChange:r.onTimeChange}):ee.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var m;(m=r.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:s,onChange:function(m){r.onTimeChange(m.target.value||u)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return ee.createElement("div",{className:"react-datepicker__input-time-container"},ee.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ee.createElement("div",{className:"react-datepicker-time__input-container"},ee.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(N.Component),yj=(function(t){en(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=N.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var s,o,c=r.key;c===he.Space&&(r.preventDefault(),r.key=he.Enter),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.isSameDay=function(r){return Ge(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var s=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(c){return n.isSameDayOrWeek(c)}):n.isSameDayOrWeek(n.props.selected),o=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!s&&n.isSameDayOrWeek(n.props.preSelection)&&!o},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Qn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return G0(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Ge(n.props.day,Na(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Ge(r,Na(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,s=r.day,o=r.highlightDates;if(!o)return!1;var c=xt(s,"MM.dd.yyyy");return o.get(c)},n.getHolidaysClass=function(){var r,s=n.props,o=s.day,c=s.holidays;if(!c)return[void 0];var u=xt(o,"MM.dd.yyyy");return c.has(u)?[(r=c.get(u))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Io(s,o,c)},n.isInSelectingRange=function(){var r,s=n.props,o=s.day,c=s.selectsStart,u=s.selectsEnd,f=s.selectsRange,m=s.selectsDisabledDaysInRange,p=s.startDate,y=s.endDate,b=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(c||u||f)||!b||!m&&n.isDisabled()?!1:c&&y&&(hs(b,y)||is(b,y))?Io(o,b,y):u&&p&&(ja(b,p)||is(b,p))||f&&p&&!y&&(ja(b,p)||is(b,p))?Io(o,p,b):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var s=n.props,o=s.day,c=s.startDate,u=s.selectsStart,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return u?Ge(o,f):Ge(o,c)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var s=n.props,o=s.day,c=s.endDate,u=s.selectsEnd,f=s.selectsRange,m=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return u||f?Ge(o,m):Ge(o,c)},n.isRangeStart=function(){var r=n.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Ge(o,s)},n.isRangeEnd=function(){var r=n.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Ge(c,s)},n.isWeekend=function(){var r=lE(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===un(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(un(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(st())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var s=n.props.dayClassName?n.props.dayClassName(r):void 0;return sn("react-datepicker__day",s,"react-datepicker__day--"+JN(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,s=r.day,o=r.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,u=r.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,m=n.isDisabled()||n.isExcluded()?f:c;return"".concat(m," ").concat(xt(s,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,s=r.day,o=r.holidays,c=o===void 0?new Map:o,u=r.excludeDates,f=xt(s,"MM.dd.yyyy"),m=[];return c.has(f)&&m.push.apply(m,c.get(f).holidayNames),n.isExcluded()&&m.push(u?.filter(function(p){return p instanceof Date?Ge(p,s):Ge(p?.date,s)}).map(function(p){if(!(p instanceof Date))return p?.message})),m.join(", ")},n.getTabIndex=function(){var r=n.props.selected,s=n.props.preSelection,o=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Ge(s,r))?0:-1;return o},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(Xb(n.props.day),n.props.day):Xb(n.props.day)},n.render=function(){return ee.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&ee.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,s;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(N.Component),bj=(function(t){en(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=N.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var s,o,c=r.key;c===he.Space&&(r.preventDefault(),r.key=he.Enter),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Ge(n.props.date,n.props.selected)&&Ge(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Ge(n.props.date,n.props.selected)&&Ge(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var s=!1;n.getTabIndex()===0&&!r?.isInputFocused&&Ge(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(s=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,s=n.isWeekDisabled,o=n.ariaLabelPrefix,c=o===void 0?e.defaultProps.ariaLabelPrefix:o,u=n.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!s,"react-datepicker__week-number--selected":!!u&&Ge(this.props.date,this.props.selected)};return ee.createElement("div",{ref:this.weekNumberEl,className:sn(f),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e})(N.Component),vj=(function(t){en(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Qn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,s){n.props.onDayClick&&n.props.onDayClick(r,s)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,s,o){for(var c,u,f,m=new Date(r),p=0;p<7;p++){var y=new Date(r);y.setDate(y.getDate()+p);var b=!n.isDisabled(y);if(b){m=y;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(m,s,o),n.props.showWeekPicker&&n.handleDayClick(m,o),((c=n.props.shouldCloseOnSelect)!==null&&c!==void 0?c:e.defaultProps.shouldCloseOnSelect)&&((f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):ZN(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),s=er(r,6),o=new Date(r);o<=s;){if(!n.isDisabled(o))return!1;o=er(o,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),s=[],o=n.formatWeekNumber(r);if(n.props.showWeekNumber){var c=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,o):void 0;s.push(ee.createElement(bj,Xe({key:"W"},e.defaultProps,n.props,{weekNumber:o,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:c})))}return s.concat([0,1,2,3,4,5,6].map(function(u){var f=er(r,u);return ee.createElement(yj,Xe({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:n.handleDayClick.bind(n,f),onMouseEnter:n.handleDayMouseEnter.bind(n,f)}))}))},n.startOfWeek=function(){return Na(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Ge(n.startOfWeek(),n.props.selected)&&Ge(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Ge(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ee.createElement("div",{className:sn(n)},this.renderDays())},e})(N.Component),Ho,xj=6,xi={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},vh=(Ho={},Ho[xi.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ho[xi.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ho[xi.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ho),Pc=1;function Dv(t,e){return t?xi.FOUR_COLUMNS:e?xi.TWO_COLUMNS:xi.THREE_COLUMNS}var wj=(function(t){en(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=br([],Array(12),!0).map(function(){return N.createRef()}),n.QUARTER_REFS=br([],Array(4),!0).map(function(){return N.createRef()}),n.isDisabled=function(r){return Qn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return G0(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,s){var o,c;(c=(o=n.props).onDayClick)===null||c===void 0||c.call(o,r,s,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var s,o;(o=(s=n.props).onDayMouseEnter)===null||o===void 0||o.call(s,r)},n.handleMouseLeave=function(){var r,s;(s=(r=n.props).onMouseLeave)===null||s===void 0||s.call(r)},n.isRangeStartMonth=function(r){var s=n.props,o=s.day,c=s.startDate,u=s.endDate;return!c||!u?!1:mn(Yn(o,r),c)},n.isRangeStartQuarter=function(r){var s=n.props,o=s.day,c=s.startDate,u=s.endDate;return!c||!u?!1:fu(bi(o,r),c)},n.isRangeEndMonth=function(r){var s=n.props,o=s.day,c=s.startDate,u=s.endDate;return!c||!u?!1:mn(Yn(o,r),u)},n.isRangeEndQuarter=function(r){var s=n.props,o=s.day,c=s.startDate,u=s.endDate;return!c||!u?!1:fu(bi(o,r),u)},n.isInSelectingRangeMonth=function(r){var s,o=n.props,c=o.day,u=o.selectsStart,f=o.selectsEnd,m=o.selectsRange,p=o.startDate,y=o.endDate,b=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return!(u||f||m)||!b?!1:u&&y?Ac(b,y,r,c):f&&p||m&&p&&!y?Ac(p,b,r,c):!1},n.isSelectingMonthRangeStart=function(r){var s;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,c=o.day,u=o.startDate,f=o.selectsStart,m=Yn(c,r),p=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return f?mn(m,p):mn(m,u)},n.isSelectingMonthRangeEnd=function(r){var s;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,c=o.day,u=o.endDate,f=o.selectsEnd,m=o.selectsRange,p=Yn(c,r),y=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return f||m?mn(p,y):mn(p,u)},n.isInSelectingRangeQuarter=function(r){var s,o=n.props,c=o.day,u=o.selectsStart,f=o.selectsEnd,m=o.selectsRange,p=o.startDate,y=o.endDate,b=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return!(u||f||m)||!b?!1:u&&y?$c(b,y,r,c):f&&p||m&&p&&!y?$c(p,b,r,c):!1},n.isWeekInMonth=function(r){var s=n.props.day,o=er(r,6);return mn(r,s)||mn(o,s)},n.isCurrentMonth=function(r,s){return He(r)===He(st())&&s===un(st())},n.isCurrentQuarter=function(r,s){return He(r)===He(st())&&s===os(st())},n.isSelectedMonth=function(r,s,o){return un(o)===s&&He(r)===He(o)},n.isSelectMonthInList=function(r,s,o){return o.some(function(c){return n.isSelectedMonth(r,s,c)})},n.isSelectedQuarter=function(r,s,o){return os(r)===s&&He(r)===He(o)},n.isMonthSelected=function(){var r=n.props,s=r.day,o=r.selected,c=r.selectedDates,u=r.selectsMultiple,f=un(s);return u?c?.some(function(m){return n.isSelectedMonth(s,f,m)}):!!o&&n.isSelectedMonth(s,f,o)},n.renderWeeks=function(){for(var r=[],s=n.props.fixedHeight,o=0,c=!1,u=Na(Qr(n.props.day),n.props.locale,n.props.calendarStartDay),f=function(x){return n.props.showWeekPicker?Na(x,n.props.locale,n.props.calendarStartDay):n.props.preSelection},m=function(x){return n.props.showWeekPicker?Na(x,n.props.locale,n.props.calendarStartDay):n.props.selected},p=n.props.selected?m(n.props.selected):void 0,y=n.props.preSelection?f(n.props.preSelection):void 0;r.push(ee.createElement(vj,Xe({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:u,month:un(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:p,preSelection:y,showWeekNumber:n.props.showWeekNumbers}))),!c;){o++,u=nu(u,1);var b=s&&o>=xj,w=!s&&!n.isWeekInMonth(u);if(b||w)if(n.props.peekNextMonth)c=!0;else break}return r},n.onMonthClick=function(r,s){var o=n.isMonthDisabledForLabelDate(s),c=o.isDisabled,u=o.labelDate;c||n.handleDayClick(Qr(u),r)},n.onMonthMouseEnter=function(r){var s=n.isMonthDisabledForLabelDate(r),o=s.isDisabled,c=s.labelDate;o||n.handleDayMouseEnter(Qr(c))},n.handleMonthNavigation=function(r,s){var o,c,u,f;(c=(o=n.props).setPreSelection)===null||c===void 0||c.call(o,s),(f=(u=n.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},n.handleKeyboardNavigation=function(r,s,o){var c,u=n.props,f=u.selected,m=u.preSelection,p=u.setPreSelection,y=u.minDate,b=u.maxDate,w=u.showFourColumnMonthYearPicker,x=u.showTwoColumnMonthYearPicker;if(m){var k=Dv(w,x),_=n.getVerticalOffset(k),S=(c=vh[k])===null||c===void 0?void 0:c.grid,D=function(R,$,U){var q,V,X=$,B=U;switch(R){case he.ArrowRight:X=nr($,Pc),B=U===11?0:U+Pc;break;case he.ArrowLeft:X=ls($,Pc),B=U===0?11:U-Pc;break;case he.ArrowUp:X=ls($,_),B=!((q=S?.[0])===null||q===void 0)&&q.includes(U)?U+12-_:U-_;break;case he.ArrowDown:X=nr($,_),B=!((V=S?.[S.length-1])===null||V===void 0)&&V.includes(U)?U-12+_:U+_;break}return{newCalculatedDate:X,newCalculatedMonth:B}},C=function(R,$,U){for(var q=40,V=R,X=!1,B=0,F=D(V,$,U),I=F.newCalculatedDate,A=F.newCalculatedMonth;!X;){if(B>=q){I=$,A=U;break}if(y&&I<y){V=he.ArrowRight;var H=D(V,I,A);I=H.newCalculatedDate,A=H.newCalculatedMonth}if(b&&I>b){V=he.ArrowLeft;var H=D(V,I,A);I=H.newCalculatedDate,A=H.newCalculatedMonth}if(ij(I,n.props)){var H=D(V,I,A);I=H.newCalculatedDate,A=H.newCalculatedMonth}else X=!0;B++}return{newCalculatedDate:I,newCalculatedMonth:A}};if(s===he.Enter){n.isMonthDisabled(o)||(n.onMonthClick(r,o),p?.(f));return}var T=C(s,m,o),M=T.newCalculatedDate,L=T.newCalculatedMonth;switch(s){case he.ArrowRight:case he.ArrowLeft:case he.ArrowUp:case he.ArrowDown:n.handleMonthNavigation(L,M);break}}},n.getVerticalOffset=function(r){var s,o;return(o=(s=vh[r])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&o!==void 0?o:0},n.onMonthKeyDown=function(r,s){var o=n.props,c=o.disabledKeyboardNavigation,u=o.handleOnMonthKeyDown,f=r.key;f!==he.Tab&&r.preventDefault(),c||n.handleKeyboardNavigation(r,f,s),u&&u(r)},n.onQuarterClick=function(r,s){var o=bi(n.props.day,s);Rc(o,n.props)||n.handleDayClick(uv(o),r)},n.onQuarterMouseEnter=function(r){var s=bi(n.props.day,r);Rc(s,n.props)||n.handleDayMouseEnter(uv(s))},n.handleQuarterNavigation=function(r,s){var o,c,u,f;n.isDisabled(s)||n.isExcluded(s)||((c=(o=n.props).setPreSelection)===null||c===void 0||c.call(o,s),(f=(u=n.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},n.onQuarterKeyDown=function(r,s){var o,c,u=r.key;if(!n.props.disabledKeyboardNavigation)switch(u){case he.Enter:n.onQuarterClick(r,s),(c=(o=n.props).setPreSelection)===null||c===void 0||c.call(o,n.props.selected);break;case he.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(s===4?1:s+1,L0(n.props.preSelection,1));break;case he.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(s===1?4:s-1,ix(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var s,o=n.props,c=o.day,u=o.minDate,f=o.maxDate,m=o.excludeDates,p=o.includeDates,y=Yn(c,r);return{isDisabled:(s=(u||f||m||p)&&wx(y,n.props))!==null&&s!==void 0?s:!1,labelDate:y}},n.isMonthDisabled=function(r){var s=n.isMonthDisabledForLabelDate(r).isDisabled;return s},n.getMonthClassNames=function(r){var s=n.props,o=s.day,c=s.startDate,u=s.endDate,f=s.preSelection,m=s.monthClassName,p=m?m(Yn(o,r)):void 0,y=n.getSelection();return sn("react-datepicker__month-text","react-datepicker__month-".concat(r),p,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":y?n.isSelectMonthInList(o,r,y):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&f&&n.isSelectedMonth(o,r,f)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":c&&u?Ac(c,u,r,o):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(o,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var s=un(n.props.preSelection),o=n.isMonthDisabledForLabelDate(s).isDisabled,c=r===s&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return c},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var s=os(n.props.preSelection),o=Rc(n.props.day,n.props),c=r===s&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return c},n.getAriaLabel=function(r){var s=n.props,o=s.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,u=s.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,m=s.day,p=s.locale,y=Yn(m,r),b=n.isDisabled(y)||n.isExcluded(y)?f:c;return"".concat(b," ").concat(xt(y,"MMMM yyyy",p))},n.getQuarterClassNames=function(r){var s=n.props,o=s.day,c=s.startDate,u=s.endDate,f=s.selected,m=s.minDate,p=s.maxDate,y=s.excludeDates,b=s.includeDates,w=s.filterDate,x=s.preSelection,k=s.disabledKeyboardNavigation,_=(m||p||y||b||w)&&Rc(bi(o,r),n.props);return sn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":_,"react-datepicker__quarter-text--selected":f?n.isSelectedQuarter(o,r,f):void 0,"react-datepicker__quarter-text--keyboard-selected":!k&&x&&n.isSelectedQuarter(o,r,x)&&!_,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":c&&u?$c(c,u,r,o):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(o,r)})},n.getMonthContent=function(r){var s=n.props,o=s.showFullMonthYearPicker,c=s.renderMonthContent,u=s.locale,f=s.day,m=xx(r,u),p=W0(r,u);return c?c(r,m,p,f):o?p:m},n.getQuarterContent=function(r){var s,o=n.props,c=o.renderQuarterContent,u=o.locale,f=sj(r,u);return(s=c?.(r,f))!==null&&s!==void 0?s:f},n.renderMonths=function(){var r,s=n.props,o=s.showTwoColumnMonthYearPicker,c=s.showFourColumnMonthYearPicker,u=s.day,f=s.selected,m=(r=vh[Dv(c,o)])===null||r===void 0?void 0:r.grid;return m?.map(function(p,y){return ee.createElement("div",{className:"react-datepicker__month-wrapper",key:y},p.map(function(b,w){return ee.createElement("div",{ref:n.MONTH_REFS[b],key:w,onClick:function(x){n.onMonthClick(x,b)},onKeyDown:function(x){Sx(x)&&(x.preventDefault(),x.key=he.Enter),n.onMonthKeyDown(x,b)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(b)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(b)}:void 0,tabIndex:Number(n.getTabIndex(b)),className:n.getMonthClassNames(b),"aria-disabled":n.isMonthDisabled(b),role:"option","aria-label":n.getAriaLabel(b),"aria-current":n.isCurrentMonth(u,b)?"date":void 0,"aria-selected":f?n.isSelectedMonth(u,b,f):void 0},n.getMonthContent(b))}))})},n.renderQuarters=function(){var r=n.props,s=r.day,o=r.selected,c=[1,2,3,4];return ee.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,f){return ee.createElement("div",{key:f,ref:n.QUARTER_REFS[f],role:"option",onClick:function(m){n.onQuarterClick(m,u)},onKeyDown:function(m){n.onQuarterKeyDown(m,u)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(u)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(u)}:void 0,className:n.getQuarterClassNames(u),"aria-selected":o?n.isSelectedQuarter(s,u,o):void 0,tabIndex:Number(n.getQuarterTabIndex(u)),"aria-current":n.isCurrentQuarter(s,u)?"date":void 0},n.getQuarterContent(u))}))},n.getClassNames=function(){var r=n.props,s=r.selectingDate,o=r.selectsStart,c=r.selectsEnd,u=r.showMonthYearPicker,f=r.showQuarterYearPicker,m=r.showWeekPicker;return sn("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(o||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,s=n.selectedDates,o=n.selectsMultiple;if(o)return s;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,s=n.showQuarterYearPicker,o=n.day,c=n.ariaLabelPrefix,u=c===void 0?"Month ":c,f=u?u.trim()+" ":"";return ee.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(f).concat(xt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},e})(N.Component),_j=(function(t){en(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,s){return ee.createElement("div",{className:n.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,s),"aria-selected":n.isSelectedMonth(s)?"true":void 0},n.isSelectedMonth(s)?ee.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return ee.createElement($u,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(N.Component),kj=(function(t){en(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(s,o){return ee.createElement("option",{key:s,value:o},s)})},n.renderSelectMode=function(r){return ee.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(s){return n.onChange(parseInt(s.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,s){return ee.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[n.props.month]))},n.renderDropdown=function(r){return ee.createElement(_j,Xe({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var s=n.state.dropdownVisible,o=[n.renderReadView(!s,r)];return s&&o.unshift(n.renderDropdown(r)),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return xx(o,n.props.locale)}:function(o){return W0(o,n.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(r);break;case"select":s=this.renderSelectMode(r);break}return ee.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e})(N.Component);function Sj(t,e){for(var n=[],r=Qr(t),s=Qr(e);!ja(r,s);)n.push(st(r)),r=nr(r,1);return n}var Dj=(function(t){en(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(s){var o=Jh(s),c=pr(r.props.date,s)&&mn(r.props.date,s);return ee.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":c?"true":void 0},c?ee.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",xt(s,r.props.dateFormat,r.props.locale))})},r.onChange=function(s){return r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:Sj(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=sn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ee.createElement($u,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(N.Component),Ej=(function(t){en(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Qr(n.props.minDate),s=Qr(n.props.maxDate),o=[];!ja(r,s);){var c=Jh(r);o.push(ee.createElement("option",{key:c,value:c},xt(r,n.props.dateFormat,n.props.locale))),r=nr(r,1)}return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ee.createElement("select",{value:Jh(Qr(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var s=xt(n.props.date,n.props.dateFormat,n.props.locale);return ee.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},n.renderDropdown=function(){return ee.createElement(Dj,Xe({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,s=[n.renderReadView(!r)];return r&&s.unshift(n.renderDropdown()),s},n.onChange=function(r){n.toggleDropdown();var s=st(r);pr(n.props.date,s)&&mn(n.props.date,s)||n.props.onChange(s)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e})(N.Component),Cj=(function(t){en(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,s,o;n.list&&(n.list.scrollTop=(o=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((s=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&s!==void 0?s:0):n.list.clientHeight,n.centerLi))!==null&&o!==void 0?o:0)})},n.handleClick=function(r){var s,o;(n.props.minTime||n.props.maxTime)&&pv(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&mv(r,n.props)||(o=(s=n.props).onChange)===null||o===void 0||o.call(s,r)},n.isSelectedTime=function(r){return n.props.selected&&pj(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&pv(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&mv(r,n.props)},n.liClasses=function(r){var s,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Ir(r)*3600+Yr(r)*60+Ca(r))%(((s=n.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(r,s){var o,c;r.key===he.Space&&(r.preventDefault(),r.key=he.Enter),(r.key===he.ArrowUp||r.key===he.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===he.ArrowDown||r.key===he.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===he.Enter&&n.handleClick(s),(c=(o=n.props).handleOnKeyDown)===null||c===void 0||c.call(o,r)},n.renderTimes=function(){for(var r,s=[],o=typeof n.props.format=="string"?n.props.format:"p",c=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,u=n.props.selected||n.props.openToDate||st(),f=Kc(u),m=n.props.injectTimes&&n.props.injectTimes.sort(function(_,S){return _.getTime()-S.getTime()}),p=60*mj(u),y=p/c,b=0;b<y;b++){var w=Wh(f,b*c);if(s.push(w),m){var x=hj(f,w,b,c,m);s=s.concat(x)}}var k=s.reduce(function(_,S){return S.getTime()<=u.getTime()?S:_},s[0]);return s.map(function(_){return ee.createElement("li",{key:_.valueOf(),onClick:n.handleClick.bind(n,_),className:n.liClasses(_),ref:function(S){_===k&&(n.centerLi=S)},onKeyDown:function(S){n.handleOnKeyDown(S,_)},tabIndex:_===k?0:-1,role:"option","aria-selected":n.isSelectedTime(_)?"true":void 0,"aria-disabled":n.isDisabledTime(_)?"true":void 0},xt(_,o,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?ee.createElement(ee.Fragment,null):ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},ee.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,s=this.state.height;return ee.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ee.createElement("div",{className:"react-datepicker__time"},ee.createElement("div",{className:"react-datepicker__time-box"},ee.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e})(N.Component),Ev=3,Nj=(function(t){en(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=br([],Array(r.props.yearItemNumber),!0).map(function(){return N.createRef()}),r.isDisabled=function(s){return Qn(s,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(s){return G0(s,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var s;return(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection},r.updateFocusOnPaginate=function(s){var o=function(){var c,u;(u=(c=r.YEAR_REFS[s])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(s,o){r.props.onDayClick&&r.props.onDayClick(s,o)},r.handleYearNavigation=function(s,o){var c,u,f,m,p=r.props,y=p.date,b=p.yearItemNumber;if(!(y===void 0||b===void 0)){var w=Da(y,b).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((u=(c=r.props).setPreSelection)===null||u===void 0||u.call(c,o),s-w<0?r.updateFocusOnPaginate(b-(w-s)):s-w>=b?r.updateFocusOnPaginate(Math.abs(b-(s-w))):(m=(f=r.YEAR_REFS[s-w])===null||f===void 0?void 0:f.current)===null||m===void 0||m.focus())}},r.isSameDay=function(s,o){return Ge(s,o)},r.isCurrentYear=function(s){return s===He(st())},r.isRangeStart=function(s){return r.props.startDate&&r.props.endDate&&pr(mr(st(),s),r.props.startDate)},r.isRangeEnd=function(s){return r.props.startDate&&r.props.endDate&&pr(mr(st(),s),r.props.endDate)},r.isInRange=function(s){return Lc(s,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(s){var o=r.props,c=o.selectsStart,u=o.selectsEnd,f=o.selectsRange,m=o.startDate,p=o.endDate;return!(c||u||f)||!r.selectingDate()?!1:c&&p?Lc(s,r.selectingDate(),p):u&&m||f&&m&&!p?Lc(s,m,r.selectingDate()):!1},r.isSelectingRangeStart=function(s){var o;if(!r.isInSelectingRange(s))return!1;var c=r.props,u=c.startDate,f=c.selectsStart,m=mr(st(),s);return f?pr(m,(o=r.selectingDate())!==null&&o!==void 0?o:null):pr(m,u??null)},r.isSelectingRangeEnd=function(s){var o;if(!r.isInSelectingRange(s))return!1;var c=r.props,u=c.endDate,f=c.selectsEnd,m=c.selectsRange,p=mr(st(),s);return f||m?pr(p,(o=r.selectingDate())!==null&&o!==void 0?o:null):pr(p,u??null)},r.isKeyboardSelected=function(s){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,c=o.minDate,u=o.maxDate,f=o.excludeDates,m=o.includeDates,p=o.filterDate,y=qo(mr(r.props.date,s)),b=(c||u||f||m||p)&&Vc(s,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Ge(y,qo(r.props.selected))&&Ge(y,qo(r.props.preSelection))&&!b}},r.isSelectedYear=function(s){var o=r.props,c=o.selectsMultiple,u=o.selected,f=o.selectedDates;return c?f?.some(function(m){return s===He(m)}):!!u&&s===He(u)},r.onYearClick=function(s,o){var c=r.props.date;c!==void 0&&r.handleYearClick(qo(mr(c,o)),s)},r.onYearKeyDown=function(s,o){var c,u,f=s.key,m=r.props,p=m.date,y=m.yearItemNumber,b=m.handleOnKeyDown;if(f!==he.Tab&&s.preventDefault(),!r.props.disabledKeyboardNavigation)switch(f){case he.Enter:if(r.props.selected==null)break;r.onYearClick(s,o),(u=(c=r.props).setPreSelection)===null||u===void 0||u.call(c,r.props.selected);break;case he.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,zr(r.props.preSelection,1));break;case he.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Ei(r.props.preSelection,1));break;case he.ArrowUp:{if(p===void 0||y===void 0||r.props.preSelection==null)break;var w=Da(p,y).startPeriod,x=Ev,k=o-x;if(k<w){var _=y%x;o>=w&&o<w+_?x=_:x+=_,k=o-x}r.handleYearNavigation(k,Ei(r.props.preSelection,x));break}case he.ArrowDown:{if(p===void 0||y===void 0||r.props.preSelection==null)break;var S=Da(p,y).endPeriod,x=Ev,k=o+x;if(k>S){var _=y%x;o<=S&&o>S-_?x=_:x+=_,k=o+x}r.handleYearNavigation(k,zr(r.props.preSelection,x));break}}b&&b(s)},r.getYearClassNames=function(s){var o=r.props,c=o.date,u=o.minDate,f=o.maxDate,m=o.excludeDates,p=o.includeDates,y=o.filterDate,b=o.yearClassName;return sn("react-datepicker__year-text","react-datepicker__year-".concat(s),c?b?.(mr(c,s)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(s),"react-datepicker__year-text--disabled":(u||f||m||p||y)&&Vc(s,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(s),"react-datepicker__year-text--range-start":r.isRangeStart(s),"react-datepicker__year-text--range-end":r.isRangeEnd(s),"react-datepicker__year-text--in-range":r.isInRange(s),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(s),"react-datepicker__year-text--today":r.isCurrentYear(s)})},r.getYearTabIndex=function(s){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=He(r.props.preSelection),c=Vc(s,r.props);return s===o&&!c?"0":"-1"},r.getYearContent=function(s){return r.props.renderYearContent?r.props.renderYearContent(s):s},r}return e.prototype.render=function(){var n=this,r=[],s=this.props,o=s.date,c=s.yearItemNumber,u=s.onYearMouseEnter,f=s.onYearMouseLeave;if(o===void 0)return null;for(var m=Da(o,c),p=m.startPeriod,y=m.endPeriod,b=function(k){r.push(ee.createElement("div",{ref:w.YEAR_REFS[k-p],onClick:function(_){n.onYearClick(_,k)},onKeyDown:function(_){Sx(_)&&(_.preventDefault(),_.key=he.Enter),n.onYearKeyDown(_,k)},tabIndex:Number(w.getYearTabIndex(k)),className:w.getYearClassNames(k),onMouseEnter:w.props.usePointerEvent?void 0:function(_){return u(_,k)},onPointerEnter:w.props.usePointerEvent?function(_){return u(_,k)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(_){return f(_,k)},onPointerLeave:w.props.usePointerEvent?function(_){return f(_,k)}:void 0,key:k,"aria-current":w.isCurrentYear(k)?"date":void 0},w.getYearContent(k)))},w=this,x=p;x<=y;x++)b(x);return ee.createElement("div",{className:"react-datepicker__year"},ee.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e})(N.Component);function jj(t,e,n,r){for(var s=[],o=0;o<2*e+1;o++){var c=t+e-o,u=!0;n&&(u=He(n)<=c),r&&u&&(u=He(r)>=c),u&&s.push(c)}return s}var Tj=(function(t){en(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var u=r.props.year,f=r.state.yearsList.map(function(y){return ee.createElement("div",{className:u===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:r.onChange.bind(r,y),"aria-selected":u===y?"true":void 0},u===y?ee.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",y)}),m=r.props.minDate?He(r.props.minDate):null,p=r.props.maxDate?He(r.props.maxDate):null;return(!p||!r.state.yearsList.find(function(y){return y===p}))&&f.unshift(ee.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!r.state.yearsList.find(function(y){return y===m}))&&f.push(ee.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var f=r.state.yearsList.map(function(m){return m+u});r.setState({yearsList:f})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var s=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,c=s||(o?10:5);return r.state={yearsList:jj(r.props.year,c,r.props.minDate,r.props.maxDate)},r.dropdownRef=N.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,s=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=sn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ee.createElement($u,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(N.Component),Mj=(function(t){en(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?He(n.props.minDate):1900,s=n.props.maxDate?He(n.props.maxDate):2100,o=[],c=r;c<=s;c++)o.push(ee.createElement("option",{key:c,value:c},c));return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ee.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return ee.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return n.toggleDropdown(s)}},ee.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return ee.createElement(Tj,Xe({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,s=[n.renderReadView(!r)];return r&&s.unshift(n.renderDropdown()),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,s){var o;(o=n.onSelect)===null||o===void 0||o.call(n,r,s),n.setOpen()},n.onSelect=function(r,s){var o,c;(c=(o=n.props).onSelect)===null||c===void 0||c.call(o,r,s)},n.setOpen=function(){var r,s;(s=(r=n.props).setOpen)===null||s===void 0||s.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e})(N.Component),Oj=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Aj=function(t){var e=(t.className||"").split(/\s+/);return Oj.some(function(n){return e.indexOf(n)>=0})},Rj=(function(t){en(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(s){r.props.onClickOutside(s)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(s){var o,c;Aj(s.target)&&((c=(o=r.props).onDropdownFocus)===null||c===void 0||c.call(o,s))},r.getDateInView=function(){var s=r.props,o=s.preSelection,c=s.selected,u=s.openToDate,f=_x(r.props),m=kx(r.props),p=st(),y=u||c||o;return y||(f&&hs(p,f)?f:m&&ja(p,m)?m:p)},r.increaseMonth=function(){r.setState(function(s){var o=s.date;return{date:nr(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(s){var o=s.date;return{date:ls(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(s,o,c){r.props.onSelect(s,o,c),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleDayMouseEnter=function(s){r.setState({selectingDate:s}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(s,o){r.setState({selectingDate:mr(st(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(s,o)},r.handleYearMouseLeave=function(s,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(s,o)},r.handleYearChange=function(s){var o,c,u,f;(c=(o=r.props).onYearChange)===null||c===void 0||c.call(o,s),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(s),(f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.getEnabledPreSelectionDateForMonth=function(s){if(!Qn(s,r.props))return s;for(var o=Qr(s),c=tj(s),u=iD(c,o),f=null,m=0;m<=u;m++){var p=er(o,m);if(!Qn(p,r.props)){f=p;break}}return f},r.handleMonthChange=function(s){var o,c,u,f=(o=r.getEnabledPreSelectionDateForMonth(s))!==null&&o!==void 0?o:s;r.handleCustomMonthChange(f),r.props.adjustDateOnChange&&(r.props.onSelect(f),(u=(c=r.props).setOpen)===null||u===void 0||u.call(c,!0)),r.props.setPreSelection&&r.props.setPreSelection(f)},r.handleCustomMonthChange=function(s){var o,c;(c=(o=r.props).onMonthChange)===null||c===void 0||c.call(o,s),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(s){r.handleYearChange(s),r.handleMonthChange(s)},r.changeYear=function(s){r.setState(function(o){var c=o.date;return{date:mr(c,Number(s))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(s){r.setState(function(o){var c=o.date;return{date:Yn(c,Number(s))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(s){r.setState(function(o){var c=o.date;return{date:mr(Yn(c,un(s)),He(s))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(s){s===void 0&&(s=r.state.date);var o=Na(s,r.props.locale,r.props.calendarStartDay),c=[];return r.props.showWeekNumbers&&c.push(ee.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),c.concat([0,1,2,3,4,5,6].map(function(u){var f=er(o,u),m=r.formatWeekday(f,r.props.locale),p=r.props.weekDayClassName?r.props.weekDayClassName(f):void 0;return ee.createElement("div",{key:u,"aria-label":xt(f,"EEEE",r.props.locale),className:sn("react-datepicker__day-name",p)},m)}))},r.formatWeekday=function(s,o){return r.props.formatWeekDay?nj(s,r.props.formatWeekDay,o):r.props.useWeekdaysShort?aj(s,o):rj(s,o)},r.decreaseYear=function(){r.setState(function(s){var o,c=s.date;return{date:Ei(c,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var s,o,c;if(!r.props.renderCustomHeader){var u=(s=r.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,m=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:f,p=ls(r.state.date,m),y;switch(!0){case r.props.showMonthYearPicker:y=bv(r.state.date,r.props);break;case r.props.showYearPicker:y=cj(r.state.date,r.props);break;case r.props.showQuarterYearPicker:y=oj(r.state.date,r.props);break;default:y=gv(p,r.props);break}if(!(!((c=r.props.forceShowMonthNavigation)!==null&&c!==void 0?c:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&y||r.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(x=r.decreaseYear),y&&r.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),x=void 0);var k=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,_=r.props,S=_.previousMonthButtonLabel,D=S===void 0?e.defaultProps.previousMonthButtonLabel:S,C=_.previousYearButtonLabel,T=C===void 0?e.defaultProps.previousYearButtonLabel:C,M=r.props,L=M.previousMonthAriaLabel,R=L===void 0?typeof D=="string"?D:"Previous Month":L,$=M.previousYearAriaLabel,U=$===void 0?typeof T=="string"?T:"Previous Year":$;return ee.createElement("button",{type:"button",className:w.join(" "),onClick:x,onKeyDown:r.props.handleOnKeyDown,"aria-label":k?U:R},ee.createElement("span",{className:b.join(" ")},k?T:D))}}},r.increaseYear=function(){r.setState(function(s){var o,c=s.date;return{date:zr(c,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var s;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=vv(r.state.date,r.props);break;case r.props.showYearPicker:o=uj(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=lj(r.state.date,r.props);break;default:o=yv(r.state.date,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var f=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(f=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),f=void 0);var m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,p=r.props,y=p.nextMonthButtonLabel,b=y===void 0?e.defaultProps.nextMonthButtonLabel:y,w=p.nextYearButtonLabel,x=w===void 0?e.defaultProps.nextYearButtonLabel:w,k=r.props,_=k.nextMonthAriaLabel,S=_===void 0?typeof b=="string"?b:"Next Month":_,D=k.nextYearAriaLabel,C=D===void 0?typeof x=="string"?x:"Next Year":D;return ee.createElement("button",{type:"button",className:c.join(" "),onClick:f,onKeyDown:r.props.handleOnKeyDown,"aria-label":m?C:S},ee.createElement("span",{className:u.join(" ")},m?x:b))}}},r.renderCurrentMonth=function(s){s===void 0&&(s=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),ee.createElement("h2",{className:o.join(" ")},xt(s,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showYearDropdown||s))return ee.createElement(Mj,Xe({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:He(r.state.date)}))},r.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthDropdown||s))return ee.createElement(kj,Xe({},e.defaultProps,r.props,{month:un(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthYearDropdown||s))return ee.createElement(Ej,Xe({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(s){r.props.onSelect(dv(),s),r.props.setPreSelection&&r.props.setPreSelection(dv())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return ee.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(s){var o=s.monthDate,c=s.i;return ee.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),ee.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(c!==0),r.renderMonthYearDropdown(c!==0),r.renderYearDropdown(c!==0)),ee.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(s){var o,c,u=s.monthDate,f=s.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var m=gv(r.state.date,r.props),p=yv(r.state.date,r.props),y=bv(r.state.date,r.props),b=vv(r.state.date,r.props),w=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(c=(o=r.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,Xe(Xe({},r.state),{customHeaderCount:f,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:m,nextMonthButtonDisabled:p,prevYearButtonDisabled:y,nextYearButtonDisabled:b})),w&&ee.createElement("div",{className:"react-datepicker__day-names"},r.header(u)))},r.renderYearHeader=function(s){var o=s.monthDate,c=r.props,u=c.showYearPicker,f=c.yearItemNumber,m=f===void 0?e.defaultProps.yearItemNumber:f,p=Da(o,m),y=p.startPeriod,b=p.endPeriod;return ee.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(y," - ").concat(b):He(o))},r.renderHeader=function(s){var o=s.monthDate,c=s.i,u=c===void 0?0:c,f={monthDate:o,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(f);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(f);default:return r.renderDefaultHeader(f)}},r.renderMonths=function(){var s,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var c=[],u=(s=r.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?zr(r.state.date,f):ls(r.state.date,f),p=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:f,y=0;y<u;++y){var b=y-p+f,w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?zr(m,b):nr(m,b),x="month-".concat(y),k=y<u-1,_=y>0;c.push(ee.createElement("div",{key:x,ref:function(S){r.monthContainer=S??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:w,i:y}),ee.createElement(wj,Xe({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:w,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:y,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:k,monthShowsDuplicateDaysStart:_}))))}return c}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return ee.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),ee.createElement(Nj,Xe({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ee.createElement(Cj,Xe({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var s=r.props.selected?new Date(r.props.selected):void 0,o=s&&Pu(s)&&!!r.props.selected,c=o?"".concat(wv(s.getHours()),":").concat(wv(s.getMinutes())):"";if(r.props.showTimeInput)return ee.createElement(gj,Xe({},e.defaultProps,r.props,{date:s,timeString:c,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var s,o=Da(r.state.date,(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),c=o.startPeriod,u=o.endPeriod,f;return r.props.showYearPicker?f="".concat(c," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?f=He(r.state.date):f="".concat(W0(un(r.state.date),r.props.locale)," ").concat(He(r.state.date)),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&f)},r.renderChildren=function(){if(r.props.children)return ee.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=N.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:cl}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){n.setState({monthContainer:n.monthContainer})})())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Ge(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var s=!mn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Ge(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||VN;return ee.createElement($u,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ee.createElement("div",{style:{display:"contents"},ref:this.containerRef},ee.createElement(n,{className:sn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(N.Component),Lj=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,s=t.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return ee.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:s});if(ee.isValidElement(e)){var c=e;return ee.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(o," ").concat(r),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof s=="function"&&s(u)}})}return ee.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},ee.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Dx=(function(t){en(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Fk.createPortal(this.props.children,this.el)},e})(N.Component),$j="[tabindex], a, button, input, select, textarea",Pj=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},Ex=(function(t){en(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var s;return Array.prototype.slice.call((s=r.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll($j),1,-1).filter(Pj)},r.handleFocusStart=function(){var s=r.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},r.handleFocusEnd=function(){var s=r.getTabChildren();s&&s.length>1&&s[0].focus()},r.tabLoopRef=N.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?ee.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ee.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ee.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(N.Component);function Uj(t){var e=function(n){var r,s=typeof n.hidePopper=="boolean"?n.hidePopper:!0,o=N.useRef(null),c=KN(Xe({open:!s,whileElementsMounted:DN,placement:n.popperPlacement,middleware:br([RN({padding:15}),AN(10),LN({element:o})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),u=Xe(Xe({},n),{hidePopper:s,popperProps:Xe(Xe({},c),{arrowRef:o})});return ee.createElement(t,Xe({},u))};return e}var Bj=(function(t){en(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,s=n.wrapperClassName,o=n.hidePopper,c=o===void 0?e.defaultProps.hidePopper:o,u=n.popperComponent,f=n.targetComponent,m=n.enableTabLoop,p=n.popperOnKeyDown,y=n.portalId,b=n.portalHost,w=n.popperProps,x=n.showArrow,k=void 0;if(!c){var _=sn("react-datepicker-popper",r);k=ee.createElement(Ex,{enableTabLoop:m},ee.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:_,"data-placement":w.placement,onKeyDown:p},u,x&&ee.createElement(HN,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(k=N.createElement(this.props.popperContainer,{},k)),y&&!c&&(k=ee.createElement(Dx,{portalId:y,portalHost:b},k));var S=sn("react-datepicker-wrapper",s);return ee.createElement(ee.Fragment,null,ee.createElement("div",{ref:w.refs.setReference,className:S},f),k)},e})(N.Component),Hj=Uj(Bj),Cv="react-datepicker-ignore-onclickoutside";function Fj(t,e){return t&&e?un(t)!==un(e)||He(t)!==He(e):t!==e}var xh="Date input not valid.",zj=(function(t){en(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:st()},r.modifyHolidays=function(){var s;return(s=r.props.holidays)===null||s===void 0?void 0:s.reduce(function(o,c){var u=new Date(c.date);return Pu(u)?br(br([],o,!0),[Xe(Xe({},c),{date:u})],!1):o},[])},r.calcInitialState=function(){var s,o=r.getPreSelection(),c=_x(r.props),u=kx(r.props),f=c&&hs(o,Kc(c))?c:u&&ja(o,fv(u))?u:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&s!==void 0?s:f,highlightDates:xv(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Xe(Xe({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Xe(Xe({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var s,o;(o=(s=r.input)===null||s===void 0?void 0:s.focus)===null||o===void 0||o.call(s,{preventScroll:!0})},r.setBlur=function(){var s,o;(o=(s=r.input)===null||s===void 0?void 0:s.blur)===null||o===void 0||o.call(s),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(s,o){o===void 0&&(o=!1),r.setState({open:s,preSelection:s&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:wh},function(){s||r.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return qr(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(s){var o,c,u=r.state.wasHidden,f=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((c=(o=r.props).onFocus)===null||c===void 0||c.call(o,s),f&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(s){var o,c;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((c=(o=r.props).onBlur)===null||c===void 0||c.call(o,s)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(s){var o,c;r.props.inline||r.setOpen(!1),(c=(o=r.props).onClickOutside)===null||c===void 0||c.call(o,s),r.props.withPortal&&s.preventDefault()},r.handleChange=function(){for(var s,o,c,u,f,m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];var y=m[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,m),!y||typeof y.isDefaultPrevented!="function"||y.isDefaultPrevented()))){r.setState({inputValue:y?.target instanceof HTMLInputElement?y.target.value:null,lastPreSelectChange:qj});var b=r.props,w=b.selectsRange,x=b.startDate,k=b.endDate,_=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,S=(o=r.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,D=y?.target instanceof HTMLInputElement?y.target.value:"";if(w){var C=D.split(_.includes("-")?vx:"-",2).map(function(V){return V.trim()}),T=C[0],M=C[1],L=yh(T??"",_,r.props.locale,S),R=yh(M??"",_,r.props.locale,S),$=x?.getTime()!==L?.getTime(),U=k?.getTime()!==R?.getTime();if(!$&&!U||L&&Qn(L,r.props)||R&&Qn(R,r.props))return;(u=(c=r.props).onChange)===null||u===void 0||u.call(c,[L,R],y)}else{var q=yh(D,_,r.props.locale,S,(f=r.props.selected)!==null&&f!==void 0?f:void 0);(q||!D)&&r.setSelected(q,y,!0)}}},r.handleSelect=function(s,o,c){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(s,o,!1,c),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(s);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var u=r.props,f=u.startDate,m=u.endDate;f&&!m&&(r.props.swapRange||!Sv(s,f))&&r.setOpen(!1)}}},r.setSelected=function(s,o,c,u){var f,m,p=s;if(r.props.showYearPicker){if(p!==null&&Vc(He(p),r.props))return}else if(r.props.showMonthYearPicker){if(p!==null&&wx(p,r.props))return}else if(p!==null&&Qn(p,r.props))return;var y=r.props,b=y.onChange,w=y.selectsRange,x=y.startDate,k=y.endDate,_=y.selectsMultiple,S=y.selectedDates,D=y.minTime,C=y.swapRange;if(!is(r.props.selected,p)||r.props.allowSameDay||w||_)if(p!==null&&(r.props.selected&&(!c||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(p=bh(p,{hour:Ir(r.props.selected),minute:Yr(r.props.selected),second:Ca(r.props.selected)})),!c&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&D&&(p=bh(p,{hour:D.getHours(),minute:D.getMinutes(),second:D.getSeconds()})),r.props.inline||r.setState({preSelection:p}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),w){var T=!x&&!k,M=x&&!k,L=x&&k;T?b?.([p,null],o):M&&(p===null?b?.([null,null],o):Sv(p,x)?b?.(C?[p,x]:[p,null],o):b?.([x,p],o)),L&&b?.([p,null],o)}else if(_){if(p!==null)if(!S?.length)b?.([p],o);else{var R=S.some(function(U){return Ge(U,p)});if(R){var $=S.filter(function(U){return!Ge(U,p)});b?.($,o)}else b?.(br(br([],S,!0),[p],!1),o)}}else b?.(p,o);c||((m=(f=r.props).onSelect)===null||m===void 0||m.call(f,p,o),r.setState({inputValue:null}))},r.setPreSelection=function(s){if(!r.props.readOnly){var o=qr(r.props.minDate),c=qr(r.props.maxDate),u=!0;if(s){var f=Kc(s);if(o&&c)u=Io(s,r.props.minDate,r.props.maxDate);else if(o){var m=Kc(r.props.minDate);u=ja(s,m)||is(f,m)}else if(c){var p=fv(r.props.maxDate);u=hs(s,p)||is(f,p)}}u&&r.setState({preSelection:s})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(s){var o,c;if(!(r.props.selectsRange||r.props.selectsMultiple)){var u=r.props.selected?r.props.selected:r.getPreSelection(),f=r.props.selected?s:bh(u,{hour:Ir(s),minute:Yr(s)});r.setState({preSelection:f}),(c=(o=r.props).onChange)===null||c===void 0||c.call(o,f),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var s,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(s=r.props).onInputClick)===null||o===void 0||o.call(s)},r.onInputKeyDown=function(s){var o,c,u,f,m,p;(c=(o=r.props).onKeyDown)===null||c===void 0||c.call(o,s);var y=s.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(y===he.ArrowDown||y===he.ArrowUp||y===he.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open){if(y===he.ArrowDown||y===he.ArrowUp){s.preventDefault();var b=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((f=r.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(b);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var x=st(r.state.preSelection);y===he.Enter?(s.preventDefault(),s.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===wh?(r.handleSelect(x,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(x)):r.setOpen(!1)):y===he.Escape?(s.preventDefault(),s.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):y===he.Tab&&r.setOpen(!1),r.inputOk()||(p=(m=r.props).onInputError)===null||p===void 0||p.call(m,{code:1,msg:xh})}},r.onPortalKeyDown=function(s){var o=s.key;o===he.Escape&&(s.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(s){var o,c,u,f,m,p,y=r.props,b=y.minDate,w=y.maxDate,x=y.disabledKeyboardNavigation,k=y.showWeekPicker,_=y.shouldCloseOnSelect,S=y.locale,D=y.calendarStartDay,C=y.adjustDateOnChange,T=y.inline;if((c=(o=r.props).onKeyDown)===null||c===void 0||c.call(o,s),!x){var M=s.key,L=s.shiftKey,R=st(r.state.preSelection),$=function(I,A){var H=A;switch(I){case he.ArrowRight:H=k?nu(A,1):er(A,1);break;case he.ArrowLeft:H=k?Zb(A):fC(A);break;case he.ArrowUp:H=Zb(A);break;case he.ArrowDown:H=nu(A,1);break;case he.PageUp:H=L?Ei(A,1):ls(A,1);break;case he.PageDown:H=L?zr(A,1):nr(A,1);break;case he.Home:H=Na(A,S,D);break;case he.End:H=ej(A);break}return H},U=function(I,A){for(var H=40,z=I,te=!1,O=0,K=$(I,A);!te;){if(O>=H){K=A;break}b&&K<b&&(z=he.ArrowRight,K=Qn(b,r.props)?$(z,K):b),w&&K>w&&(z=he.ArrowLeft,K=Qn(w,r.props)?$(z,K):w),Qn(K,r.props)?((z===he.PageUp||z===he.Home)&&(z=he.ArrowRight),(z===he.PageDown||z===he.End)&&(z=he.ArrowLeft),K=$(z,K)):te=!0,O++}return K};if(M===he.Enter){s.preventDefault(),r.handleSelect(R,s),!_&&r.setPreSelection(R);return}else if(M===he.Escape){s.preventDefault(),r.setOpen(!1),r.inputOk()||(f=(u=r.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:xh});return}var q=null;switch(M){case he.ArrowLeft:case he.ArrowRight:case he.ArrowUp:case he.ArrowDown:case he.PageUp:case he.PageDown:case he.Home:case he.End:q=U(M,R);break}if(!q){(p=(m=r.props).onInputError)===null||p===void 0||p.call(m,{code:1,msg:xh});return}if(s.preventDefault(),r.setState({lastPreSelectChange:wh}),C&&r.setSelected(q),r.setPreSelection(q),T){var V=un(R),X=un(q),B=He(R),F=He(q);V!==X||B!==F?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(s){var o=s.key;o===he.Escape&&(s.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),r.sendFocusBackToInput();var o=r.props,c=o.selectsRange,u=o.onChange;u?.(c?[null,null]:null,s),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(s){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(s)&&r.setOpen(!1)},r.renderCalendar=function(){var s,o;return!r.props.inline&&!r.isCalendarOpen()?null:ee.createElement(Rj,Xe({showMonthYearDropdown:void 0,ref:function(c){r.calendar=c}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(s=r.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:fj(r.modifyHolidays()),outsideClickIgnoreClass:Cv,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var s=r.props,o=s.dateFormat,c=o===void 0?e.defaultProps.dateFormat:o,u=s.locale,f=r.props.showTimeInput||r.props.showTimeSelect,m=f?"PPPPp":"PPPP",p;return r.props.selectsRange?p="Selected start date: ".concat(qn(r.props.startDate,{dateFormat:m,locale:u}),". ").concat(r.props.endDate?"End date: "+qn(r.props.endDate,{dateFormat:m,locale:u}):""):r.props.showTimeSelectOnly?p="Selected time: ".concat(qn(r.props.selected,{dateFormat:c,locale:u})):r.props.showYearPicker?p="Selected year: ".concat(qn(r.props.selected,{dateFormat:"yyyy",locale:u})):r.props.showMonthYearPicker?p="Selected month: ".concat(qn(r.props.selected,{dateFormat:"MMMM yyyy",locale:u})):r.props.showQuarterYearPicker?p="Selected quarter: ".concat(qn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(qn(r.props.selected,{dateFormat:m,locale:u})),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},r.renderDateInput=function(){var s,o,c,u=sn(r.props.className,(s={},s[Cv]=r.state.open,s)),f=r.props.customInput||ee.createElement("input",{type:"text"}),m=r.props.customInputRef||"ref",p=r.props,y=p.dateFormat,b=y===void 0?e.defaultProps.dateFormat:y,w=p.locale,x=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?GN(r.props.startDate,r.props.endDate,{dateFormat:b,locale:w}):r.props.selectsMultiple?XN((c=r.props.selectedDates)!==null&&c!==void 0?c:[],{dateFormat:b,locale:w}):qn(r.props.selected,{dateFormat:b,locale:w});return N.cloneElement(f,(o={},o[m]=function(k){r.input=k},o.value=x,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=sn(f.props.className,u),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var s=r.props,o=s.isClearable,c=s.disabled,u=s.selected,f=s.startDate,m=s.endDate,p=s.clearButtonTitle,y=s.clearButtonClassName,b=y===void 0?"":y,w=s.ariaLabelClose,x=w===void 0?"Close":w,k=s.selectedDates,_=s.readOnly;return o&&!_&&(u!=null||f!=null||m!=null||k?.length)?ee.createElement("button",{type:"button",className:sn("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":x,onClick:r.onClearClick,title:p,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:cl,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var s,o,c,u;n.inline&&Fj(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:xv(this.props.highlightDates)}),!r.focused&&!is(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(s=this.props).onCalendarOpen)===null||o===void 0||o.call(s)),r.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,s=n.icon,o=n.calendarIconClassname,c=n.calendarIconClassName,u=n.toggleCalendarOnIconClick,f=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ee.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&ee.createElement(Lj,Xe({icon:s,className:sn(c,!c&&o,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?ee.createElement(Ex,{enableTabLoop:this.props.enableTabLoop},ee.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=ee.createElement(Dx,Xe({portalId:this.props.portalId},this.props),r)),ee.createElement("div",null,this.renderInputContainer(),r)}return ee.createElement(Hj,Xe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(N.Component),qj="input",wh="navigate";const Ij=async(t,e)=>{const{data:n,error:r}=await de.from("academic_calendar").select("*").gte("date",t.toISOString()).lte("date",e.toISOString()).order("date",{ascending:!0});if(r)throw r;return n||[]},Yj=(t,e)=>{const n=ue.c(14);let r;n[0]!==t?(r=t.toISOString().split("T"),n[0]=t,n[1]=r):r=n[1];const s=r[0];let o;n[2]!==e?(o=e.toISOString().split("T"),n[2]=e,n[3]=o):o=n[3];let c;n[4]!==r[0]||n[5]!==o[0]?(c=["academic-calendar-range",s,o[0]],n[4]=r[0],n[5]=o[0],n[6]=c):c=n[6];let u;n[7]!==e||n[8]!==t?(u=()=>Ij(t,e),n[7]=e,n[8]=t,n[9]=u):u=n[9];const f=!!t&&!!e;let m;return n[10]!==c||n[11]!==u||n[12]!==f?(m={queryKey:c,queryFn:u,staleTime:3e5,gcTime:864e5,enabled:f},n[10]=c,n[11]=u,n[12]=f,n[13]=m):m=n[13],pt(m)},Qj=(t,e)=>{const n=e.toISOString().split("T")[0];return t.filter(r=>r.date?new Date(r.date).toISOString().split("T")[0]===n:!1)};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Nv=t=>{const e=Vj(t);return e.charAt(0).toUpperCase()+e.slice(1)},Cx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Wj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...u},f)=>N.createElement("svg",{ref:f,...Gj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Cx("lucide",s),...!o&&!Wj(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,p])=>N.createElement(m,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=(t,e)=>{const n=N.forwardRef(({className:r,...s},o)=>N.createElement(Xj,{ref:o,iconNode:e,className:Cx(`lucide-${Kj(Nv(t))}`,`lucide-${t}`,r),...s}));return n.displayName=Nv(t),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jv=kn("bell",Zj);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eT=kn("check",Jj);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_h=kn("chevron-down",tT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kh=kn("chevron-right",nT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sh=kn("circle-check-big",rT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dh=kn("circle",aT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],r0=kn("clock",sT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Eh=kn("external-link",iT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lT=kn("file-text",oT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],uT=kn("graduation-cap",cT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fT=kn("info",dT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mT=kn("plus",hT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ch=kn("video",pT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tv=kn("x",gT),yT=t=>{const e=t.getMonth(),n=t.getDate();if(e===9&&n===31)return"Halloween";const r=t.toLocaleDateString("en-US",{weekday:"short"}),s=t.toLocaleDateString("en-US",{month:"short"}),o=t.getDate().toString(),c=t.getFullYear().toString();return r+`
`+s+`
`+o+`
`+c},bT=ee.forwardRef((t,e)=>{const n=ue.c(19),{value:r,onClick:s,disabled:o,selectedDate:c}=t;let u;n[0]!==c||n[1]!==r?(u=c?yT(c):r,n[0]=c,n[1]=r,n[2]=u):u=n[2];const f=u,m=f==="Halloween",p=`w-12 h-48 px-1 py-2 border backdrop-blur-sm rounded-xl shadow-lg focus:outline-none transition-all duration-200 hover:shadow-xl hover:scale-[1.02] text-xs font-semibold flex items-center justify-center ${o?"opacity-50 cursor-not-allowed border-gray-300/50 dark:border-gray-600/50 bg-gray-100/40 dark:bg-gray-700/40 text-gray-500 dark:text-gray-300":"border-gray-300/50 dark:border-gray-600/50 bg-gray-100/40 dark:bg-gray-700/40 text-gray-700 dark:text-gray-200 hover:border-gray-400/50 dark:hover:border-gray-400/50 hover:bg-gray-200/50 dark:hover:bg-gray-600/50"}`;let y;n[3]!==m?(y=m?{fontFamily:"HalloweenInline"}:{},n[3]=m,n[4]=y):y=n[4];let b;if(n[5]!==f){let _;n[7]===Symbol.for("react.memo_cache_sentinel")?(_=/\n/g,n[7]=_):_=n[7],b=f.replace(_,"<br>"),n[5]=f,n[6]=b}else b=n[6];let w;n[8]!==b?(w={__html:b},n[8]=b,n[9]=w):w=n[9];let x;n[10]!==y||n[11]!==w?(x=h.jsx("div",{style:y,className:"text-sm whitespace-pre-line leading-tight text-center",dangerouslySetInnerHTML:w}),n[10]=y,n[11]=w,n[12]=x):x=n[12];let k;return n[13]!==o||n[14]!==s||n[15]!==e||n[16]!==p||n[17]!==x?(k=h.jsx("button",{className:p,onClick:s,ref:e,disabled:o,children:x}),n[13]=o,n[14]=s,n[15]=e,n[16]=p,n[17]=x,n[18]=k):k=n[18],k}),vT=t=>{const e=ue.c(12),{events:n,isDarkMode:r}=t,[s,o]=N.useState(!1);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c={top:0,left:0},e[0]=c):c=e[0];const[u,f]=N.useState(c),m=N.useRef(null);let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{if(m.current){const C=m.current.getBoundingClientRect();f({top:C.top-10,left:C.right+10})}o(!0)},e[1]=p):p=e[1];const y=p;let b;e[2]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{o(!1)},e[2]=b):b=e[2];const w=b;let x;e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==u?(x=s&&_u.createPortal(h.jsx("div",{style:{position:"fixed",top:u.top,left:u.left,minWidth:"200px",maxWidth:"300px",whiteSpace:"normal",wordWrap:"break-word",overflowWrap:"break-word",zIndex:2147483647,borderRadius:"0.75rem",boxShadow:"0 20px 40px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"12px",backgroundColor:r?"#1f2937":"#ffffff",color:r?"#f9fafb":"#1f2937",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",pointerEvents:"none"},children:n.map((C,T)=>h.jsxs("div",{style:{fontSize:"12px",marginBottom:"4px",wordBreak:"break-word"},children:[n.length>1?"• ":"",C.label]},T))}),document.getElementById("root")||document.body),e[3]=n,e[4]=r,e[5]=s,e[6]=u,e[7]=x):x=e[7];const k=x;let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_={position:"absolute",top:"4px",right:"4px",zIndex:10},e[8]=_):_=e[8];let S;e[9]===Symbol.for("react.memo_cache_sentinel")?(S=h.jsx("div",{ref:m,style:_,onMouseEnter:y,onMouseLeave:w,children:h.jsx(fT,{size:10,style:{color:"#8b5cf6",transition:"all 0.2s ease-in-out",filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3))",cursor:"pointer"}})}),e[9]=S):S=e[9];let D;return e[10]!==k?(D=h.jsxs(h.Fragment,{children:[S,k]}),e[10]=k,e[11]=D):D=e[11],D},xT=t=>{const e=ue.c(25),{selectedDate:n,setSelectedDate:r,isLoading:s,onCalendarOpen:o,onCalendarClose:c}=t,{isDarkMode:u}=zt();let f,m,p;if(e[0]!==n){f=new Date(n);const $=f.getTimezoneOffset();f.setMinutes(f.getMinutes()+$),m=new Date(f.getFullYear(),f.getMonth()-2,1),p=new Date(f.getFullYear(),f.getMonth()+3,0),e[0]=n,e[1]=f,e[2]=m,e[3]=p}else f=e[1],m=e[2],p=e[3];const y=p,{data:b}=Yj(m,y);let w;e[4]!==b?(w=b===void 0?[]:b,e[4]=b,e[5]=w):w=e[5];const x=w;let k;e[6]!==r?(k=$=>{const U=new Date($);U.setHours(0,0,0,0),r(U)},e[6]=r,e[7]=k):k=e[7];const _=k;let S;e[8]!==x||e[9]!==u?(S=($,U)=>{const q=new Date,V=U.toDateString()===q.toDateString(),X=Qj(x,U),B=X.length>0;return h.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[h.jsx("span",{className:V?"font-bold text-blue-600 dark:text-blue-400":"",children:$}),B&&h.jsx(vT,{events:X,isDarkMode:u})]})},e[8]=x,e[9]=u,e[10]=S):S=e[10];const D=S,C=u?"z-[9999] react-datepicker-glassmorphism-dark":"z-[9999] react-datepicker-glassmorphism";let T;e[11]!==f||e[12]!==s?(T=h.jsx(bT,{disabled:s,selectedDate:f}),e[11]=f,e[12]=s,e[13]=T):T=e[13];let M;e[14]===Symbol.for("react.memo_cache_sentinel")?(M=[{name:"preventOverflow",enabled:!0,options:{boundary:"viewport"}}],e[14]=M):M=e[14];const L=u?"react-datepicker-dark react-datepicker-glassmorphism":"react-datepicker-glassmorphism";let R;return e[15]!==C||e[16]!==f||e[17]!==_||e[18]!==s||e[19]!==c||e[20]!==o||e[21]!==D||e[22]!==T||e[23]!==L?(R=h.jsx(h.Fragment,{children:h.jsx(zj,{selected:f,onChange:_,customInput:T,dateFormat:"EEE, MMM d, yyyy",popperClassName:C,popperPlacement:"right-start",popperModifiers:M,portalId:"root",withPortal:!0,disabled:s,calendarClassName:L,renderDayContents:D,onCalendarOpen:o,onCalendarClose:c})}),e[15]=C,e[16]=f,e[17]=_,e[18]=s,e[19]=c,e[20]=o,e[21]=D,e[22]=T,e[23]=L,e[24]=R):R=e[24],R},wT=async t=>{t.toISOString().split("T")[0];const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)),{data:r,error:s}=await de.from("academic_calendar").select("*").gte("date",e.toISOString()).lte("date",n.toISOString());if(console.log("  Query Result:",{data:r,error:s}),console.log("  Data length:",r?.length||0),s)throw s;return r||[]},_T=t=>{const e=ue.c(10);let n;e[0]!==t?(n=t.toISOString().split("T"),e[0]=t,e[1]=n):n=e[1];let r;e[2]!==n[0]?(r=["academic-calendar",n[0]],e[2]=n[0],e[3]=r):r=e[3];let s;e[4]!==t?(s=()=>wT(t),e[4]=t,e[5]=s):s=e[5];const o=!!t;let c;return e[6]!==r||e[7]!==s||e[8]!==o?(c={queryKey:r,queryFn:s,staleTime:3e5,gcTime:864e5,enabled:o},e[6]=r,e[7]=s,e[8]=o,e[9]=c):c=e[9],pt(c)},kT=()=>{const t=ue.c(27),{isDarkMode:e}=zt(),{date:n}=Gr();let r;t[0]!==n?(r=(()=>{if(!n){const U=new Date;return new Date(U.getFullYear(),U.getMonth(),U.getDate(),12,0,0)}const[M,L,R]=n.split("-").map(Number),$=new Date(M,L-1,R,12,0,0);return isNaN($.getTime())?new Date:$})(),t[0]=n,t[1]=r):r=t[1];const s=r,{data:o,error:c}=_T(s);let u;t[2]!==o?(u=o===void 0?[]:o,t[2]=o,t[3]=u):u=t[3];const f=u;if(c){const T=`ml-4 p-2 rounded-lg border ${e?"bg-red-900 border-red-600 text-red-200":"bg-red-100 border-red-300 text-red-700"}`,M=c.message||"Failed to fetch academic calendar";let L;t[4]!==M?(L=h.jsxs("span",{className:"text-sm",children:["Error: ",M]}),t[4]=M,t[5]=L):L=t[5];let R;return t[6]!==T||t[7]!==L?(R=h.jsx("div",{className:T,children:L}),t[6]=T,t[7]=L,t[8]=R):R=t[8],R}if(f.length===0)return null;const m=`text-xs px-2 py-1.5 rounded-lg backdrop-blur-md border shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 cursor-help relative overflow-hidden ${e?"bg-white/10 border-white/20 text-purple-300 hover:bg-white/15":"bg-white/30 border-white/40 text-purple-600 hover:bg-white/40"}`;let p;t[9]===Symbol.for("react.memo_cache_sentinel")?(p=h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-white/5 to-transparent rounded-lg"}),t[9]=p):p=t[9];let y;t[10]===Symbol.for("react.memo_cache_sentinel")?(y=h.jsx(uT,{className:"w-4 h-4 flex-shrink-0"}),t[10]=y):y=t[10];const b=f.length!==1?"s":"";let w;t[11]!==f.length||t[12]!==b?(w=h.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-1",children:[y,h.jsxs("span",{className:"font-medium opacity-75 text-center",children:[f.length," item",b]})]}),t[11]=f.length,t[12]=b,t[13]=w):w=t[13];let x;t[14]!==m||t[15]!==w?(x=h.jsxs("div",{className:m,children:[p,w]}),t[14]=m,t[15]=w,t[16]=x):x=t[16];const k=`flex items-center gap-2 p-3 rounded-lg border backdrop-blur-sm shadow-xl ${e?"bg-gray-800/95 border-gray-600/50 text-gray-200":"bg-white/95 border-gray-300/50 text-gray-800"}`;let _;t[17]!==f?(_=f.map(ST),t[17]=f,t[18]=_):_=t[18];let S;t[19]!==_?(S=h.jsx("div",{className:"flex flex-wrap items-center gap-2",children:_}),t[19]=_,t[20]=S):S=t[20];let D;t[21]!==S||t[22]!==k?(D=h.jsx("div",{className:"absolute left-full top-0 ml-1 opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-all duration-300 ease-out transform translate-x-0 group-hover:translate-x-0 z-[100]",children:h.jsx("div",{className:k,children:S})}),t[21]=S,t[22]=k,t[23]=D):D=t[23];let C;return t[24]!==D||t[25]!==x?(C=h.jsxs("div",{className:"group relative inline-block",children:[x,D]}),t[24]=D,t[25]=x,t[26]=C):C=t[26],C};function ST(t,e){return h.jsxs(ee.Fragment,{children:[e>0&&h.jsx("span",{className:"text-current opacity-50",children:"•"}),h.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:t.label||"No label"})]},t.id)}const Mv=t=>{let e;const n=new Set,r=(m,p)=>{const y=typeof m=="function"?m(e):m;if(!Object.is(y,e)){const b=e;e=p??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(w=>w(e,b))}},s=()=>e,u={setState:r,getState:s,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m))},f=e=t(r,s,u);return u},DT=t=>t?Mv(t):Mv,ET=t=>t;function CT(t,e=ET){const n=ee.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return ee.useDebugValue(n),n}const Ov=t=>{const e=DT(t),n=r=>CT(e,r);return Object.assign(n,e),n},NT=t=>t?Ov(t):Ov,X0=NT(t=>({isFilterRoomsModalOpen:!1,openFilterRoomsModal:()=>t({isFilterRoomsModalOpen:!0}),closeFilterRoomsModal:()=>t({isFilterRoomsModalOpen:!1})})),jT=t=>{const e=ue.c(7),{onModalOpen:n}=t,{profile:r}=ys(),{openFilterRoomsModal:s}=X0();r?.current_filter,r?.auto_hide;let o;e[0]!==n||e[1]!==s?(o=()=>{console.log("Filter button clicked!"),n?.(),s()},e[0]=n,e[1]=s,e[2]=o):o=e[2];let c,u;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=h.jsx("svg",{className:"w-4 h-4 text-gray-700 dark:text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),u=h.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300 text-center leading-tight",children:"Filter"}),e[3]=c,e[4]=u):(c=e[3],u=e[4]);let f;return e[5]!==o?(f=h.jsxs("button",{onClick:o,className:"h-10 w-10 p-2 rounded-lg transition-all duration-200 flex flex-col items-center justify-center bg-gray-100/40 dark:bg-gray-700/40 backdrop-blur-sm border border-gray-300/30 dark:border-gray-600/30 shadow-lg hover:shadow-[0_25px_50px_-12px_rgba(0,0,0,0.8)] hover:bg-gray-200/50 dark:hover:bg-gray-600/50 hover:scale-105 active:scale-95 relative z-10 cursor-pointer",title:"Current Filter",children:[c,u]}),e[5]=o,e[6]=f):f=e[6],f},TT=()=>{const{currentFilter:t,updateCurrentFilter:e,autoHide:n,updateAutoHide:r}=ys(),{filters:s,isLoading:o,loadFilter:c,isLoadingFilter:u}=Cu(),{isDarkMode:f}=zt(),[m,p]=N.useState(null),y=async w=>{console.log("Starting to load filter:",w.name),p(w.name);try{const[x]=await Promise.all([c(w),new Promise(k=>setTimeout(k,500))]);console.log("Filter loaded successfully:",w.name)}catch(x){console.error("Failed to load filter:",x)}finally{p(null),console.log("Loading state cleared for:",w.name)}},b=async()=>{console.log("Starting to load My Events filter"),p("My Events");try{const[w]=await Promise.all([e("My Events"),new Promise(x=>setTimeout(x,500))]);console.log("My Events filter loaded successfully")}catch(w){console.error("Failed to set My Events filter:",w)}finally{p(null),console.log("Loading state cleared for My Events")}};return console.log("PresetManager render - loadingFilterName:",m,"currentFilter:",t),h.jsxs("div",{className:"space-y-3 overflow-hidden",children:[h.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto overflow-x-hidden px-1",children:[h.jsx("div",{onClick:()=>!m&&b(),className:`flex items-center justify-between p-3 border rounded-xl cursor-pointer transition-all duration-200 hover:scale-[1.02] backdrop-blur-sm ${m==="My Events"||!m&&t==="My Events"?"border-green-400/50 bg-green-500/20 hover:bg-green-500/30 shadow-lg shadow-green-500/20":f?"border-white/10 hover:border-white/20 bg-gray-700/30 hover:bg-gray-600/40":"border-gray-200/30 hover:border-gray-300/50 bg-white/30 hover:bg-white/50"} ${m?"opacity-75":""}`,children:h.jsxs("div",{className:"flex items-center flex-1",children:[m==="My Events"||!m&&t==="My Events"&&h.jsx("div",{className:"mr-2",children:m==="My Events"?h.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):h.jsx("svg",{className:"w-4 h-4 text-green-600 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),h.jsxs("div",{children:[h.jsx("h4",{className:`text-sm font-medium ${m==="My Events"||!m&&t==="My Events"?"text-green-800 dark:text-green-200":"text-gray-900 dark:text-white"}`,children:"My Events"}),h.jsx("p",{className:`text-xs ${m==="My Events"||!m&&t==="My Events"?"text-green-600 dark:text-green-300":"text-gray-500 dark:text-gray-400"}`,children:"Show only events assigned to me"})]})]})}),o?h.jsxs("div",{className:"text-center py-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Loading filters..."})]}):s.length===0?h.jsx("div",{className:"text-center py-4",children:h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No filters saved yet"})}):s.map(w=>{const x=t===w.name,k=m===w.name,_=k||!m&&x;return h.jsx("div",{onClick:()=>!m&&y(w),className:`flex items-center justify-between p-3 border rounded-xl cursor-pointer transition-all duration-200 hover:scale-[1.02] backdrop-blur-sm ${_?"border-green-400/50 bg-green-500/20 hover:bg-green-500/30 shadow-lg shadow-green-500/20":f?"border-white/10 hover:border-white/20 bg-gray-700/30 hover:bg-gray-600/40":"border-gray-200/30 hover:border-gray-300/50 bg-white/30 hover:bg-white/50"} ${m?"opacity-75":""}`,children:h.jsxs("div",{className:"flex items-center flex-1",children:[_&&h.jsx("div",{className:"mr-2",children:k?h.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):h.jsx("svg",{className:"w-4 h-4 text-green-600 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),h.jsxs("div",{children:[h.jsxs("h4",{className:`text-sm font-medium ${_?"text-green-800 dark:text-green-200":"text-gray-900 dark:text-white"}`,children:[w.name,w.isDefault&&h.jsx("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:"(Default)"})]}),h.jsxs("p",{className:`text-xs ${_?"text-green-600 dark:text-green-300":"text-gray-500 dark:text-gray-400"}`,children:[w.display.length," rooms"]})]})]})},w.id)})]}),h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:n,onChange:w=>r(w.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Hide room rows without filtered events"})]})})]})},Nx=t=>{const e=ue.c(26),{isOpen:n,onClose:r}=t,{isDarkMode:s}=zt();let o,c;if(e[0]!==n||e[1]!==r?(o=()=>{const M=L=>{L.key==="Escape"&&r()};return n&&(document.addEventListener("keydown",M),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",M),document.body.style.overflow="unset"}},c=[n,r],e[0]=n,e[1]=r,e[2]=o,e[3]=c):(o=e[2],c=e[3]),N.useEffect(o,c),!n)return null;const u=`max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto rounded-2xl shadow-2xl border transition-all duration-300 ${s?"bg-gray-900/40 backdrop-blur-xl border-white/10 text-white":"bg-white/40 backdrop-blur-xl border-white/20 text-gray-900"}`,f=`flex justify-between items-center p-4 border-b backdrop-blur-sm ${s?"border-white/10 bg-gray-800/20":"border-gray-200/30 bg-white/20"}`;let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=h.jsx("h2",{className:"text-2xl font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Filter Events"}),e[4]=m):m=e[4];const p=`p-2 rounded-full transition-all duration-200 hover:scale-110 ${s?"text-gray-300 hover:text-white hover:bg-white/10":"text-gray-600 hover:text-gray-900 hover:bg-black/10"}`;let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e[5]=y):y=e[5];let b;e[6]!==r||e[7]!==p?(b=h.jsx("button",{onClick:r,className:p,children:y}),e[6]=r,e[7]=p,e[8]=b):b=e[8];let w;e[9]!==f||e[10]!==b?(w=h.jsxs("div",{className:f,children:[m,b]}),e[9]=f,e[10]=b,e[11]=w):w=e[11];let x;e[12]===Symbol.for("react.memo_cache_sentinel")?(x=h.jsx("div",{className:"p-4",children:h.jsx(TT,{})}),e[12]=x):x=e[12];const k=`p-4 border-t backdrop-blur-sm ${s?"border-white/10 bg-gray-800/20":"border-gray-200/30 bg-white/20"}`,_=`px-6 py-3 text-sm font-medium rounded-xl transition-all duration-200 hover:scale-105 backdrop-blur-sm border ${s?"text-gray-300 hover:text-white bg-gray-700/30 hover:bg-gray-600/40 border-white/10 hover:border-white/20":"text-gray-700 hover:text-gray-900 bg-white/30 hover:bg-white/50 border-gray-200/30 hover:border-gray-300/50"}`;let S;e[13]!==r||e[14]!==_?(S=h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{onClick:r,className:_,children:"Close"})}),e[13]=r,e[14]=_,e[15]=S):S=e[15];let D;e[16]!==k||e[17]!==S?(D=h.jsx("div",{className:k,children:S}),e[16]=k,e[17]=S,e[18]=D):D=e[18];let C;e[19]!==D||e[20]!==u||e[21]!==w?(C=h.jsxs("div",{className:u,onClick:MT,children:[w,x,D]}),e[19]=D,e[20]=u,e[21]=w,e[22]=C):C=e[22];let T;return e[23]!==r||e[24]!==C?(T=h.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-[9999]",onClick:r,children:C}),e[23]=r,e[24]=C,e[25]=T):T=e[25],T};function MT(t){return t.stopPropagation()}const OT=async()=>{const{data:t,error:e}=await de.from("academic_calendar").select("date").eq("start_of_quarter",!0);if(e)throw console.error("[useQuarterStartDates] Supabase error:",e),e;return t?.map(r=>r.date).filter(r=>r!==null).map(r=>new Date(r)).filter(r=>!isNaN(r.getTime()))||[]},AT=()=>{const t=ue.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["quarter-start-dates"],queryFn:OT,staleTime:1/0,gcTime:1/0},t[0]=e):e=t[0],pt(e)},RT=()=>{const t=ue.c(3);zt();const{date:e}=Gr(),{data:n,error:r}=AT(),s=n===void 0?[]:n,c=(()=>{if(!e){const D=new Date;return new Date(D.getFullYear(),D.getMonth(),D.getDate(),12,0,0)}const[x,k,_]=e.split("-").map(Number),S=new Date(x,k-1,_,12,0,0);return isNaN(S.getTime())?new Date:S})(),f=(()=>{if(s.length===0)return null;const x=new Date(c.getTime()-6048e6),k=s.filter(S=>S<=c&&S>=x);return k.length===0?null:k.reduce(LT)})();if(r||!f)return null;const m=Math.floor((c.getTime()-f.getTime())/6048e5);$T(f);let y;t[0]===Symbol.for("react.memo_cache_sentinel")?(y=h.jsx("span",{className:"text-[10px] text-gray-700 dark:text-gray-300 text-center leading-tight font-medium",children:"Week"}),t[0]=y):y=t[0];const b=m+1;let w;return t[1]!==b?(w=h.jsxs("div",{className:"h-14 w-10 p-2 rounded-md transition-all duration-200 flex flex-col items-center justify-center bg-gray-100/40 dark:bg-gray-700/40 backdrop-blur-sm border border-gray-300/30 dark:border-gray-600/30 shadow-lg hover:shadow-[0_25px_50px_-12px_rgba(0,0,0,0.8)] hover:bg-gray-200/50 dark:hover:bg-gray-600/50 hover:scale-105 active:scale-95",children:[y,h.jsx("span",{className:"text-[10px] text-gray-700 dark:text-gray-300 text-center leading-tight font-medium",children:b})]}),t[1]=b,t[2]=w):w=t[2],w};function LT(t,e){return e>t?e:t}function $T(t){const e=t.getMonth();return e>=8&&e<=10?"Fall":e===11||e<=1?"Winter":e>=2&&e<=4?"Spring":"Summer"}function PT(t){const e=ue.c(47),{selectedDate:n,setSelectedDate:r,isLoading:s,isDragging:o}=t,[,c]=N.useState(!1),{isFilterRoomsModalOpen:u,closeFilterRoomsModal:f}=X0();let m;e[0]!==r?(m=()=>{const H=new Date;H.setHours(0,0,0,0),r(H)},e[0]=r,e[1]=m):m=e[1];const p=`h-12 w-12 p-4 rounded-full transition-all duration-200 flex flex-col items-center justify-center backdrop-blur-sm border border-purple-400/50 shadow-lg hover:shadow-[0_25px_50px_-12px_rgba(0,0,0,0.8)] ${s?"opacity-50 cursor-not-allowed":"hover:scale-105 active:scale-95"}`;let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y={backgroundColor:"rgba(133, 118, 163, 1.0)",borderColor:"rgba(133, 118, 163, 0.8)"},e[2]=y):y=e[2];let b,w;e[3]===Symbol.for("react.memo_cache_sentinel")?(b=h.jsx("span",{className:"text-sm text-white text-center leading-tight font-medium",children:"AVOC"}),w=h.jsx("span",{className:"text-[10px] text-white text-center leading-tight font-medium",children:"HOME"}),e[3]=b,e[4]=w):(b=e[3],w=e[4]);let x;e[5]!==s||e[6]!==m||e[7]!==p?(x=h.jsx("div",{className:"flex items-center justify-center",children:h.jsxs("button",{onClick:m,disabled:s,className:p,style:y,"aria-label":"Go to today",children:[b,w]})}),e[5]=s,e[6]=m,e[7]=p,e[8]=x):x=e[8];let k;e[9]!==n||e[10]!==r?(k=()=>{const H=new Date(n);H.setDate(H.getDate()-1),H.setHours(0,0,0,0),r(H)},e[9]=n,e[10]=r,e[11]=k):k=e[11];const _=`h-10 w-10 p-2 rounded-lg transition-all duration-200 flex items-center justify-center bg-gray-100/40 dark:bg-gray-700/40 backdrop-blur-sm border border-gray-300/30 dark:border-gray-600/30 shadow-lg hover:shadow-[0_25px_50px_-12px_rgba(0,0,0,0.8)] ${s?"opacity-50 cursor-not-allowed":"hover:bg-gray-200/50 dark:hover:bg-gray-600/50 hover:scale-105 active:scale-95"}`;let S;e[12]===Symbol.for("react.memo_cache_sentinel")?(S=h.jsx("svg",{className:"w-5 h-5 text-gray-700 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e[12]=S):S=e[12];let D;e[13]!==s||e[14]!==k||e[15]!==_?(D=h.jsx("div",{className:"flex items-center justify-center",children:h.jsx("button",{onClick:k,disabled:s,className:_,"aria-label":"Previous day",children:S})}),e[13]=s,e[14]=k,e[15]=_,e[16]=D):D=e[16];let C,T;e[17]===Symbol.for("react.memo_cache_sentinel")?(C=()=>c(!0),T=()=>c(!1),e[17]=C,e[18]=T):(C=e[17],T=e[18]);let M;e[19]!==s||e[20]!==n||e[21]!==r?(M=h.jsx("div",{className:"flex items-center justify-center",children:h.jsx(xT,{selectedDate:n,setSelectedDate:r,isLoading:s,onCalendarOpen:C,onCalendarClose:T})}),e[19]=s,e[20]=n,e[21]=r,e[22]=M):M=e[22];let L;e[23]!==n||e[24]!==r?(L=()=>{const H=new Date(n);H.setDate(H.getDate()+1),H.setHours(0,0,0,0),r(H)},e[23]=n,e[24]=r,e[25]=L):L=e[25];const R=`h-10 w-10 p-2 rounded-lg transition-all duration-200 flex items-center justify-center bg-gray-100/40 dark:bg-gray-700/40 backdrop-blur-sm border border-gray-300/30 dark:border-gray-600/30 shadow-lg hover:shadow-[0_25px_50px_-12px_rgba(0,0,0,0.8)] ${s?"opacity-50 cursor-not-allowed":"hover:bg-gray-200/50 dark:hover:bg-gray-600/50 hover:scale-105 active:scale-95"}`;let $;e[26]===Symbol.for("react.memo_cache_sentinel")?($=h.jsx("svg",{className:"w-5 h-5 text-gray-700 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e[26]=$):$=e[26];let U;e[27]!==s||e[28]!==L||e[29]!==R?(U=h.jsx("div",{className:"flex items-center justify-center",children:h.jsx("button",{onClick:L,disabled:s,className:R,"aria-label":"Next day",children:$})}),e[27]=s,e[28]=L,e[29]=R,e[30]=U):U=e[30];let q;e[31]===Symbol.for("react.memo_cache_sentinel")?(q=h.jsx("div",{className:"flex items-center justify-center",children:h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx(kT,{})})}),e[31]=q):q=e[31];let V;e[32]===Symbol.for("react.memo_cache_sentinel")?(V=h.jsx("div",{className:"flex items-center justify-center",children:h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx(RT,{})})}),e[32]=V):V=e[32];let X;e[33]===Symbol.for("react.memo_cache_sentinel")?(X=h.jsx("div",{className:"flex items-center justify-center",children:h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx(jT,{onModalOpen:()=>c(!0)})})}),e[33]=X):X=e[33];let B;e[34]!==D||e[35]!==M||e[36]!==U||e[37]!==x?(B=h.jsxs("div",{className:"flex flex-col items-center justify-start h-full p-2 gap-2",children:[x,D,M,U,q,V,X]}),e[34]=D,e[35]=M,e[36]=U,e[37]=x,e[38]=B):B=e[38];let F;e[39]!==f?(F=()=>{f(),c(!1)},e[39]=f,e[40]=F):F=e[40];let I;e[41]!==u||e[42]!==F?(I=h.jsx(Nx,{isOpen:u,onClose:F}),e[41]=u,e[42]=F,e[43]=I):I=e[43];let A;return e[44]!==B||e[45]!==I?(A=h.jsxs("div",{className:" ",children:[B,I]}),e[44]=B,e[45]=I,e[46]=A):A=e[46],A}const UT=()=>{const{user:t}=_n(),e=Ot(),[n,r]=N.useState(0),{data:s=[],isLoading:o,error:c}=pt({queryKey:["notifications",t?.id],queryFn:()=>J4(t?.id||""),enabled:!!t?.id,refetchInterval:3e4}),u=N.useMemo(()=>s.filter(S=>!S.read_at).length,[s.map(S=>`${S.id}-${S.read_at}`).join("|")]);N.useEffect(()=>{r(u)},[u]),N.useEffect(()=>{if(console.log("[notifications] effect running, user.id:",t?.id),!t?.id){console.log("[notifications] skip realtime setup: no user id");return}const S=["notifications",t.id];console.log("[notifications] setting up realtime for",t.id);const D=de.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},C=>{console.log("[notifications] INSERT",C.new),e.setQueryData(S,(T=[])=>{const M=C.new,L=String(M.id);if(T.some(q=>String(q.id)===L))return console.log("[notifications] INSERT - notification already exists, skipping"),T;const $=[M,...T],U=new Set;return $.filter(q=>{const V=String(q.id);return U.has(V)?!1:(U.add(V),!0)})})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},C=>{console.log("[notifications] UPDATE",C.new),e.setQueryData(S,(T=[])=>{const M=C.new,L=String(M.id),R=T.findIndex(U=>String(U.id)===L);if(R===-1)return console.log("[notifications] UPDATE - notification not found"),T;const $=T[R];return JSON.stringify($)===JSON.stringify(M)?(console.log("[notifications] UPDATE - no changes detected"),T):T.map(U=>String(U.id)===L?M:U)})}).on("postgres_changes",{event:"DELETE",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},C=>{console.log("[notifications] DELETE",C.old),e.setQueryData(S,(T=[])=>{const M=String(C.old.id),L=T.filter(R=>String(R.id)!==M);return L.length===T.length?(console.log("[notifications] DELETE - notification not found"),T):L})}).subscribe(C=>{console.log("[notifications] channel status",C)});return()=>{console.log("[notifications] removing channel for user:",t.id),de.removeChannel(D)}},[t?.id,e]);const f=()=>{t?.id&&e.invalidateQueries({queryKey:["notifications",t.id]})},m=Ft({mutationFn:async S=>{if(!t?.id)throw new Error("No user");return Xo(t.id,S.title,S.message,S.type,S.eventId,S.data)},onSuccess:f}),p=Ft({mutationFn:S=>e5(S),onSuccess:f}),y=Ft({mutationFn:async()=>{if(!t?.id)throw new Error("No user");return t5(t.id)},onSuccess:f}),b=Ft({mutationFn:S=>n5(S),onSuccess:f});return{notifications:s,isLoading:o,error:c,unreadCount:n,createNotification:S=>m.mutateAsync(S),markAsRead:S=>p.mutateAsync(S),markAllAsRead:()=>y.mutateAsync(),deleteNotification:S=>b.mutateAsync(S),creating:m.isPending,markingAsRead:p.isPending,markingAllAsRead:y.isPending,deleting:b.isPending}},BT=()=>{const[t,e]=N.useState(!1),{notifications:n,unreadCount:r,markAsRead:s,markAllAsRead:o,deleteNotification:c}=UT(),{isDarkMode:u}=zt(),{user:f}=_n(),m=gn(),p=N.useRef(null);N.useEffect(()=>{const D=C=>{p.current&&!p.current.contains(C.target)&&e(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const y=async D=>{if(D.read_at||await s(D.id),D.event_id&&D.type==="event_assignment")try{const{data:C,error:T}=await de.from("events").select("date").eq("id",D.event_id).single();if(T){console.error("Error fetching event data:",T);return}C?.date&&m(`/${C.date}/${D.event_id}`)}catch(C){console.error("Error navigating to event:",C)}e(!1)},b=async()=>{await o()},w=async(D,C)=>{D.stopPropagation(),await c(C)},x=async()=>{for(const D of n)await c(D.id)},k=async()=>{f?.id&&await s5(f.id)},_=D=>{try{return ex(new Date(D),{addSuffix:!0})}catch{return"Unknown time"}},S=D=>{switch(D){case"event_assignment":return h.jsx(lT,{className:"w-4 h-4"});case"setup_reminder":return h.jsx(r0,{className:"w-4 h-4"});default:return h.jsx(jv,{className:"w-4 h-4"})}};return h.jsxs("div",{className:"relative",ref:p,children:[h.jsxs("button",{onClick:()=>e(!t),className:`relative p-2 rounded-xl transition-all duration-200 bg-white/40 dark:bg-white/10 backdrop-blur-sm border border-white/20 dark:border-white/10 shadow-lg hover:shadow-xl transform hover:scale-105 ${u?"text-gray-300 hover:text-white hover:bg-white/20":"text-gray-600 hover:text-gray-900 hover:bg-white/60"}`,title:"Notifications",children:[h.jsx(jv,{className:"w-6 h-6"}),r>0&&h.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:Math.min(r,99)>99?"99+":r})]}),t&&h.jsx("div",{className:`absolute right-0 mt-2 w-80 rounded-lg shadow-xl border z-[9999] backdrop-blur-md ${u?"bg-gray-800/40 border-gray-600/30 text-white":"bg-white/40 border-gray-200/30 text-gray-900"}`,children:h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Notifications"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:k,className:`text-xs px-2 py-1 rounded flex items-center gap-1 ${u?"text-green-400 hover:text-green-300":"text-green-600 hover:text-green-700"}`,children:[h.jsx(mT,{className:"w-3 h-3"}),"Test"]}),n.length>0&&h.jsxs("button",{onClick:x,className:`text-xs px-2 py-1 rounded flex items-center gap-1 ${u?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:[h.jsx(Tv,{className:"w-3 h-3"}),"Clear all"]}),r>0&&h.jsxs("button",{onClick:b,className:`text-xs px-2 py-1 rounded flex items-center gap-1 ${u?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:[h.jsx(eT,{className:"w-3 h-3"}),"Mark all as read"]})]})]}),h.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.length===0?h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-500"}`,children:"No notifications"})}):n.map(D=>h.jsx("div",{onClick:()=>y(D),className:`p-3 rounded-lg cursor-pointer transition-colors group backdrop-blur-sm ${D.read_at?u?"bg-gray-700/80 hover:bg-gray-600/90":"bg-gray-50/80 hover:bg-gray-100/90":u?"bg-blue-900/20 hover:bg-blue-900/30 border border-blue-500/30":"bg-blue-50/80 hover:bg-blue-100/90 border border-blue-200/50"}`,children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:`mt-1 ${D.read_at?u?"text-gray-400":"text-gray-500":u?"text-blue-400":"text-blue-600"}`,children:S(D.type)}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:`font-medium text-sm ${D.read_at?u?"text-gray-300":"text-gray-900":u?"text-white":"text-gray-900"}`,children:D.title}),h.jsx("p",{className:`text-sm mt-1 ${u?"text-gray-400":"text-gray-600"}`,children:D.message}),h.jsx("p",{className:`text-xs mt-2 ${u?"text-gray-500":"text-gray-400"}`,children:_(D.created_at)})]}),h.jsx("button",{onClick:C=>w(C,D.id),className:`ml-2 p-1 rounded transition-colors ${u?"text-gray-400 hover:text-red-400":"text-gray-400 hover:text-red-600"}`,title:"Delete notification",children:h.jsx(Tv,{className:"w-3 h-3"})})]})})]})},D.id))})]})})]})};function Z0(){const t=ue.c(5);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["profiles"],queryFn:HT},t[0]=e):e=t[0];const{data:n,isLoading:r,error:s}=pt(e);let o;return t[1]!==s||t[2]!==r||t[3]!==n?(o={profiles:n,isLoading:r,error:s},t[1]=s,t[2]=r,t[3]=n,t[4]=o):o=t[4],o}async function HT(){const{data:t,error:e}=await de.from("profiles").select("*");if(e)throw e;return t||[]}function jx(t){const e=ue.c(7);let n,r;e[0]!==t?(n=["shifts",t],r=async()=>{if(!t)return[];const c=Array.isArray(t)?t:[t];console.log("Fetching shifts for dates:",c);const u=[];for(const f of c){if(!f)continue;const{data:m,error:p}=await de.from("shifts").select("*").eq("date",f);if(p)throw p;m&&u.push(...m)}return u},e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const s=!!t&&(Array.isArray(t)?t.length>0:!!t);let o;return e[3]!==n||e[4]!==r||e[5]!==s?(o={queryKey:n,queryFn:r,enabled:s},e[3]=n,e[4]=r,e[5]=s,e[6]=o):o=e[6],pt(o)}function FT(){const t=ue.c(2),e=Ot();let n;return t[0]!==e?(n={mutationFn:zT,onSuccess:(r,s)=>{s.weekDates.forEach(o=>{const c=o.toISOString().split("T")[0];e.invalidateQueries({queryKey:["shift_blocks",c]})}),e.invalidateQueries({queryKey:["shifts"]}),e.invalidateQueries({queryKey:["eventOwnership"]})}},t[0]=e,t[1]=n):n=t[1],Ft(n)}async function zT(t){const{weekDates:e,previousWeekStartDate:n}=t,r=e.map(qT);await Promise.all(r);const s=e.map(async(o,c)=>{const u=o.toISOString().split("T")[0],f=new Date(n);f.setDate(f.getDate()+c);const m=f.toISOString().split("T")[0],{data:p,error:y}=await de.from("shifts").select("*").eq("date",m);if(y)throw y;if(p&&p.length>0){const x=p.map(_=>{const{id:S,created_at:D,...C}=_;return{...C,date:u}}),{error:k}=await de.from("shifts").insert(x);if(k)throw k}const{data:b,error:w}=await de.from("shift_blocks").select("*").eq("date",m);if(w)throw w;if(b&&b.length>0){const x=b.map(_=>{const{id:S,created_at:D,...C}=_;return{...C,date:u}}),{error:k}=await de.from("shift_blocks").insert(x);if(k)throw k}});await Promise.all(s)}async function qT(t){const e=t.toISOString().split("T")[0],{error:n}=await de.from("shifts").delete().eq("date",e);if(n)throw n;const{error:r}=await de.from("shift_blocks").delete().eq("date",e);if(r)throw r}function IT(t,e,n){if(!t)return!1;const r=t.filter(c=>c.date===e),s=t.filter(c=>c.date===n);if(r.length!==s.length)return!1;const o=c=>c.map(u=>`${u.profile_id}:${u.start_time}-${u.end_time}`).sort().join("|");return o(r)===o(s)}function YT(){const t=ue.c(2),e=Ot();let n;return t[0]!==e?(n={mutationFn:KT,onSuccess:async(r,s)=>{await e.invalidateQueries({queryKey:["shift_blocks"]}),await e.invalidateQueries({queryKey:["allRoomsAssigned"]}),e.invalidateQueries({queryKey:["eventOwnership"]})},onError:QT},t[0]=e,t[1]=n):n=t[1],Ft(n)}function QT(t){console.error("❌ Failed to copy shift blocks:",t)}async function KT(t){const{data:e,error:n}=await de.from("shift_blocks").select("*").eq("date",t).order("start_time",{ascending:!0});if(n)throw n;if(!e||e.length===0)throw new Error("No shift blocks found for the source date");const{data:r,error:s}=await de.from("shifts").select("*").eq("date",t);if(s)throw s;if(!r||r.length===0)throw new Error("No shifts found for the source date");const o=new Date(t),c=new Date(o);c.setDate(o.getDate()-o.getDay()+1),c.setHours(0,0,0,0);const u=Array.from({length:7},(b,w)=>{const x=new Date(c);return x.setDate(c.getDate()+w),x.toISOString().split("T")[0]}).filter(b=>b!==t),{data:f,error:m}=await de.from("shifts").select("*").in("date",[t,...u]);if(m)throw m;const p=[];for(const b of u)IT(f||[],t,b)&&p.push(b);if(p.length===0)throw new Error("No days found with the same schedule");let y=0;for(const b of p){await de.from("shift_blocks").delete().eq("date",b);const w=e.map(k=>({date:b,start_time:k.start_time,end_time:k.end_time,assignments:k.assignments})),{error:x}=await de.from("shift_blocks").insert(w);if(x){console.error(`Failed to copy shift blocks to ${b}:`,x);continue}y++}return{copiedDays:y}}function Av(t){if(!t)return"";const[e,n]=t.split(":"),r=new Date;return r.setHours(Number(e),Number(n),0,0),r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}const VT={L:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200",1:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200",2:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-200",3:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-200",4:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-200",5:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200",7:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/30 dark:text-cyan-200",9:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-200",0:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-200"};function WT(t){if(!t||t.length<4)return"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-200";const e=t[3];return VT[e]||"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-200"}function GT(t){return t.startsWith("GH ")?t.slice(3):t}ee.createContext(null);function Tx(t){const e=ue.c(9),{room:n,isSelected:r,selectionContext:s}=t;let o;e[0]!==n||e[1]!==s?(o=p=>{p.preventDefault(),p.stopPropagation(),console.log("🔍 Room clicked:",n,"Shift key:",p.shiftKey,"Ctrl key:",p.ctrlKey),s.selectRoom(n,p)},e[0]=n,e[1]=s,e[2]=o):o=e[2];const c=o,u=`inline-block px-2 py-1 text-xs rounded-lg cursor-pointer transition-all duration-200 backdrop-blur-sm shadow-sm select-none ${WT(n)} ${r?"ring-2 ring-blue-500 scale-105 bg-blue-100/80 dark:bg-blue-900/60 shadow-md":"hover:scale-105 hover:shadow-md"}`;let f;e[3]!==n?(f=GT(n),e[3]=n,e[4]=f):f=e[4];let m;return e[5]!==c||e[6]!==u||e[7]!==f?(m=h.jsx("span",{onClick:c,className:u,children:f}),e[5]=c,e[6]=u,e[7]=f,e[8]=m):m=e[8],m}function XT(t){const e=ue.c(2),{userId:n}=t,{data:r}=il(n),s=r?.name||n;let o;return e[0]!==s?(o=h.jsx("span",{className:"select-none",children:s}),e[0]=s,e[1]=o):o=e[1],o}function ZT(t){const e=ue.c(13),{selectedCount:n,onMoveToUser:r,onMoveToRooms:s,availableUsers:o}=t,[c,u]=N.useState(!1);if(n===0)return null;let f;e[0]!==c?(f=()=>u(!c),e[0]=c,e[1]=f):f=e[1];let m;e[2]!==n||e[3]!==f?(m=h.jsxs("button",{onClick:f,className:"px-3 py-1 bg-blue-600/90 text-white text-xs rounded-lg hover:bg-blue-700/90 transition-all duration-200 backdrop-blur-sm border border-blue-500/50 shadow-md select-none",children:["Move ",n," selected"]}),e[2]=n,e[3]=f,e[4]=m):m=e[4];let p;e[5]!==o||e[6]!==s||e[7]!==r||e[8]!==c?(p=c&&h.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg border border-gray-200/50 dark:border-gray-700/50 rounded-lg shadow-xl z-50 min-w-[150px] select-none",children:[h.jsx("div",{className:"p-2 border-b border-gray-200/50 dark:border-gray-700/50",children:h.jsx("button",{onClick:()=>{s(),u(!1)},className:"w-full text-left px-2 py-1 text-sm hover:bg-gray-100/80 dark:hover:bg-gray-700/80 rounded transition-all duration-200 backdrop-blur-sm select-none",children:"Move to Unassigned"})}),o.map(b=>h.jsx("div",{className:"p-2",children:h.jsxs("button",{onClick:()=>{r(b),u(!1)},className:"w-full text-left px-2 py-1 text-sm hover:bg-gray-100/80 dark:hover:bg-gray-700/80 rounded transition-all duration-200 backdrop-blur-sm select-none",children:["Move to ",h.jsx(XT,{userId:b})]})},b))]}),e[5]=o,e[6]=s,e[7]=r,e[8]=c,e[9]=p):p=e[9];let y;return e[10]!==m||e[11]!==p?(y=h.jsxs("div",{className:"relative",children:[m,p]}),e[10]=m,e[11]=p,e[12]=y):y=e[12],y}function JT(t){const e=ue.c(23),{userId:n,rooms:r,hasAllRooms:s,selectionContext:o,isInSelectionMode:c}=t,{data:u}=il(n||"");if(!n)return console.warn("ShiftBlockAssignment: userId is undefined or null"),null;const f=`flex flex-col p-3 rounded-lg border-2 transition-all duration-200 backdrop-blur-sm select-none ${s?"border-green-300 bg-green-50/70 dark:bg-green-900/30":"border-gray-200/50 dark:border-gray-700/50 bg-white/70 dark:bg-gray-800/70"}`;let m;e[0]!==n?(m=h.jsx(_i,{userId:n,size:"sm"}),e[0]=n,e[1]=m):m=e[1];const p=u?.name||n;let y;e[2]!==p?(y=h.jsx("span",{className:"font-medium text-gray-900 dark:text-white select-none",children:p}),e[2]=p,e[3]=y):y=e[3];let b;e[4]!==s?(b=s&&h.jsx("span",{className:"px-1 py-0.5 text-xs bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200 rounded select-none",children:"All Rooms"}),e[4]=s,e[5]=b):b=e[5];let w;e[6]!==m||e[7]!==y||e[8]!==b?(w=h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m,y,b]}),e[6]=m,e[7]=y,e[8]=b,e[9]=w):w=e[9];let x;if(e[10]!==c||e[11]!==r||e[12]!==o){let S;e[14]!==c||e[15]!==o?(S=D=>h.jsx(Tx,{room:D,isSelected:o.isSelected(D),selectionContext:o,isInSelectionMode:c},D),e[14]=c,e[15]=o,e[16]=S):S=e[16],x=r.map(S),e[10]=c,e[11]=r,e[12]=o,e[13]=x}else x=e[13];let k;e[17]!==x?(k=h.jsx("div",{className:"flex flex-wrap gap-1",children:x}),e[17]=x,e[18]=k):k=e[18];let _;return e[19]!==f||e[20]!==w||e[21]!==k?(_=h.jsxs("div",{className:f,children:[w,k]}),e[19]=f,e[20]=w,e[21]=k,e[22]=_):_=e[22],_}function e6(t){const e=ue.c(10),{rooms:n,selectionContext:r,isInSelectionMode:s}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=h.jsx("div",{className:"flex items-center gap-2 mb-2",children:h.jsx("span",{className:"font-medium text-gray-900 dark:text-white select-none",children:"Rooms:"})}),e[0]=o):o=e[0];let c;if(e[1]!==s||e[2]!==n||e[3]!==r){let f;e[5]!==s||e[6]!==r?(f=m=>h.jsx(Tx,{room:m,isSelected:r.isSelected(m),selectionContext:r,isInSelectionMode:s},m),e[5]=s,e[6]=r,e[7]=f):f=e[7],c=n.map(f),e[1]=s,e[2]=n,e[3]=r,e[4]=c}else c=e[4];let u;return e[8]!==c?(u=h.jsxs("div",{className:"p-3 rounded-lg border-2 transition-all duration-200 min-h-[60px] backdrop-blur-sm border-gray-200/50 dark:border-gray-700/50 bg-white/70 dark:bg-gray-800/70 select-none",children:[o,h.jsx("div",{className:"flex flex-wrap gap-1",children:c})]}),e[8]=c,e[9]=u):u=e[9],u}const t6=({block:t,allBlocks:e,onHeaderDrag:n})=>{const r=i5(),{rooms:s}=T0(),[o,c]=N.useState(t.assignments||[]),[u,f]=N.useState(new Set),[m,p]=N.useState(null),[y,b]=N.useState(!1);ee.useEffect(()=>{c(t.assignments||[])},[t.assignments]);const[w,x]=N.useState(!1),[k,_]=N.useState({x:0,y:0}),S=()=>{const F=A=>{(A.shiftKey||A.ctrlKey||A.metaKey)&&b(!0)},I=A=>{!A.shiftKey&&!A.ctrlKey&&!A.metaKey&&b(!1)};document.addEventListener("keydown",F),document.addEventListener("keyup",I),S.cleanup=()=>{document.removeEventListener("keydown",F),document.removeEventListener("keyup",I)}},D=()=>{b(!1),S.cleanup&&(S.cleanup(),S.cleanup=null)},C=F=>{if(!n)return;const I=F.target===F.currentTarget,A=F.target.tagName==="H5";(I||A)&&(x(!0),_({x:F.clientX,y:F.clientY}),F.preventDefault())};ee.useEffect(()=>{if(w&&n){const F=A=>{const H=A.clientX-k.x,z=A.clientY-k.y;n(H,z)},I=()=>{x(!1)};return document.addEventListener("mousemove",F),document.addEventListener("mouseup",I),()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",I)}}},[w,k,n]);const T=new Set;o.forEach(F=>{F.rooms?.forEach(I=>T.add(I))});const L=(s?.filter(F=>!!F)||[]).filter(F=>!T.has(F)),R=o.length===1&&L.length===0,$=o.map(F=>F.user),U=(F,I)=>{if(console.log("🎯 selectRoom called:",F,"Shift:",I.shiftKey,"Ctrl:",I.ctrlKey,"Last selected:",m,"Current selection size:",u.size),(I.shiftKey||I.ctrlKey||I.metaKey)&&b(!0),I.shiftKey&&m){console.log("🔄 Shift+Click range selection");const A=[...o.flatMap(te=>te.rooms||[]),...L],H=A.indexOf(m),z=A.indexOf(F);if(console.log("📍 Room indices:",{lastIndex:H,currentIndex:z,allRoomsInBlock:A}),H!==-1&&z!==-1){const te=Math.min(H,z),O=Math.max(H,z),K=A.slice(te,O+1);console.log("📋 Range rooms:",K);const re=new Set(u);K.forEach(ne=>re.add(ne)),console.log("📋 New selection:",Array.from(re)),f(re)}}else if(I.ctrlKey||I.metaKey){console.log("🔄 Ctrl+Click toggle selection");const A=new Set(u);A.has(F)?(A.delete(F),console.log("❌ Removed from selection:",F)):(A.add(F),console.log("✅ Added to selection:",F)),console.log("📋 New selection:",Array.from(A)),f(A)}else console.log("🔄 Regular click single selection"),f(new Set([F])),b(!1);p(F)},q=()=>{f(new Set),p(null),b(!1)},V=F=>u.has(F),X=F=>{if(u.size===0)return;let I=[...o];F===null?I=o.map(z=>({...z,rooms:z.rooms.filter(te=>!u.has(te))})):I=o.map(z=>z.user===F?{...z,rooms:Array.from(new Set([...z.rooms||[],...Array.from(u)]))}:{...z,rooms:z.rooms.filter(te=>!u.has(te))}),c(I),q();const H=e.map(z=>z.id===t.id?{...z,assignments:I}:z).map(z=>({date:z.date,start_time:z.start_time,end_time:z.end_time,assignments:z.assignments}));r.mutate({date:t.date,newBlocks:H},{onSuccess:z=>{console.log("✅ Shift blocks updated successfully:",z)},onError:z=>{console.error("❌ Failed to update shift blocks:",z),c(t.assignments||[])}})},B={selectedRooms:u,lastSelectedRoom:m,selectRoom:U,clearSelection:q,isSelected:V,moveSelectedRooms:X};return h.jsxs("div",{className:`p-4 bg-gray-50/60 dark:bg-gray-900/60 backdrop-blur-lg rounded-xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg transition-all duration-200 select-none ${w?"cursor-grabbing":"cursor-grab"}`,onMouseEnter:S,onMouseLeave:D,onMouseDown:C,onClick:F=>{F.target===F.currentTarget&&q()},children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h5",{className:`font-medium text-gray-900 dark:text-white transition-all duration-200 select-none ${w?"cursor-grabbing":"cursor-grab"} ${n?"hover:bg-gray-200/50 dark:hover:bg-gray-700/50 px-2 py-1 rounded":""}`,onMouseDown:C,children:[Av(t.start_time)," - ",Av(t.end_time)]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(ZT,{selectedCount:u.size,onMoveToUser:F=>X(F),onMoveToRooms:()=>X(null),availableUsers:$})})]}),h.jsxs("div",{className:"space-y-3",children:[o.map((F,I)=>h.jsx(JT,{userId:F.user,rooms:F.rooms||[],hasAllRooms:R&&o.length===1,selectionContext:B,isInSelectionMode:y},`${F.user}-${I}`)),h.jsx(e6,{rooms:L,selectionContext:B,isInSelectionMode:y})]})]})},n6=t=>{const e=ue.c(14),{date:n}=t,{data:r,isLoading:s,error:o}=sl(n),c=N.useRef(null);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=(k,_)=>{c.current&&(c.current.scrollLeft=c.current.scrollLeft-k,c.current.scrollTop=c.current.scrollTop-_)},e[0]=u):u=e[0];const f=u;let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=h.jsx("h4",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white select-none",children:"Shift Blocks"}),e[1]=m):m=e[1];let p;e[2]!==s?(p=s&&h.jsx("div",{className:"text-gray-500 dark:text-gray-400 p-4 rounded-lg bg-gray-100/50 dark:bg-gray-800/50 backdrop-blur-sm select-none",children:"Loading shift blocks…"}),e[2]=s,e[3]=p):p=e[3];let y;e[4]!==o?(y=o&&h.jsx("div",{className:"text-red-500 dark:text-red-400 p-4 rounded-lg bg-red-100/50 dark:bg-red-900/20 backdrop-blur-sm border border-red-300/50 dark:border-red-700/50 select-none",children:"Error loading shift blocks"}),e[4]=o,e[5]=y):y=e[5];let b;e[6]!==r||e[7]!==o||e[8]!==s?(b=!s&&!o&&h.jsxs("div",{ref:c,className:"flex flex-row gap-4 overflow-x-auto pb-4",children:[r&&r.length===0&&h.jsx("div",{className:"text-gray-400 dark:text-gray-500 p-4 rounded-lg bg-gray-100/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-300/30 dark:border-gray-700/30 select-none",children:"No shift blocks for this day."}),r&&r.map(k=>h.jsx("div",{className:"w-[300px] flex-shrink-0",children:h.jsx(t6,{block:k,allBlocks:r,onHeaderDrag:f})},k.id))]}),e[6]=r,e[7]=o,e[8]=s,e[9]=b):b=e[9];let w;return e[10]!==p||e[11]!==y||e[12]!==b?(w=h.jsxs("div",{className:"mt-10 select-none",children:[m,p,y,b]}),e[10]=p,e[11]=y,e[12]=b,e[13]=w):w=e[13],w};function r6(t,e){if(t.length===0)return[];const n=t.filter(c=>c.start_time&&c.end_time&&c.start_time!==c.end_time).sort((c,u)=>c.start_time.localeCompare(u.start_time));if(n.length===0)return[];console.log("🔍 Input shifts:",n.map(c=>({profile_id:c.profile_id,start_time:c.start_time,end_time:c.end_time})));const r=new Set;n.forEach(c=>{const u=f=>{if(f.includes(":")){const m=f.split(":");if(m.length===2)return`${m[0]}:${m[1]}:00`}return f};r.add(u(c.start_time)),r.add(u(c.end_time))});const s=Array.from(r).sort();console.log("🔍 Time points:",s);const o=[];for(let c=0;c<s.length-1;c++){const u=s[c],f=s[c+1];if(u===f){console.log(`⚠️ Skipping identical times: ${u}`);continue}const m=new Set;if(console.log(`🔍 Checking overlap for block: ${u} - ${f}`),n.forEach(p=>{const y=p.start_time,b=p.end_time;console.log(`  📋 Shift: ${p.profile_id} (${y} - ${b})`);const w=M=>{if(M.includes(":")){const L=M.split(":");if(L.length===2)return`${L[0]}:${L[1]}:00`}return M},x=w(y),k=w(b),_=w(u),S=w(f);console.log(`    🔧 Normalized: ${x} - ${k} vs block ${_} - ${S}`);const D=x<S,C=k>_,T=D&&C;console.log(`    ✅ Condition 1 (${x} < ${S}): ${D}`),console.log(`    ✅ Condition 2 (${k} > ${_}): ${C}`),console.log(`    🎯 Overlaps: ${T}`),T&&(m.add(p.profile_id),console.log(`    👤 Added ${p.profile_id} to working users`))}),console.log(`📊 Final working users for ${u} - ${f}:`,Array.from(m)),m.size>0){const p=Array.from(m).map(y=>({user:y,rooms:[]}));o.push({date:e,start_time:u,end_time:f,assignments:p}),console.log(`✅ Created block: ${u} - ${f} with ${m.size} users`)}}return console.log("🔍 Final blocks:",o.map(c=>({start_time:c.start_time,end_time:c.end_time,users:Array.isArray(c.assignments)?c.assignments.map(u=>u.user):[]}))),o}async function Rv(t){try{console.log("🔄 Updating shift blocks for date:",t);const{data:e,error:n}=await de.from("shifts").select("*").eq("date",t);if(n)throw console.error("Error fetching shifts for shift block update:",n),n;console.log("📋 Current shifts for date:",e);const{error:r}=await de.from("shift_blocks").delete().eq("date",t);if(r)throw console.error("Error deleting existing shift blocks:",r),r;console.log("🗑️ Deleted existing shift blocks for date:",t);const s=r6(e||[],t);if(console.log("🧮 Calculated new shift blocks:",s),s.length>0){const{error:o}=await de.from("shift_blocks").insert(s);if(o)throw console.error("Error inserting new shift blocks:",o),o;console.log("✅ Inserted new shift blocks:",s.length)}else console.log("ℹ️ No shift blocks to insert (no overlapping shifts)")}catch(e){throw console.error("❌ Error updating shift blocks:",e),e}}function a6(){const t=ue.c(2),e=Ot();let n;return t[0]!==e?(n={mutationFn:i6,onSuccess:async(r,s)=>{console.log("Shift mutation success, invalidating queries for date:",s.date),await e.invalidateQueries({queryKey:["shifts"]}),await e.invalidateQueries({queryKey:["shift_blocks",s.date]}),await e.invalidateQueries({queryKey:["shifts"],predicate:s6}),e.invalidateQueries({queryKey:["eventOwnership"]})}},t[0]=e,t[1]=n):n=t[1],Ft(n)}function s6(t){const e=t.queryKey;return e[0]==="shifts"&&Array.isArray(e[1])}async function i6(t){if(!t.profile_id||!t.date)throw new Error("profile_id and date are required");console.log("Creating/updating shift:",t);const{error:e}=await de.from("shifts").delete().eq("profile_id",t.profile_id).eq("date",t.date);if(e)throw console.error("Error deleting existing shifts:",e),e;if(t.start_time&&t.end_time){console.log("Creating new shift");const{data:n,error:r}=await de.from("shifts").insert([t]).select();if(r)throw r;return console.log("Shift operation result:",n),await Rv(t.date),n}else return console.log("Shift cleared (no start/end time provided)"),await Rv(t.date),[]}function hu(t){if(!t)return"";const[e,n]=t.split(":"),r=new Date;return r.setHours(Number(e),Number(n),0,0),r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}function Lv(t){return t?t.split(":").slice(0,2).join(":"):"06:00"}function o6(t){return new Date(t+"T00:00:00").toLocaleDateString(void 0,{month:"numeric",day:"numeric"})}function l6(t){return new Date(t+"T00:00:00").toLocaleDateString(void 0,{weekday:"short"})}const c6=t=>{const e=ue.c(73),{dates:n,selectedDate:r,onDateSelect:s,className:o}=t,c=o===void 0?"":o,{isDarkMode:u}=zt(),{profiles:f,isLoading:m,error:p}=Z0(),{data:y,isLoading:b,error:w}=jx(n),x=a6(),[k,_]=N.useState(null),[S,D]=N.useState("06:00"),[C,T]=N.useState("07:00");let M,L;if(e[0]!==c||e[1]!==n||e[2]!==k||e[3]!==u||e[4]!==C||e[5]!==S||e[6]!==s||e[7]!==f||e[8]!==p||e[9]!==m||e[10]!==r||e[11]!==y||e[12]!==w||e[13]!==b||e[14]!==x){L=Symbol.for("react.early_return_sentinel");e:{const R=[];for(let ie=6;ie<=23;ie++)R.push(`${ie.toString().padStart(2,"0")}:00`),ie!==23&&R.push(`${ie.toString().padStart(2,"0")}:30`);let $;e[17]!==y?($=(ie,me)=>y?.find(fe=>fe.profile_id===ie&&fe.date===me),e[17]=y,e[18]=$):$=e[18];const U=$;let q;e[19]!==U?(q=(ie,me)=>{const fe=U(ie,me);D(Lv(fe?.start_time)||"06:00"),T(Lv(fe?.end_time)||"07:00"),_({profileId:ie,date:me})},e[19]=U,e[20]=q):q=e[20];const V=q;let X;e[21]===Symbol.for("react.memo_cache_sentinel")?(X=()=>_(null),e[21]=X):X=e[21];const B=X;let F;e[22]!==k||e[23]!==C||e[24]!==S||e[25]!==x?(F=()=>{k&&x.mutate({profile_id:k.profileId,date:k.date,start_time:S,end_time:C},{onSuccess:()=>{B()},onError:u6})},e[22]=k,e[23]=C,e[24]=S,e[25]=x,e[26]=F):F=e[26];const I=F;let A;e[27]!==k||e[28]!==x?(A=()=>{k&&x.mutate({profile_id:k.profileId,date:k.date,start_time:null,end_time:null},{onSuccess:()=>{B()},onError:d6})},e[27]=k,e[28]=x,e[29]=A):A=e[29];const H=A;if(m||b){const ie=`flex items-center justify-center p-8 ${c}`;let me;e[30]===Symbol.for("react.memo_cache_sentinel")?(me=h.jsx("div",{className:"text-lg text-gray-500 dark:text-gray-300",children:"Loading schedule..."}),e[30]=me):me=e[30];let fe;e[31]!==ie?(fe=h.jsx("div",{className:ie,children:me}),e[31]=ie,e[32]=fe):fe=e[32],L=fe;break e}if(p||w){const ie=`flex items-center justify-center p-8 ${c}`;let me;e[33]===Symbol.for("react.memo_cache_sentinel")?(me=h.jsx("div",{className:"text-lg text-red-500",children:"Error loading schedule data"}),e[33]=me):me=e[33];let fe;e[34]!==ie?(fe=h.jsx("div",{className:ie,children:me}),e[34]=ie,e[35]=fe):fe=e[35],L=fe;break e}let z,te,O,K,re;if(e[36]!==c||e[37]!==n||e[38]!==U||e[39]!==u||e[40]!==s||e[41]!==V||e[42]!==f||e[43]!==r){const ie=f?.filter(f6)||[];K=c,O="overflow-x-auto w-full",z=`min-w-full border border-gray-400/30 dark:border-gray-600/30 rounded-xl overflow-hidden table-fixed backdrop-blur-sm bg-white/5 dark:bg-gray-800/5 ${u?"text-white":"text-gray-900"}`;let me;e[49]===Symbol.for("react.memo_cache_sentinel")?(me=h.jsx("th",{className:"px-4 py-2 bg-gray-200/20 dark:bg-gray-700/20 backdrop-blur-sm text-left border border-gray-400/30 dark:border-gray-600/30 w-40",children:"Name"}),e[49]=me):me=e[49];let fe;if(e[50]!==n||e[51]!==s||e[52]!==r){let Me;e[54]!==s||e[55]!==r?(Me=Ne=>h.jsx("th",{className:`px-2 py-2 text-center border border-gray-400/30 dark:border-gray-600/30 cursor-pointer transition-all duration-200 ${r===Ne?"bg-purple-600/90 text-white backdrop-blur-sm":"bg-gray-200/20 dark:bg-gray-700/20 text-gray-700 dark:text-gray-200 backdrop-blur-sm hover:bg-gray-300/30 dark:hover:bg-gray-600/30"}`,onClick:()=>s?.(Ne),children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("span",{className:"font-semibold",children:l6(Ne)}),h.jsx("span",{className:"text-xs",children:o6(Ne)})]})},Ne),e[54]=s,e[55]=r,e[56]=Me):Me=e[56],fe=n.map(Me),e[50]=n,e[51]=s,e[52]=r,e[53]=fe}else fe=e[53];e[57]!==fe?(te=h.jsx("thead",{children:h.jsxs("tr",{children:[me,fe]})}),e[57]=fe,e[58]=te):te=e[58];let Re;e[59]!==n||e[60]!==U||e[61]!==V||e[62]!==r?(Re=Me=>h.jsxs("tr",{className:"border-t border-gray-400 dark:border-gray-600",children:[h.jsx("td",{className:"px-4 py-2 font-medium whitespace-nowrap border border-gray-400/30 dark:border-gray-600/30 bg-white/5 dark:bg-gray-800/5 backdrop-blur-sm",children:Me.name||Me.id}),n.map(Ne=>{const Le=U(Me.id,Ne);return h.jsx("td",{className:`px-2 py-2 text-center border border-gray-400/30 dark:border-gray-600/30 cursor-pointer hover:bg-purple-100/30 dark:hover:bg-purple-900/15 transition-all duration-200 backdrop-blur-sm ${r===Ne?"bg-purple-100/30 dark:bg-purple-900/15":"bg-white/5 dark:bg-gray-800/5"}`,onClick:()=>V(Me.id,Ne),children:Le&&Le.start_time&&Le.end_time?h.jsxs("span",{className:"text-xs flex flex-col items-center justify-center",children:[h.jsx("span",{children:hu(Le.start_time)}),h.jsx("span",{children:hu(Le.end_time)})]}):h.jsx("span",{className:"text-gray-400 text-xs",children:"—"})},Ne)})]},Me.id),e[59]=n,e[60]=U,e[61]=V,e[62]=r,e[63]=Re):Re=e[63],re=ie.map(Re),e[36]=c,e[37]=n,e[38]=U,e[39]=u,e[40]=s,e[41]=V,e[42]=f,e[43]=r,e[44]=z,e[45]=te,e[46]=O,e[47]=K,e[48]=re}else z=e[44],te=e[45],O=e[46],K=e[47],re=e[48];let ne;e[64]!==re?(ne=h.jsx("tbody",{children:re}),e[64]=re,e[65]=ne):ne=e[65];let ce;e[66]!==z||e[67]!==te||e[68]!==ne?(ce=h.jsxs("table",{className:z,children:[te,ne]}),e[66]=z,e[67]=te,e[68]=ne,e[69]=ce):ce=e[69];let le;e[70]!==O||e[71]!==ce?(le=h.jsx("div",{className:O,children:ce}),e[70]=O,e[71]=ce,e[72]=le):le=e[72],M=h.jsxs("div",{className:K,children:[le,k&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-[10000]",onClick:B,children:h.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl border border-gray-300/50 dark:border-gray-700/50 rounded-xl shadow-2xl p-8 w-full max-w-xs mx-4",onClick:h6,children:[h.jsx("h4",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Set Time Range"}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Start Time"}),h.jsx("select",{className:"w-full p-2 rounded-lg border border-gray-300/50 dark:border-gray-600/50 bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm text-gray-900 dark:text-white transition-all duration-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20",value:S,onChange:ie=>D(ie.target.value),disabled:x.isPending,children:R.map(m6)})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"End Time"}),h.jsx("select",{className:"w-full p-2 rounded-lg border border-gray-300/50 dark:border-gray-600/50 bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm text-gray-900 dark:text-white transition-all duration-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20",value:C,onChange:ie=>T(ie.target.value),disabled:x.isPending,children:R.map(p6)})]}),x.isError&&h.jsx("div",{className:"mb-2 text-red-600 text-sm",children:"Error saving shift. Please try again."}),x.isPending&&h.jsxs("div",{className:"mt-2 text-purple-600 text-sm flex items-center",children:[h.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Saving shift..."]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("button",{onClick:H,className:"px-4 py-2 text-sm font-medium rounded-lg text-red-600 dark:text-red-400 bg-red-100/80 dark:bg-red-900/30 backdrop-blur-sm hover:bg-red-200/80 dark:hover:bg-red-900/50 transition-all duration-200 border border-red-300/50 dark:border-red-700/50",disabled:x.isPending,children:"Clear"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:B,className:"px-4 py-2 text-sm font-medium rounded-lg text-gray-600 dark:text-gray-300 bg-gray-200/80 dark:bg-gray-700/80 backdrop-blur-sm hover:bg-gray-300/80 dark:hover:bg-gray-600/80 transition-all duration-200 border border-gray-300/50 dark:border-gray-600/50",disabled:x.isPending,children:"Cancel"}),h.jsx("button",{onClick:I,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-purple-600/90 backdrop-blur-sm hover:bg-purple-700/90 disabled:opacity-60 transition-all duration-200 border border-purple-500/50",disabled:x.isPending,children:x.isPending?"Saving...":"Save"})]})]})]})})]})}e[0]=c,e[1]=n,e[2]=k,e[3]=u,e[4]=C,e[5]=S,e[6]=s,e[7]=f,e[8]=p,e[9]=m,e[10]=r,e[11]=y,e[12]=w,e[13]=b,e[14]=x,e[15]=M,e[16]=L}else M=e[15],L=e[16];return L!==Symbol.for("react.early_return_sentinel")?L:M};function u6(t){console.error("Shift create/update error:",t)}function d6(t){console.error("Shift clear error:",t)}function f6(t){return t.roles&&Array.isArray(t.roles)&&t.roles.includes("TECHNICIAN")}function h6(t){return t.stopPropagation()}function m6(t){return h.jsx("option",{value:t,children:hu(t)},t)}function p6(t){return h.jsx("option",{value:t,children:hu(t)},t)}function g6(t){const n=(8-t.getDay())%7||7,r=new Date(t);return r.setDate(t.getDate()+n),r}const y6=t=>{const e=ue.c(77),{isOpen:n,onClose:r}=t,{isDarkMode:s}=zt(),{isLoading:o,error:c}=Z0(),{isLoading:u}=T0(),f=new Date,[m,p]=N.useState("next"),[y,b]=N.useState(0);let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w=function(ve){const tn=(ve.getDay()+6)%7,qt=new Date(ve);return qt.setDate(ve.getDate()-tn),qt.setHours(0,0,0,0),qt},e[0]=w):w=e[0];const k=w(f),_=g6(f),S=m==="this"?k:_,D=S.getFullYear()+"-"+String(S.getMonth()+1).padStart(2,"0")+"-"+String(S.getDate()).padStart(2,"0");new Date(S.getTime()+5184e5);const C=Array.from({length:7},(Ue,ve)=>{const gt=new Date(S);return gt.setDate(S.getDate()+ve),gt}),T=C[y].toISOString().split("T")[0],M=C.map(b6),{isLoading:L,error:R}=jx(M),$=YT(),U=FT(),[q,V]=N.useState(!1),[X,B]=N.useState(!1),[F,I]=N.useState(null);let A,H;e[1]!==F?(A=()=>{if(!F)return;const Ue=setTimeout(()=>I(null),3e3);return()=>clearTimeout(Ue)},H=[F],e[1]=F,e[2]=A,e[3]=H):(A=e[2],H=e[3]),N.useEffect(A,H);let z;e[4]!==$||e[5]!==y||e[6]!==C?(z=()=>{const Ue=C[y].toISOString().split("T")[0];B(!0),$.mutate(Ue,{onSuccess:ve=>{console.log(`✅ Copied shift blocks to ${ve.copiedDays} days with same schedule`),I({type:"success",text:`Copied shift blocks to ${ve.copiedDays} day(s).`}),B(!1)},onError:ve=>{console.error("❌ Failed to copy shift blocks:",ve),I({type:"error",text:ve.message||"Failed to copy shift blocks. Please try again."}),B(!1)}})},e[4]=$,e[5]=y,e[6]=C,e[7]=z):z=e[7];const te=z;let O;e[8]!==U||e[9]!==C||e[10]!==D?(O=()=>{const Ue=new Date(D+"T00:00:00"),ve=new Date(Ue);ve.setDate(ve.getDate()-7),V(!0),U.mutate({weekDates:C,previousWeekStartDate:ve},{onSuccess:()=>{V(!1)},onError:gt=>{console.error("Failed to copy schedule from previous week:",gt),V(!1)}})},e[8]=U,e[9]=C,e[10]=D,e[11]=O):O=e[11];const K=O;if(!n)return null;const re=`max-w-6xl w-full mx-4 max-h-[95vh] overflow-y-auto rounded-xl shadow-2xl backdrop-blur-xl border ${s?"bg-gray-900/10 text-white border-white/20":"bg-white/10 text-gray-900 border-gray-300/20"}`,ne=`flex flex-col gap-0 border-b backdrop-blur-sm ${s?"border-white/10 bg-gray-800/5":"border-gray-200/20 bg-white/5"}`;let ce;e[12]===Symbol.for("react.memo_cache_sentinel")?(ce=h.jsx("h2",{className:"text-2xl font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Session Assignments"}),e[12]=ce):ce=e[12];const le=`p-2 rounded-full transition-all duration-200 hover:scale-110 ${s?"text-gray-300 hover:text-white hover:bg-white/10":"text-gray-600 hover:text-gray-900 hover:bg-black/10"}`;let ie;e[13]===Symbol.for("react.memo_cache_sentinel")?(ie=h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e[13]=ie):ie=e[13];let me;e[14]!==r||e[15]!==le?(me=h.jsxs("div",{className:"flex justify-between items-center px-6 pt-6 pb-2",children:[ce,h.jsx("button",{onClick:r,className:le,children:ie})]}),e[14]=r,e[15]=le,e[16]=me):me=e[16];const fe=`px-4 py-2 rounded-t-lg font-medium text-sm focus:outline-none transition-all duration-200 ${m==="this"?"bg-purple-600/90 text-white backdrop-blur-sm":"bg-gray-200/50 dark:bg-gray-700/50 text-gray-700 dark:text-gray-200 backdrop-blur-sm hover:bg-gray-300/50 dark:hover:bg-gray-600/50"}`;let Re;e[17]!==p?(Re=()=>p("this"),e[17]=p,e[18]=Re):Re=e[18];let Me;e[19]!==fe||e[20]!==Re?(Me=h.jsx("button",{className:fe,onClick:Re,children:"This Week"}),e[19]=fe,e[20]=Re,e[21]=Me):Me=e[21];const Ne=`px-4 py-2 rounded-t-lg font-medium text-sm focus:outline-none transition-all duration-200 ${m==="next"?"bg-purple-600/90 text-white backdrop-blur-sm":"bg-gray-200/50 dark:bg-gray-700/50 text-gray-700 dark:text-gray-200 backdrop-blur-sm hover:bg-gray-300/50 dark:hover:bg-gray-600/50"}`;let Le;e[22]!==p?(Le=()=>p("next"),e[22]=p,e[23]=Le):Le=e[23];let rt;e[24]!==Ne||e[25]!==Le?(rt=h.jsx("button",{className:Ne,onClick:Le,children:"Next Week"}),e[24]=Ne,e[25]=Le,e[26]=rt):rt=e[26];let We;e[27]!==Me||e[28]!==rt?(We=h.jsxs("div",{className:"flex justify-center pb-2 gap-2",children:[Me,rt]}),e[27]=Me,e[28]=rt,e[29]=We):We=e[29];let ot;e[30]!==me||e[31]!==We||e[32]!==ne?(ot=h.jsxs("div",{className:ne,children:[me,We]}),e[30]=me,e[31]=We,e[32]=ne,e[33]=ot):ot=e[33];let Qe;e[34]!==F?(Qe=F&&h.jsxs("div",{className:`absolute top-4 right-4 z-50 px-4 py-2 rounded-md shadow-md text-sm flex items-center gap-2 
              ${F.type==="success"?"bg-green-600 text-white":""}
              ${F.type==="error"?"bg-red-600 text-white":""}
              ${F.type==="info"?"bg-gray-800 text-white":""}
            `,children:[F.type==="success"&&h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),F.type==="error"&&h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),F.type==="info"&&h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M12 20a8 8 0 100-16 8 8 0 000 16z"})}),h.jsx("span",{children:F.text})]}),e[34]=F,e[35]=Qe):Qe=e[35];let $e;e[36]!==q?($e=q&&h.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 rounded-lg",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl flex flex-col items-center gap-4",children:[h.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-600",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Copying Schedule"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Copying shifts and room assignments from last week..."})]})]})}),e[36]=q,e[37]=$e):$e=e[37];let pe;e[38]!==o||e[39]!==u||e[40]!==L?(pe=(o||L||u)&&h.jsx("span",{className:"text-lg text-gray-500 dark:text-gray-300",children:"Loading…"}),e[38]=o,e[39]=u,e[40]=L,e[41]=pe):pe=e[41];let _e;e[42]!==c||e[43]!==R?(_e=(c||R)&&h.jsx("span",{className:"text-lg text-red-500",children:"Error loading data"}),e[42]=c,e[43]=R,e[44]=_e):_e=e[44];let Oe;e[45]!==M||e[46]!==K||e[47]!==te||e[48]!==q||e[49]!==X||e[50]!==c||e[51]!==o||e[52]!==T||e[53]!==b||e[54]!==R||e[55]!==L?(Oe=!o&&!L&&!c&&!R&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mb-4 flex justify-start gap-4",children:h.jsx("button",{onClick:K,disabled:q,className:"px-2 py-1 text-blue-600 hover:text-blue-700 disabled:opacity-60 text-sm transition-colors flex items-center gap-2 underline",children:q?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Copying schedule and room assignments..."]}):h.jsxs(h.Fragment,{children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2v0a2 2 0 01-2-2V8a2 2 0 00-2-2H9a2 2 0 00-2 2v5.172a2 2 0 00.586 1.414l4.414 4.414A2 2 0 0012.828 18H14"})}),"Copy schedule from last week into this week"]})})}),h.jsx(c6,{dates:M,selectedDate:T,onDateSelect:Ue=>{const ve=M.indexOf(Ue);ve!==-1&&b(ve)},className:"w-full"}),h.jsx(n6,{date:T}),h.jsx("div",{className:"mt-4 flex justify-center",children:h.jsx("button",{onClick:te,disabled:X,className:"px-6 py-3 bg-green-600 hover:bg-green-700 disabled:opacity-60 text-white font-medium rounded-lg shadow-md transition-colors flex items-center gap-2",children:X?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Copying shift blocks..."]}):h.jsxs(h.Fragment,{children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy Shiftblocks to days with same schedule"]})})})]}),e[45]=M,e[46]=K,e[47]=te,e[48]=q,e[49]=X,e[50]=c,e[51]=o,e[52]=T,e[53]=b,e[54]=R,e[55]=L,e[56]=Oe):Oe=e[56];let be;e[57]!==Qe||e[58]!==$e||e[59]!==pe||e[60]!==_e||e[61]!==Oe?(be=h.jsxs("div",{className:"mt-6 px-12 pb-12 min-h-[400px] flex flex-col relative",children:[Qe,$e,pe,_e,Oe]}),e[57]=Qe,e[58]=$e,e[59]=pe,e[60]=_e,e[61]=Oe,e[62]=be):be=e[62];const Pe=`p-6 border-t backdrop-blur-sm ${s?"border-white/10 bg-gray-800/5":"border-gray-200/20 bg-white/5"}`,Je=`px-6 py-3 text-sm font-medium rounded-xl transition-all duration-200 hover:scale-105 backdrop-blur-sm border ${s?"text-gray-300 hover:text-white bg-gray-700/30 hover:bg-gray-600/40 border-white/10 hover:border-white/20":"text-gray-700 hover:text-gray-900 bg-white/30 hover:bg-white/50 border-gray-200/30 hover:border-gray-300/50"}`;let Ye;e[63]!==r||e[64]!==Je?(Ye=h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{onClick:r,className:Je,children:"Close"})}),e[63]=r,e[64]=Je,e[65]=Ye):Ye=e[65];let at;e[66]!==Pe||e[67]!==Ye?(at=h.jsx("div",{className:Pe,children:Ye}),e[66]=Pe,e[67]=Ye,e[68]=at):at=e[68];let Ke;e[69]!==ot||e[70]!==be||e[71]!==at||e[72]!==re?(Ke=h.jsxs("div",{className:re,onClick:v6,children:[ot,be,at]}),e[69]=ot,e[70]=be,e[71]=at,e[72]=re,e[73]=Ke):Ke=e[73];let je;return e[74]!==r||e[75]!==Ke?(je=h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",onClick:r,children:Ke}),e[74]=r,e[75]=Ke,e[76]=je):je=e[76],je};function b6(t){return t.toISOString().split("T")[0]}function v6(t){return t.stopPropagation()}const x6=()=>{try{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(600,t.currentTime+.1),e.frequency.setValueAtTime(800,t.currentTime+.2),n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.start(t.currentTime),e.stop(t.currentTime+.3)}catch(t){console.error("Notification sound failed:",t)}},w6=()=>{try{const t=new Audio;t.volume=.3;const e="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT";t.src=e,t.play().catch(n=>console.error("Audio play failed:",n))}catch(t){console.error("Simple beep failed:",t)}},_6=()=>{x6(),setTimeout(()=>{!window.AudioContext&&!window.webkitAudioContext&&w6()},100)};function k6(){const[t,e]=N.useState("default"),[n,r]=N.useState(!1),s=N.useRef(new Map);N.useEffect(()=>{"Notification"in window&&(r(!0),e(Notification.permission))},[]);const o=N.useCallback(async()=>{if(!n)return console.warn("Notifications not supported in this browser"),!1;try{const y=await Notification.requestPermission();return e(y),y==="granted"}catch(y){return console.error("Error requesting notification permission:",y),!1}},[n]),c=N.useCallback(async y=>{if(t!=="granted")return;const b=S=>{if(!S)return"";try{return new Date(S).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(D){return console.error("Error formatting time:",S,D),""}},w=`${b(y.start_time)} - ${b(y.end_time)}`,x=`Event Starting Soon: ${y.event_name}`,k=`Your event starts in 10 minutes at ${w} (Staff Assistance)`,_=new Notification(x,{body:k,icon:"/wildcat2.png",badge:"/wildcat2.png",tag:`event-${y.id}`,requireInteraction:!1,silent:!1});_6(),setTimeout(()=>{_.close()},1e4),_.onclick=()=>{window.focus(),_.close()};try{await a5(y.id,y.man_owner||"",y.event_name)}catch(S){console.error("Failed to send in-app setup reminder notification:",S)}},[t]),u=N.useCallback(y=>{if(!y.resources)return!1;let b=[];try{typeof y.resources=="string"?b=JSON.parse(y.resources):Array.isArray(y.resources)?b=y.resources:y.resources&&typeof y.resources=="object"&&(b=y.resources.resources||y.resources.res||[])}catch(w){return console.log("Error parsing resources for event:",y.event_name,w),!1}return Array.isArray(b)&&b.some(w=>w.itemName==="KSM-KGH-AV-Staff Assistance")},[]),f=N.useCallback(y=>{const b=`event-${y.id}`;if(s.current.has(b)&&(clearTimeout(s.current.get(b)),s.current.delete(b)),!u(y)){console.log("Event does not have staff assistance:",y.event_name);return}let w;try{const S=`${y.date}T${y.start_time}`;if(w=new Date(S),isNaN(w.getTime())){console.warn("Invalid start_time format:",y.start_time);return}}catch(S){console.warn("Error parsing event start_time:",S);return}const x=new Date(w.getTime()-600*1e3),k=new Date;if(console.log("Scheduling notification for:",y.event_name,{eventStart:w.toLocaleString(),notificationTime:x.toLocaleString(),now:k.toLocaleString()}),x<=k){console.log("Notification time has passed for:",y.event_name);return}const _=setTimeout(()=>{c(y),s.current.delete(b),console.log("Sent notification for:",y.event_name)},x.getTime()-k.getTime());s.current.set(b,_),console.log("Scheduled notification for:",y.event_name,"at",x.toLocaleString())},[u,c]),m=N.useCallback(y=>{s.current.forEach(w=>{clearTimeout(w)}),s.current.clear();const{notificationRooms:b}=useRoomStore.getState();console.log("Scheduling notifications for events:",{totalEvents:y.length,notificationRooms:b,permission:t,isSupported:n}),y.forEach(w=>{if(!w.start_time||!w.event_name||!b.includes(w.room_name))return;const x=new Date,k=new Date(x.getFullYear(),x.getMonth(),x.getDate());let _;try{if(_=new Date(w.start_time),new Date(_.getFullYear(),_.getMonth(),_.getDate()).getTime()!==k.getTime())return}catch(D){console.log("Skipping event - date parsing error:",D);return}if(new Date(w.start_time)<=x){console.log("Skipping event - already started:",w.event_name);return}f(w)})},[f]),p=N.useCallback(()=>{s.current.forEach(y=>{clearTimeout(y)}),s.current.clear()},[]);return N.useEffect(()=>()=>{p()},[p]),{isSupported:n,permission:t,requestPermission:o,sendNotification:c,scheduleNotificationsForEvents:m,clearAllNotifications:p}}function S6(){const t=ue.c(28),{isSupported:e,permission:n,requestPermission:r}=k6();let s;t[0]!==r?(s=async()=>{await r()},t[0]=r,t[1]=s):s=t[1];const o=s;if(!e){let _;t[2]===Symbol.for("react.memo_cache_sentinel")?(_=h.jsx("div",{className:"flex-shrink-0",children:h.jsx("svg",{className:"h-4 w-4 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),t[2]=_):_=t[2];let S;return t[3]===Symbol.for("react.memo_cache_sentinel")?(S=h.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:h.jsxs("div",{className:"flex items-center",children:[_,h.jsx("div",{className:"ml-2",children:h.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Notifications not supported in this browser"})})]})}),t[3]=S):S=t[3],S}let c;t[4]!==n?(c=h.jsx("div",{className:"flex-shrink-0",children:n==="granted"?h.jsx("svg",{className:"h-4 w-4 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):n==="denied"?h.jsx("svg",{className:"h-4 w-4 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):h.jsx("svg",{className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),t[4]=n,t[5]=c):c=t[5];const u=n==="granted"?"Notifications enabled":n==="denied"?"Notifications blocked":"Enable notifications";let f;t[6]!==u?(f=h.jsx("div",{className:"ml-2",children:h.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:u})}),t[6]=u,t[7]=f):f=t[7];let m;t[8]!==c||t[9]!==f?(m=h.jsxs("div",{className:"flex items-center",children:[c,f]}),t[8]=c,t[9]=f,t[10]=m):m=t[10];let p;t[11]!==o||t[12]!==n?(p=n==="default"&&h.jsx("button",{onClick:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs font-medium transition-colors",children:"Enable"}),t[11]=o,t[12]=n,t[13]=p):p=t[13];let y;t[14]!==n?(y=n==="denied"&&h.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:"Blocked"}),t[14]=n,t[15]=y):y=t[15];let b;t[16]!==n?(b=n==="granted"&&h.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Enabled"}),t[16]=n,t[17]=b):b=t[17];let w;t[18]!==m||t[19]!==p||t[20]!==y||t[21]!==b?(w=h.jsxs("div",{className:"flex items-center justify-between",children:[m,p,y,b]}),t[18]=m,t[19]=p,t[20]=y,t[21]=b,t[22]=w):w=t[22];let x;t[23]!==n?(x=n==="granted"&&h.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[h.jsx("svg",{className:"h-3 w-3 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"10 minutes before events with staff assistance"]}),t[23]=n,t[24]=x):x=t[24];let k;return t[25]!==w||t[26]!==x?(k=h.jsxs("div",{className:"space-y-3",children:[w,x]}),t[25]=w,t[26]=x,t[27]=k):k=t[27],k}const D6=({isOpen:t,onClose:e})=>{const{isDarkMode:n}=zt(),{user:r}=_n(),o=new Date().toISOString().split("T")[0],{data:c=[]}=sl(o),[u,f]=N.useState([]),[m,p]=N.useState(!1),[y,b]=N.useState(null),w=D=>!D.resources||!Array.isArray(D.resources)?!1:D.resources.some(C=>C.itemName==="KSM-KGH-AV-Staff Assistance"),x=D=>D.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),k=D=>D.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric",year:"numeric"}),_=D=>{if(D<0)return"Overdue";if(D<1)return"Less than 1 minute";if(D<60)return`${Math.floor(D)} minutes`;const C=Math.floor(D/60),T=D%60;return T===0?`${C} hour${C>1?"s":""}`:`${C} hour${C>1?"s":""} ${T} minutes`},S=async()=>{p(!0),b(null);try{const D=new Date,C=new Date(D.getFullYear(),D.getMonth(),D.getDate()),T=[],M=C.toISOString().split("T")[0],{data:L,error:R}=await de.from("events").select("*").eq("date",M).not("start_time","is",null).order("start_time",{ascending:!0});if(R){console.error("Error fetching events:",R),b("Failed to fetch events");return}L&&L.forEach($=>{if(!w($)||!r||!N0($,r.id,c))return;let U;try{const V=`${$.date}T${$.start_time}`;if(U=new Date(V),isNaN(U.getTime())){console.warn("Invalid start_time format:",$.start_time);return}}catch(V){console.warn("Error parsing event start_time:",V);return}const q=new Date(U.getTime()-600*1e3);if(q>D){const V=Math.floor((q.getTime()-D.getTime())/6e4);T.push({event:$,notificationTime:q,eventStartTime:U,timeUntilNotification:V})}}),T.sort(($,U)=>$.notificationTime.getTime()-U.notificationTime.getTime()),f(T)}catch(D){console.error("Error fetching scheduled notifications:",D),b("Failed to load scheduled notifications")}finally{p(!1)}};return N.useEffect(()=>{if(t){S();const D=setInterval(()=>{S()},6e4);return()=>clearInterval(D)}},[t]),N.useEffect(()=>{const D=C=>{C.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",D),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",D),document.body.style.overflow="unset"}},[t,e]),t?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",onClick:e,children:h.jsxs("div",{className:`max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto rounded-lg shadow-xl ${n?"bg-gray-800 text-white":"bg-gray-50 text-gray-900"}`,onClick:D=>D.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center px-6 pt-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Scheduled Notifications"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Notifications for events with staff assistance (10 minutes before event)"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Only showing events assigned to you from notification-enabled rooms"})]}),h.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Notification Settings"}),h.jsx(S6,{})]}),h.jsxs("div",{className:"p-6",children:[m&&h.jsxs("div",{className:"flex items-center justify-center py-8",children:[h.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-600",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),h.jsx("span",{className:"ml-3 text-lg",children:"Loading notifications..."})]}),y&&h.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg p-4 mb-4",children:h.jsx("p",{className:"text-red-700 dark:text-red-300",children:y})}),!m&&!y&&h.jsx(h.Fragment,{children:u.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("svg",{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM9 7H4a2 2 0 00-2 2v9a2 2 0 002 2h5l5-5V9a2 2 0 00-2-2z"})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Scheduled Notifications"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No upcoming events with staff assistance assigned to you for the next 7 days."})]}):h.jsx("div",{className:"space-y-4",children:u.map((D,C)=>h.jsx("div",{className:`border rounded-lg p-4 transition-colors ${D.timeUntilNotification<0?"border-red-300 dark:border-red-700 bg-red-50 dark:bg-red-900/20":D.timeUntilNotification<30?"border-yellow-300 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"}`,children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:D.event.event_name}),h.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200",children:"Staff Assistance"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Event Time:"}),h.jsxs("div",{className:"text-gray-900 dark:text-white",children:[x(D.eventStartTime)," - ",x(new Date(`${D.event.date}T${D.event.end_time}`))]}),h.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:k(D.eventStartTime)})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Room:"}),h.jsx("div",{className:"text-gray-900 dark:text-white",children:D.event.room_name})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Notification:"}),h.jsx("div",{className:"text-gray-900 dark:text-white",children:x(D.notificationTime)}),h.jsx("div",{className:`font-medium ${D.timeUntilNotification<0?"text-red-600 dark:text-red-400":D.timeUntilNotification<30?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`,children:_(D.timeUntilNotification)})]})]}),D.event.instructor_names&&Array.isArray(D.event.instructor_names)&&D.event.instructor_names.length>0&&h.jsxs("div",{className:"mt-2 text-sm",children:[h.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:["Instructor",D.event.instructor_names.length>1?"s":"",":"]}),h.jsx("span",{className:"text-gray-900 dark:text-white ml-1",children:D.event.instructor_names.length===1?String(D.event.instructor_names[0]):`${D.event.instructor_names.length} instructors`})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[D.timeUntilNotification<0&&h.jsx("span",{className:"text-red-600 dark:text-red-400 text-sm font-medium",children:"Overdue"}),D.timeUntilNotification>=0&&D.timeUntilNotification<30&&h.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 text-sm font-medium",children:"Soon"})]})]})},`${D.event.id}-${D.notificationTime.getTime()}`))})})]}),h.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mb-4",children:[h.jsx("p",{children:"Event notifications appear 15 minutes before events with staff assistance or web conferencing."}),h.jsx("p",{className:"mt-1",children:"Only events in selected notification rooms will trigger alerts."})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:u.length>0&&h.jsxs("span",{children:[u.length," notification",u.length!==1?"s":""," scheduled"]})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:S,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-md text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors disabled:opacity-50",children:m?"Refreshing...":"Refresh"}),h.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Close"})]})]})]})]})}):null},E6=t=>{const e=ue.c(31),{isOpen:n,onClose:r}=t,{isDarkMode:s}=zt(),{currentBackground:o,setCurrentBackground:c}=Su(),{isRainEnabled:u,toggleRain:f}=P1(),{isLeavesEnabled:m,toggleLeaves:p}=L4(),{isSnowEnabled:y,toggleSnow:b}=B1();let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w=[{id:"AVOC.JPEG",name:"AVOC",preview:"/AVOC.JPEG",description:"AVOC building background"},{id:"Gies.avif",name:"Gies",preview:"/Gies.avif",description:"Gies College of Business background"},{id:"dusk.jpg",name:"Dusk",preview:"/dusk.jpg",description:"Dusk background with optional rain effect"},{id:"Vista.avif",name:"Vista",preview:"/Vista.avif",description:"Vista background"},{id:"halloween.png",name:"Halloween",preview:"/halloween.png",description:"Halloween themed background"},{id:"Ryan Fieldhouse.jpg",name:"Ryan Fieldhouse",preview:"/Ryan Fieldhouse.jpg",description:"Northwestern University Ryan Fieldhouse background"},{id:"jaobscenter.jpeg",name:"Jacobs Center",preview:"/jaobscenter.jpeg",description:"Jacobs Center background"},{id:"offwhite",name:"Off White",preview:null,description:"Clean off-white CSS background"}],e[0]=w):w=e[0];const x=w;if(!n)return null;const k=`w-full max-w-md rounded-2xl shadow-2xl backdrop-blur-xl border ${s?"bg-gray-900/80 text-white border-gray-700/50 shadow-gray-900/50":"bg-white/80 text-gray-900 border-gray-200/50 shadow-gray-500/20"}`,_=`px-6 py-4 border-b backdrop-blur-sm rounded-t-2xl ${s?"border-gray-700/50 bg-gray-800/30":"border-gray-200/50 bg-gray-50/30"}`;let S;e[1]===Symbol.for("react.memo_cache_sentinel")?(S=h.jsx("h2",{className:"text-lg font-semibold",children:"Theme Settings"}),e[1]=S):S=e[1];const D=`p-2 rounded-xl hover:bg-opacity-80 transition-all duration-200 backdrop-blur-sm ${s?"hover:bg-gray-700/50 hover:shadow-lg hover:shadow-gray-900/30":"hover:bg-gray-100/50 hover:shadow-lg hover:shadow-gray-500/20"}`;let C;e[2]===Symbol.for("react.memo_cache_sentinel")?(C=h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e[2]=C):C=e[2];let T;e[3]!==r||e[4]!==D?(T=h.jsxs("div",{className:"flex items-center justify-between",children:[S,h.jsx("button",{onClick:r,className:D,children:C})]}),e[3]=r,e[4]=D,e[5]=T):T=e[5];let M;e[6]!==_||e[7]!==T?(M=h.jsx("div",{className:_,children:T}),e[6]=_,e[7]=T,e[8]=M):M=e[8];let L;e[9]===Symbol.for("react.memo_cache_sentinel")?(L=h.jsx("h3",{className:"text-md font-medium mb-3",children:"Theme"}),e[9]=L):L=e[9];let R;e[10]!==o||e[11]!==s||e[12]!==m||e[13]!==u||e[14]!==y||e[15]!==c||e[16]!==p||e[17]!==f||e[18]!==b?(R=h.jsxs("div",{className:"p-6",children:[L,h.jsx("div",{className:"grid grid-cols-2 gap-4 max-h-80 overflow-y-auto",children:x.map(B=>h.jsxs("div",{children:[h.jsxs("div",{className:`relative cursor-pointer rounded-xl border-2 transition-all duration-300 backdrop-blur-sm hover:scale-[1.02] hover:shadow-lg ${o===B.id?"border-blue-400/70 bg-blue-500/10 shadow-blue-500/20 shadow-lg":`${s?"border-gray-600/50 hover:border-gray-500/70 bg-gray-800/30 hover:bg-gray-700/40 hover:shadow-gray-900/30":"border-gray-200/50 hover:border-gray-300/70 bg-gray-50/30 hover:bg-gray-100/40 hover:shadow-gray-500/20"}`}`,onClick:()=>{c(B.id)},children:[h.jsx("div",{className:"relative h-24 rounded-t-xl overflow-hidden",children:B.preview?h.jsxs(h.Fragment,{children:[h.jsx("img",{src:B.preview,alt:B.name,className:"w-full h-full object-cover",onError:N6}),h.jsx("div",{className:`absolute inset-0 flex items-center justify-center backdrop-blur-sm ${s?"bg-gray-700/50":"bg-gray-100/50"} hidden`,children:h.jsx("span",{className:"text-xs opacity-60",children:"Preview"})})]}):h.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{backgroundColor:"#9ca3af"},children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-medium text-gray-600 mb-1",children:"CSS"}),h.jsx("div",{className:"text-xs text-gray-500",children:"Background"})]})})}),h.jsx("div",{className:"p-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-medium text-sm truncate",children:B.name}),h.jsx("p",{className:`text-xs ${s?"text-gray-400":"text-gray-600"} truncate`,children:B.description})]}),o===B.id&&h.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-blue-500 rounded-full shadow-lg shadow-blue-500/50 ml-2 flex-shrink-0",children:h.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})})]}),B.id==="dusk.jpg"&&o==="dusk.jpg"&&h.jsx("div",{className:"mt-2 p-2 rounded-lg border border-gray-200/50 dark:border-gray-600/50 bg-gray-50/30 dark:bg-gray-800/30",children:h.jsxs("button",{onClick:f,className:`w-full flex items-center justify-between px-2 py-1.5 rounded-lg border transition-all duration-200 backdrop-blur-sm hover:scale-[1.01] text-xs ${s?"border-gray-600/50 bg-gray-700/30 hover:bg-gray-600/40 text-white":"border-gray-200/50 bg-white/50 hover:bg-gray-50/60 text-gray-900"}`,children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),h.jsx("span",{children:"Rain"})]}),h.jsx("span",{className:`font-medium ${u?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"}`,children:u?"On":"Off"})]})}),B.id==="halloween.png"&&o==="halloween.png"&&h.jsx("div",{className:"mt-2 p-2 rounded-lg border border-gray-200/50 dark:border-gray-600/50 bg-gray-50/30 dark:bg-gray-800/30",children:h.jsxs("button",{onClick:p,className:`w-full flex items-center justify-between px-2 py-1.5 rounded-lg border transition-all duration-200 backdrop-blur-sm hover:scale-[1.01] text-xs ${s?"border-gray-600/50 bg-gray-700/30 hover:bg-gray-600/40 text-white":"border-gray-200/50 bg-white/50 hover:bg-gray-50/60 text-gray-900"}`,children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),h.jsx("span",{children:"Leaves"})]}),h.jsx("span",{className:`font-medium ${m?"text-orange-600 dark:text-orange-400":"text-gray-400 dark:text-gray-500"}`,children:m?"On":"Off"})]})}),B.id==="jaobscenter.jpeg"&&o==="jaobscenter.jpeg"&&h.jsx("div",{className:"mt-2 p-2 rounded-lg border border-gray-200/50 dark:border-gray-600/50 bg-gray-50/30 dark:bg-gray-800/30",children:h.jsxs("button",{onClick:b,className:`w-full flex items-center justify-between px-2 py-1.5 rounded-lg border transition-all duration-200 backdrop-blur-sm hover:scale-[1.01] text-xs ${s?"border-gray-600/50 bg-gray-700/30 hover:bg-gray-600/40 text-white":"border-gray-200/50 bg-white/50 hover:bg-gray-50/60 text-gray-900"}`,children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),h.jsx("span",{children:"Snow"})]}),h.jsx("span",{className:`font-medium ${y?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"}`,children:y?"On":"Off"})]})})]},B.id))})]}),e[10]=o,e[11]=s,e[12]=m,e[13]=u,e[14]=y,e[15]=c,e[16]=p,e[17]=f,e[18]=b,e[19]=R):R=e[19];const $=`px-6 py-4 border-t backdrop-blur-sm rounded-b-2xl ${s?"border-gray-700/50 bg-gray-800/30":"border-gray-200/50 bg-gray-50/30"}`,U=`w-full px-4 py-2 rounded-xl font-medium transition-all duration-200 backdrop-blur-sm hover:scale-[1.02] hover:shadow-lg ${s?"bg-gray-700/50 hover:bg-gray-600/60 text-white hover:shadow-gray-900/30":"bg-gray-100/50 hover:bg-gray-200/60 text-gray-700 hover:shadow-gray-500/20"}`;let q;e[20]!==r||e[21]!==U?(q=h.jsx("button",{onClick:r,className:U,children:"Done"}),e[20]=r,e[21]=U,e[22]=q):q=e[22];let V;e[23]!==$||e[24]!==q?(V=h.jsx("div",{className:$,children:q}),e[23]=$,e[24]=q,e[25]=V):V=e[25];let X;return e[26]!==R||e[27]!==V||e[28]!==k||e[29]!==M?(X=h.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:h.jsxs("div",{className:k,onClick:C6,children:[M,R,V]})}),e[26]=R,e[27]=V,e[28]=k,e[29]=M,e[30]=X):X=e[30],X};function C6(t){return t.stopPropagation()}function N6(t){t.currentTarget.style.display="none",t.currentTarget.nextElementSibling?.classList.remove("hidden")}const j6=()=>{const t=ue.c(19),{user:e}=_n(),{isDarkMode:n}=zt(),r=gn();if(!e)return null;let s;t[0]!==r?(s=()=>r("/account"),t[0]=r,t[1]=s):s=t[1];const o=`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-400 ${n?"bg-gray-800 hover:bg-gray-700 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-900"}`;let c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c={cursor:"pointer"},t[2]=c):c=t[2];let u;t[3]!==e.email?(u=e.email?.charAt(0).toUpperCase()||"U",t[3]=e.email,t[4]=u):u=t[4];let f;t[5]!==u?(f=h.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:u}),t[5]=u,t[6]=f):f=t[6];let m;t[7]!==e.email?(m=h.jsx("span",{className:"text-sm font-medium truncate w-full",children:e.email}),t[7]=e.email,t[8]=m):m=t[8];const p=`text-xs ${n?"text-gray-400":"text-gray-500"}`;let y;t[9]!==p?(y=h.jsx("span",{className:p,children:"Account Settings"}),t[9]=p,t[10]=y):y=t[10];let b;t[11]!==m||t[12]!==y?(b=h.jsxs("div",{className:"flex flex-col items-start min-w-0 flex-1",children:[m,y]}),t[11]=m,t[12]=y,t[13]=b):b=t[13];let w;return t[14]!==s||t[15]!==o||t[16]!==f||t[17]!==b?(w=h.jsxs("button",{onClick:s,className:o,style:c,children:[f,b]}),t[14]=s,t[15]=o,t[16]=f,t[17]=b,t[18]=w):w=t[18],w},T6=({selectedDate:t=new Date,events:e=[],onModalClose:n,onModalOpen:r})=>{const[s,o]=N.useState(!1),[c,u]=N.useState(!1),{isDarkMode:f}=zt(),{isFilterRoomsModalOpen:m,closeFilterRoomsModal:p}=X0(),[y,b]=N.useState(!1),[w,x]=N.useState(!1),[k,_]=N.useState(!1);N.useEffect(()=>{y||w||k?r?.():n?.()},[y,w,k,r,n]);const S=gn(),{date:D}=Gr(),{currentBackground:C}=Su();return N.useEffect(()=>{if(s){const T=setTimeout(()=>u(!0),10);return()=>clearTimeout(T)}else u(!1)},[s]),h.jsxs(h.Fragment,{children:[!s&&h.jsx("button",{onClick:()=>o(!0),className:"flex items-center justify-center w-10 h-10 text-gray-700 dark:text-gray-300 rounded-xl bg-white/40 dark:bg-white/10 backdrop-blur-sm border border-white/20 dark:border-white/10 hover:bg-white/60 dark:hover:bg-white/20 transition-all duration-200 z-[9999] shadow-lg hover:shadow-xl transform hover:scale-105 group","aria-label":"Open menu",children:h.jsxs("div",{className:"flex flex-col items-center justify-center space-y-1",children:[h.jsx("div",{className:"w-4 h-0.5 bg-current rounded-full transition-all duration-200 group-hover:w-5"}),h.jsx("div",{className:"w-4 h-0.5 bg-current rounded-full transition-all duration-200 group-hover:w-3"}),h.jsx("div",{className:"w-4 h-0.5 bg-current rounded-full transition-all duration-200 group-hover:w-5"})]})}),s&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-[9998] animate-in fade-in duration-300",onClick:()=>{u(!1),setTimeout(()=>o(!1),150)}}),h.jsx("div",{style:{zIndex:9999,transform:c?"translateX(0) scale(1)":"translateX(100%) scale(0.95)",transition:"all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",transformOrigin:"right center"},className:"fixed top-0 right-0 h-screen w-80",children:h.jsxs("div",{className:"p-6 h-full flex flex-col",children:[h.jsx("div",{className:"mb-6"}),h.jsxs("div",{className:"bg-white/60 dark:bg-gray-700/60 backdrop-blur-md rounded-lg p-4 shadow-lg border border-white/20 dark:border-gray-600/30 mb-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Account"}),h.jsx(j6,{})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6",children:[h.jsxs("div",{className:"bg-white/60 dark:bg-gray-700/60 backdrop-blur-md rounded-lg p-4 shadow-lg border border-white/20 dark:border-gray-600/30",children:[h.jsxs("button",{onClick:()=>S(`/${D}/faculty`),className:"w-full flex items-center justify-center px-4 py-3 border border-green-300 dark:border-green-600 text-sm font-medium rounded-md text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[h.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 01-8 0m8 0a4 4 0 00-8 0m8 0V8a4 4 0 00-8 0v4m8 0v4a4 4 0 01-8 0v-4"})}),"Faculty List"]}),h.jsxs("button",{onClick:()=>b(!0),className:"w-full flex items-center justify-center mt-3 px-4 py-3 border border-purple-300 dark:border-purple-600 text-sm font-medium rounded-md text-purple-700 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[h.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2a4 4 0 014-4h2a4 4 0 014 4v2"}),h.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Session Assignments"]}),h.jsxs("button",{onClick:()=>x(!0),className:"w-full flex items-center justify-center mt-3 px-4 py-3 border border-orange-300 dark:border-orange-600 text-sm font-medium rounded-md text-orange-700 dark:text-orange-300 bg-orange-50 dark:bg-orange-900/20 hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors",children:[h.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM9 7H4a2 2 0 00-2 2v9a2 2 0 002 2h5l5-5V9a2 2 0 00-2-2z"})}),"Scheduled Notifications"]})]}),h.jsxs("div",{className:"bg-white/60 dark:bg-gray-700/60 backdrop-blur-md rounded-lg p-4 shadow-lg border border-white/20 dark:border-gray-600/30",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Quick Actions"}),h.jsx("div",{className:"space-y-3",children:h.jsxs("button",{onClick:()=>_(!0),className:"w-full flex items-center justify-between px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-600 hover:bg-gray-50 dark:hover:bg-gray-500 transition-colors",children:[h.jsx("span",{children:"Theme Settings"}),h.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:[f?"Dark":"Light"," • ",C?C.replace(/\.(avif|jpeg|jpg|png)$/i,""):"Loading..."]})]})})]})]})]})})]}),h.jsx(Nx,{isOpen:m,onClose:()=>{p(),n?.()}}),h.jsx(y6,{isOpen:y,onClose:()=>b(!1)}),h.jsx(D6,{isOpen:w,onClose:()=>x(!1)}),h.jsx(E6,{isOpen:k,onClose:()=>_(!1)})]})},$v=16,M6=50,Mx=N.forwardRef((t,e)=>{const n=ue.c(57),{children:r,className:s,style:o,startHour:c,endHour:u,pixelsPerMinute:f,actualRowCount:m,isDragEnabled:p,onScrollPositionChange:y}=t,b=s===void 0?"":s;let w;n[0]!==o?(w=o===void 0?{}:o,n[0]=o,n[1]=w):w=n[1];const x=w,k=N.useRef(null);let _,S;n[2]===Symbol.for("react.memo_cache_sentinel")?(_=()=>k.current,S=[],n[2]=_,n[3]=S):(_=n[2],S=n[3]),N.useImperativeHandle(e,_,S);const D=k,[C,T]=N.useState(!1);let M;n[4]===Symbol.for("react.memo_cache_sentinel")?(M={x:0,y:0,scrollLeft:0,scrollTop:0},n[4]=M):M=n[4];const[L,R]=N.useState(M);let $;n[5]===Symbol.for("react.memo_cache_sentinel")?($={top:!1,bottom:!1,left:!1,right:!1},n[5]=$):$=n[5];const[,U]=N.useState($),q=N.useRef(0),V=N.useRef(0);let X;n[6]!==m||n[7]!==u||n[8]!==f||n[9]!==c?(X=(be,Pe)=>{if(!D.current)return{scrollLeft:be,scrollTop:Pe};const Je=D.current,{clientWidth:Ye,clientHeight:at}=Je,Ke=(u-c)*60*f,je=m*96+24,Ue=Math.max(0,Ke-Ye+2),ve=Math.max(0,je-at+2+8);return{scrollLeft:Math.max(-2,Math.min(be,Ue)),scrollTop:Math.max(-2,Math.min(Pe,ve))}},n[6]=m,n[7]=u,n[8]=f,n[9]=c,n[10]=X):X=n[10];const B=X;let F;n[11]!==m||n[12]!==u||n[13]!==C||n[14]!==f||n[15]!==c?(F=()=>{if(!D.current||!C)return;const be=Date.now();if(be-V.current<M6)return;V.current=be;const Pe=D.current,{scrollLeft:Je,scrollTop:Ye,clientWidth:at,clientHeight:Ke}=Pe,je=(u-c)*60*f,Ue=m*96+24,ve=Math.max(0,je-at),gt=Math.max(0,Ue-Ke+8),tn={top:Ye<=20,bottom:Ye>=gt-20,left:Je<=20,right:Je>=ve-20},qt=tn.top||tn.bottom||tn.left||tn.right;U(qt?tn:{top:!1,bottom:!1,left:!1,right:!1})},n[11]=m,n[12]=u,n[13]=C,n[14]=f,n[15]=c,n[16]=F):F=n[16];const I=F;let A;n[17]!==p?(A=be=>{if(!D.current||!p)return;const Pe=be.target;if(Pe.closest("[data-event]")||Pe.closest("[data-room-label]"))return;T(!0);const Je=be.pageX-D.current.offsetLeft,Ye=be.pageY-D.current.offsetTop;R({x:Je,y:Ye,scrollLeft:D.current.scrollLeft,scrollTop:D.current.scrollTop}),D.current&&(D.current.style.cursor="grabbing",D.current.style.userSelect="none",document.body.style.userSelect="none"),be.preventDefault()},n[17]=p,n[18]=A):A=n[18];const H=A;let z;n[19]!==B||n[20]!==L||n[21]!==C||n[22]!==y||n[23]!==I?(z=be=>{if(!C||!D.current)return;be.preventDefault();const Pe=Date.now();if(Pe-q.current<$v)return;q.current=Pe;const Je=be.pageX-D.current.offsetLeft,Ye=be.pageY-D.current.offsetTop,at=(Je-L.x)*2,Ke=(Ye-L.y)*2,je=L.scrollLeft-at,Ue=L.scrollTop-Ke,ve=B(je,Ue);D.current.scrollLeft=ve.scrollLeft,D.current.scrollTop=ve.scrollTop,I(),y&&y({left:ve.scrollLeft,top:ve.scrollTop})},n[19]=B,n[20]=L,n[21]=C,n[22]=y,n[23]=I,n[24]=z):z=n[24];const te=z;let O;n[25]!==p?(O=()=>{T(!1),D.current&&(D.current.style.cursor=p?"grab":"default",D.current.style.userSelect=""),document.body.style.userSelect="",U({top:!1,bottom:!1,left:!1,right:!1})},n[25]=p,n[26]=O):O=n[26];const K=O;let re;n[27]!==p?(re=()=>{T(!1),D.current&&(D.current.style.cursor=p?"grab":"default",D.current.style.userSelect=""),document.body.style.userSelect="",U({top:!1,bottom:!1,left:!1,right:!1})},n[27]=p,n[28]=re):re=n[28];const ne=re;let ce;n[29]!==B||n[30]!==y?(ce=be=>{if(!D.current)return;be.preventDefault();const Pe=D.current,{scrollLeft:Je,scrollTop:Ye}=Pe,at=Je+be.deltaX,Ke=Ye+be.deltaY,je=B(at,Ke);Pe.scrollLeft=je.scrollLeft,Pe.scrollTop=je.scrollTop,y&&y({left:je.scrollLeft,top:je.scrollTop})},n[29]=B,n[30]=y,n[31]=ce):ce=n[31];const le=ce;let ie;n[32]===Symbol.for("react.memo_cache_sentinel")?(ie=be=>{if(!D.current)return;const Pe=be.target;if(Pe.closest("[data-event]")||Pe.closest("[data-room-label]")||be.touches.length!==1)return;T(!0);const Je=be.touches[0];R({x:Je.pageX-D.current.offsetLeft,y:Je.pageY-D.current.offsetTop,scrollLeft:D.current.scrollLeft,scrollTop:D.current.scrollTop}),D.current&&D.current.classList.add("momentum-scrolling"),be.preventDefault()},n[32]=ie):ie=n[32];const me=ie;let fe;n[33]!==B||n[34]!==L||n[35]!==C||n[36]!==y||n[37]!==I?(fe=be=>{if(!C||!D.current)return;be.touches.length===1&&be.preventDefault();const Pe=Date.now();if(Pe-q.current<$v)return;q.current=Pe;const Je=be.touches[0],Ye=Je.pageX-D.current.offsetLeft,at=Je.pageY-D.current.offsetTop,Ke=(Ye-L.x)*1.5,je=(at-L.y)*1.5,Ue=L.scrollLeft-Ke,ve=L.scrollTop-je,gt=B(Ue,ve);D.current.scrollLeft=gt.scrollLeft,D.current.scrollTop=gt.scrollTop,I(),y&&y({left:gt.scrollLeft,top:gt.scrollTop})},n[33]=B,n[34]=L,n[35]=C,n[36]=y,n[37]=I,n[38]=fe):fe=n[38];const Re=fe;let Me;n[39]===Symbol.for("react.memo_cache_sentinel")?(Me=()=>{T(!1),D.current&&setTimeout(()=>{D.current&&D.current.classList.remove("momentum-scrolling")},100),U({top:!1,bottom:!1,left:!1,right:!1})},n[39]=Me):Me=n[39];const Ne=Me;let Le;n[40]===Symbol.for("react.memo_cache_sentinel")?(Le=()=>{T(!1),D.current&&D.current.classList.remove("momentum-scrolling"),U({top:!1,bottom:!1,left:!1,right:!1})},n[40]=Le):Le=n[40];const rt=Le;let We;n[41]===Symbol.for("react.memo_cache_sentinel")?(We=[],n[41]=We):We=n[41],N.useEffect(A6,We);let ot,Qe;n[42]!==le?(ot=()=>{const be=D.current;if(be)return be.addEventListener("wheel",le,{passive:!1}),()=>{be.removeEventListener("wheel",le)}},Qe=[le],n[42]=le,n[43]=ot,n[44]=Qe):(ot=n[43],Qe=n[44]),N.useEffect(ot,Qe);const $e=`${b} ${C?"dragging":""}`,pe=p?"grab":"default";let _e;n[45]!==x||n[46]!==pe?(_e={cursor:pe,...x},n[45]=x,n[46]=pe,n[47]=_e):_e=n[47];let Oe;return n[48]!==r||n[49]!==H||n[50]!==ne||n[51]!==te||n[52]!==K||n[53]!==Re||n[54]!==$e||n[55]!==_e?(Oe=h.jsx("div",{className:"relative h-full",children:h.jsx("div",{ref:D,className:$e,style:_e,onMouseDown:H,onMouseMove:te,onMouseUp:K,onMouseLeave:ne,onTouchStart:me,onTouchMove:Re,onTouchEnd:Ne,onTouchCancel:rt,children:r})}),n[48]=r,n[49]=H,n[50]=ne,n[51]=te,n[52]=K,n[53]=Re,n[54]=$e,n[55]=_e,n[56]=Oe):Oe=n[56],Oe});Mx.displayName="DraggableGridContainer";function O6(){document.body.style.userSelect=""}function A6(){return O6}const Uc=1800*1e3,R6=t=>{const{user:e}=_n(),n=t.toISOString().split("T")[0],{data:r=[]}=sl(n),[s,o]=N.useState(()=>{const _=new Date;return new Date(_.getFullYear(),_.getMonth(),_.getDate())});N.useEffect(()=>{const _=()=>{const D=new Date,C=new Date(D.getFullYear(),D.getMonth(),D.getDate());o(C)};_();const S=setInterval(_,6e4);return()=>clearInterval(S)},[]);const{data:c}=M0(s),u=N.useMemo(()=>r,[r]),f=N.useMemo(()=>{if(!c||c.length===0)return"";try{return c.map(_=>_.id).join(",")}catch{return String(c.length)}},[c]),m=N.useMemo(()=>{if(!u||u.length===0)return"";try{return u.map(_=>`${_.id??"x"}-${_.updated_at??""}`).join(",")}catch{return String(u.length)}},[u]),p=N.useCallback((_,S,D)=>N0(_,S,D),[]),y=N.useCallback(_=>_.resources?_.resources.some(D=>D.itemName?.toLowerCase().includes("panopto")||D.itemName?.toLowerCase().includes("recording")):(console.log(`🔍 No resources found for ${_.event_name}`),!1),[]),b=N.useCallback(_=>{const S=new Date,D=S.toISOString().split("T")[0];if(_.date!==D)return console.log(`🔍 Event ${_.event_name} is not today:`,{eventDate:_.date,today:D}),!1;const C=S.toTimeString().split(" ")[0],T=C>=_.start_time&&C<=_.end_time;return console.log(`🔍 Event ${_.event_name} active status:`,{currentTime:C,startTime:_.start_time,endTime:_.end_time,isActive:T}),T},[]),w=N.useCallback(async(_,S)=>{try{const D=c?.find(L=>L.id===_);if(!D)return!1;let C=null;if(D.start_time){const L=new Date(`${D.date}T${D.start_time}`);C=new Date(L.getTime()+(S-1)*Uc).toTimeString().split(" ")[0]}if(!C)return!1;const{data:T,error:M}=await de.from("panopto_checks").select("completed_time").eq("event_id",_).eq("check_time",C).single();return M||!T?!1:T.completed_time!==null}catch(D){return console.error("Error checking if check was sent:",D),!1}},[c]),x=N.useCallback(async(_,S)=>{try{const D=c?.find(T=>T.id===_);if(!D)return;let C=null;if(D.start_time){const T=new Date(`${D.date}T${D.start_time}`);C=new Date(T.getTime()+(S-1)*Uc).toTimeString().split(" ")[0]}if(!C)return;await de.from("panopto_checks").update({completed_time:null,completed_by_user_id:null,status:"pending",updated_at:new Date().toISOString()}).eq("event_id",_).eq("check_time",C)}catch(D){console.error("Error marking check as sent:",D)}},[c]),k=N.useCallback(async(_,S)=>{if(!e)return;const D=`${_.id}-check-${S}`;console.log("🎯 Starting to send Panopto check:",{checkId:D,eventName:_.event_name});try{if("Notification"in window&&Notification.permission==="granted"){console.log(`🔔 Creating system notification for ${_.event_name}`);const C=new Notification(`Panopto Check #${S}`,{body:`Time to check Panopto for ${_.event_name} in ${_.room_name}`,icon:"/wildcat2.png",badge:"/wildcat2.png",tag:D,requireInteraction:!1,silent:!1});setTimeout(()=>{C.close()},15e3),C.onclick=()=>{window.focus(),C.close()},console.log(`✅ System notification created for ${_.event_name}`)}else console.log(`⚠️ System notification not created - permission: ${Notification.permission}`);console.log(`💾 Marking check as sent in database for ${_.event_name}`),await x(_.id,S),console.log(`✅ Check marked as sent in database for ${_.event_name}`),console.log("🎉 Successfully sent Panopto check:",{eventName:_.event_name,checkNumber:S})}catch(C){console.error("❌ Error sending Panopto check:",C)}},[e,x]);N.useEffect(()=>{if(!e||!c)return;const _=async()=>{const D=new Date;for(const C of c){if(!y(C))continue;if(!p(C,e.id,u)){console.log(`⏭️ Skipping ${C.event_name} - user not assigned:`,{userId:e.id,eventName:C.event_name,shiftBlocksCount:u.length});continue}if(!b(C)){console.log(`⏭️ Skipping ${C.event_name} - not currently active`);continue}console.log(`✅ Found active recording event: ${C.event_name}`);const M=new Date(`${C.date}T${C.start_time}`),L=D.getTime()-M.getTime(),R=Math.floor(L/Uc)+1;if(R<1){console.log(`⏭️ Skipping ${C.event_name} - no checks due yet (check #${R})`);continue}const U=M.getTime()+(R-1)*Uc-D.getTime();if(console.log(`📊 Check analysis for ${C.event_name}:`,{checkNumber:R,timeSinceStart:Math.floor(L/6e4),timeUntilCheck:Math.floor(U/6e4),isDue:U<=0&&U>-6e4}),U<=0&&U>-6e4){const q=await w(C.id,R);console.log(`🔍 Check #${R} for ${C.event_name}:`,{alreadySent:q,willSend:!q}),q||(console.log(`🚀 Sending Panopto check #${R} for ${C.event_name}`),await k(C,R))}}};_();const S=setInterval(_,6e4);return()=>clearInterval(S)},[e?.id,f,m,y,p,b,w,k,u])},L6=async t=>{if(!t)return null;try{const{data:e,error:n}=await de.from("faculty_setup").select("*").eq("id",t).single();return n?(console.error("Error fetching faculty setup:",n),null):e}catch(e){return console.error("Error in fetchFacultySetup:",e),null}},$6=async({facultyId:t,attributes:e})=>{if(!t)throw new Error("No faculty ID provided");const{data:n,error:r}=await de.from("faculty_setup").update({uses_mic:e.uses_mic,left_source:e.left_source,right_source:e.right_source,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(r)throw console.error("Error updating faculty setup attributes:",r),r;return n},Ox=t=>{const e=ue.c(7);let n,r;e[0]!==t?(n=["facultySetup",t],r=()=>L6(t),e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const s=!!t;let o;return e[3]!==n||e[4]!==r||e[5]!==s?(o={queryKey:n,queryFn:r,enabled:s,staleTime:3e5,retry:3},e[3]=n,e[4]=r,e[5]=s,e[6]=o):o=e[6],pt(o)},Ax=()=>{const t=ue.c(2),e=Ot();let n;return t[0]!==e?(n={mutationFn:$6,onSuccess:(r,s)=>{e.invalidateQueries({queryKey:["facultySetup",s.facultyId]}),e.setQueryData(["facultySetup",s.facultyId],o=>o&&{...o,uses_mic:s.attributes.uses_mic,left_source:s.attributes.left_source,right_source:s.attributes.right_source,updated_at:new Date().toISOString()})},onError:P6},t[0]=e,t[1]=n):n=t[1],Ft(n)};function P6(t){console.error("Faculty setup mutation failed:",t)}const mu=t=>{const e=Math.floor(t),n=Math.round((t-e)*60),r=new Date;return r.setHours(e,n),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},J0=t=>{if(!t)return"";const[e,n,r]=t.split("-"),s=Number(e),o=Number(n),c=Number(r);return!Number.isFinite(s)||!Number.isFinite(o)||!Number.isFinite(c)?"":new Date(s,o-1,c).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},U6={ACCT:"Accounting",AIML:"Artificial Intelligence and Machine Learning",BLAW:"Business Law",DECS:"Decision Sciences",ENTR:"Entrepreneurship",FINC:"Finance",HCAK:"Healthcare at Kellogg",INTL:"International Business",LDEV:"Leadership Development",MBAI:"Kellogg/McCormick MBAi Program",MECN:"Managerial Economics",MECS:"Managerial Economics & Strategy",MKTG:"Marketing",MORS:"Management and Organizations",OPNS:"Operations",PACT:"Public Action and the Social Compact",REAL:"Real Estate",SSIM:"Sustainability and Social Impact",STRT:"Strategy"},B6=t=>U6[t]||t;function H6(t){const e=ue.c(18),{isOpen:n,onClose:r,onSelectUser:s,title:o}=t,{profiles:c,isLoading:u}=Z0();if(!n)return null;let f;e[0]!==o?(f=h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o}),e[0]=o,e[1]=f):f=e[1];let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m=h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e[2]=m):m=e[2];let p;e[3]!==r?(p=h.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:m}),e[3]=r,e[4]=p):p=e[4];let y;e[5]!==f||e[6]!==p?(y=h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f,p]}),e[5]=f,e[6]=p,e[7]=y):y=e[7];let b;e[8]!==u||e[9]!==r||e[10]!==s||e[11]!==c?(b=u?h.jsx("div",{className:"text-center py-4",children:"Loading users..."}):c&&c.length>0?c.map(k=>h.jsxs("button",{onClick:()=>{s(k.id),r()},className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[h.jsx(_i,{userId:k.id,size:"sm"}),h.jsx("div",{className:"text-left",children:h.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:k.name||k.id})})]},k.id)):h.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No users found"}),e[8]=u,e[9]=r,e[10]=s,e[11]=c,e[12]=b):b=e[12];let w;e[13]!==b?(w=h.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:b}),e[13]=b,e[14]=w):w=e[14];let x;return e[15]!==y||e[16]!==w?(x=h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[y,w]})})}),e[15]=y,e[16]=w,e[17]=x):x=e[17],x}const F6=t=>{if(!t)return"";try{const[e,n]=t.split(":").map(Number),r=new Date;return r.setHours(e,n,0,0),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(e){return console.error("Error formatting hand-off time:",t,e),t||""}},z6=t=>{const e=ue.c(2),{userId:n}=t,{data:r}=il(n),s=r?.name||n;let o;return e[0]!==s?(o=h.jsx("span",{children:s}),e[0]=s,e[1]=o):o=e[1],o},q6=t=>{const e=ue.c(12),{children:n,content:r,isVisible:s}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={top:0,left:0},e[0]=o):o=e[0];const[c,u]=N.useState(o),[f,m]=N.useState(null),p=N.useRef(null);let y,b;e[1]!==s||e[2]!==f?(y=()=>{if(s&&p.current&&f){const k=p.current.getBoundingClientRect(),_=f.getBoundingClientRect(),S=k.left+k.width/2-_.width/2,D=k.top-_.height-8,C=Math.max(8,Math.min(S,window.innerWidth-_.width-8)),T=Math.max(8,D);u({top:T,left:C})}},b=[s,f],e[1]=s,e[2]=f,e[3]=y,e[4]=b):(y=e[3],b=e[4]),N.useEffect(y,b);let w;e[5]!==r||e[6]!==s||e[7]!==c?(w=s&&_u.createPortal(h.jsx("div",{ref:m,className:"fixed px-2 py-1 bg-gray-900 text-white text-xs rounded pointer-events-none whitespace-nowrap z-[9999] max-w-xs",style:{top:c.top,left:c.left},children:r}),document.body),e[5]=r,e[6]=s,e[7]=c,e[8]=w):w=e[8];let x;return e[9]!==n||e[10]!==w?(x=h.jsxs("div",{ref:p,className:"relative",children:[n,w]}),e[9]=n,e[10]=w,e[11]=x):x=e[11],x};function I6(t){const e=ue.c(33),{event:n}=t,{data:r}=j0(n?.id);let s;e[0]!==r?.timeline?(s=r?.timeline||[],e[0]=r?.timeline,e[1]=s):s=e[1];const o=s,[c,u]=N.useState(!1),[f,m]=N.useState(null),p=m5(),y=p5();let b;e[2]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{u(!0)},e[2]=b):b=e[2];const w=b;let x;e[3]!==p||e[4]!==n.id?(x=U=>{p.mutate({eventId:n.id,userId:U}),u(!1)},e[3]=p,e[4]=n.id,e[5]=x):x=e[5];const k=x,_=!!n?.man_owner;if(o.length===0){let U;return e[6]===Symbol.for("react.memo_cache_sentinel")?(U=h.jsxs("div",{className:"mb-3 sm:mb-4",children:[h.jsx("div",{className:"mb-2",children:h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Assigned to:"})}),h.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No owners found for this event"})]}),e[6]=U):U=e[6],U}let S;e[7]===Symbol.for("react.memo_cache_sentinel")?(S=h.jsx("div",{className:"mb-2",children:h.jsx("span",{className:"text-sm font-medium text-black",children:"Assigned to:"})}),e[7]=S):S=e[7];let D;if(e[8]!==y||e[9]!==n.id||e[10]!==_||e[11]!==f||e[12]!==o){let U;e[14]!==y||e[15]!==n.id||e[16]!==_||e[17]!==f||e[18]!==o.length?(U=(q,V)=>h.jsxs(ee.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(q6,{isVisible:f===q.ownerId,content:h.jsxs("div",{children:[h.jsx(z6,{userId:q.ownerId}),h.jsx("div",{className:"text-xs text-gray-300 mt-1",children:_?"Click to change manual assignment":"Auto-assigned owner"})]}),children:_?h.jsx("button",{onClick:w,onMouseEnter:()=>m(q.ownerId),onMouseLeave:()=>m(null),className:"hover:ring-2 hover:ring-blue-400 rounded-full transition-all duration-200",children:h.jsx(_i,{userId:q.ownerId,size:"md"})}):h.jsx("div",{onMouseEnter:()=>m(q.ownerId),onMouseLeave:()=>m(null),className:"cursor-default",children:h.jsx(_i,{userId:q.ownerId,size:"md"})})}),_&&h.jsx("button",{onClick:()=>y.mutate({eventId:n.id}),className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600 transition-colors",title:"Clear manual assignment (return to auto-assignment)",children:"×"})]}),q.transitionTime&&V<o.length-1&&h.jsxs("div",{className:"flex flex-col items-center gap-1",children:[h.jsx("svg",{className:"w-5 h-5 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),h.jsx("span",{className:"text-xs text-black font-medium",children:F6(q.transitionTime)})]})]},q.ownerId),e[14]=y,e[15]=n.id,e[16]=_,e[17]=f,e[18]=o.length,e[19]=U):U=e[19],D=o.map(U),e[8]=y,e[9]=n.id,e[10]=_,e[11]=f,e[12]=o,e[13]=D}else D=e[13];let C;e[20]!==D?(C=h.jsx("div",{className:"flex items-center gap-3",children:D}),e[20]=D,e[21]=C):C=e[21];let T;e[22]!==_?(T=!_&&h.jsx("div",{className:"mt-2",children:h.jsxs("button",{onClick:w,className:"flex items-center gap-2 text-sm text-black hover:text-gray-800 transition-colors",title:"Assign manual owner",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Assign Owner"]})}),e[22]=_,e[23]=T):T=e[23];let M;e[24]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{u(!1)},e[24]=M):M=e[24];const L=_?"Select Initial Owner":"Select Manual Owner";let R;e[25]!==k||e[26]!==c||e[27]!==L?(R=h.jsx(H6,{isOpen:c,onClose:M,onSelectUser:k,title:L}),e[25]=k,e[26]=c,e[27]=L,e[28]=R):R=e[28];let $;return e[29]!==R||e[30]!==C||e[31]!==T?($=h.jsxs("div",{className:"mb-3 sm:mb-4",children:[S,C,T,R]}),e[29]=R,e[30]=C,e[31]=T,e[32]=$):$=e[32],$}const Y6=t=>{const e=t.match(/bg-\[#([a-fA-F0-9]{6})\]/);return e?`#${e[1]}`:{"bg-white":"#ffffff","bg-gray-50":"#f9fafb","bg-gray-100":"#f3f4f6","bg-gray-200":"#e5e7eb","bg-gray-300":"#d1d5db","bg-gray-400":"#9ca3af","bg-gray-500":"#6b7280","bg-gray-600":"#4b5563","bg-gray-700":"#374151","bg-gray-800":"#1f2937","bg-gray-900":"#111827","bg-red-50":"#fef2f2","bg-red-100":"#fee2e2","bg-red-200":"#fecaca","bg-red-300":"#fca5a5","bg-red-400":"#f87171","bg-red-500":"#ef4444","bg-red-600":"#dc2626","bg-red-700":"#b91c1c","bg-red-800":"#991b1b","bg-red-900":"#7f1d1d"}[t]||"#ffffff"},Pv=t=>{if(!t)return"";try{const[e,n]=t.split(":").map(Number),r=new Date;return r.setHours(e,n,0,0),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(e){return console.error("Error formatting time:",t,e),""}};function Q6(t){const e=ue.c(127),{event:n,facultyMembers:r,instructorNames:s,resources:o,isHandOffTimeLoading:c}=t,u=gn(),{date:f}=Gr();il(n.man_owner||"");const m=Vn(n);let p;e[0]!==n?(p=gs(n),e[0]=n,e[1]=p):p=e[1];const y=p,[b,w]=N.useState(!1);let x;e[2]!==f||e[3]!==n.id||e[4]!==u?(x=()=>{u(`/${f}/${n.id}/occurrences`)},e[2]=f,e[3]=n.id,e[4]=u,e[5]=x):x=e[5];const k=x,_=Y6(m[6]),S=`linear-gradient(135deg, ${_}, ${_}dd)`;let D;e[6]!==S?(D={background:S},e[6]=S,e[7]=D):D=e[7];const C=`${_}40`;let T;e[8]!==C?(T={backgroundColor:C},e[8]=C,e[9]=T):T=e[9];let M;e[10]!==r||e[11]!==s||e[12]!==b||e[13]!==w?(M=s.length>0&&h.jsx("div",{className:"flex-shrink-0 relative",children:h.jsxs("div",{className:"flex flex-col items-center mb-4",children:[h.jsx("div",{onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),className:"backdrop-blur-sm bg-gradient-to-br from-purple-900/20 to-blue-900/20 p-2 rounded-lg flex items-center justify-center z-20 relative border border-purple-300/20 shadow-lg",children:s.length===1?(()=>{const De=r.find(Kt=>Kt.twentyfivelive_name===s[0]);return De?.kelloggdirectory_image_url?h.jsx(tu,{imageUrl:De.kelloggdirectory_image_url,cutoutImageUrl:De.cutout_image,instructorName:s[0],isHovering:b,size:"lg",className:"h-20 w-20"}):h.jsx("div",{className:"h-20 w-20 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-medium text-lg",children:s[0].charAt(0).toUpperCase()})})():h.jsxs("div",{className:"flex -space-x-2",children:[s.slice(0,3).map((De,Kt)=>{const et=r.find(Xr=>Xr.twentyfivelive_name===De);return et?.kelloggdirectory_image_url?h.jsx("img",{src:et.kelloggdirectory_image_url,alt:De,className:"h-12 w-12 rounded-full border-2 border-white object-cover",onError:G6},`${De}-${Kt}`):h.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 border-2 border-white flex items-center justify-center text-white font-medium",title:De,children:De.charAt(0).toUpperCase()},`${De}-${Kt}`)}),s.length>3&&h.jsxs("div",{className:"h-12 w-12 rounded-full bg-gray-400 border-2 border-white flex items-center justify-center text-white font-medium text-sm",children:["+",s.length-3]})]})}),h.jsx("div",{className:"absolute bottom-[-8px] left-[30%] transform -translate-x-1/2 text-[20px] leading-tight font-medium opacity-90 text-center whitespace-normal w-28 transition-all duration-200 uppercase flex flex-col items-center z-30",style:{fontFamily:"'Olympus Mount', sans-serif",color:"transparent",background:"linear-gradient(-45deg, black 50%, white 50%)",backgroundClip:"text",WebkitBackgroundClip:"text"},children:s.length===1?(()=>{const Kt=r.find(dl=>dl.twentyfivelive_name===s[0])?.kelloggdirectory_name||s[0],et=Kt.split(" "),bs=Kt.length>18?"text-[16px]":"text-[20px]";return et.length>=2?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`-ml-2 whitespace-nowrap ${bs}`,children:et[0]}),h.jsx("div",{className:`ml-2 whitespace-nowrap ${bs}`,children:et.slice(1).join(" ")})]}):h.jsx("div",{className:`whitespace-nowrap ${bs}`,children:Kt})})():s.map(De=>r.find(et=>et.twentyfivelive_name===De)?.kelloggdirectory_name||De).map(W6).join(", ")})]})}),e[10]=r,e[11]=s,e[12]=b,e[13]=w,e[14]=M):M=e[14];let L;e[15]!==n?(L=n.event_name&&h.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-black mb-0.5 uppercase",style:{fontFamily:"'Olympus Mount', sans-serif"},children:z1(n)}),e[15]=n,e[16]=L):L=e[16];let R;e[17]!==n.lecture_title?(R=n.lecture_title&&h.jsx("h2",{className:"text-lg sm:text-2xl font-medium text-black mb-2 ml-4 break-words",style:{fontFamily:"'GoudyBookletter1911', serif"},children:n.lecture_title}),e[17]=n.lecture_title,e[18]=R):R=e[18];let $;e[19]===Symbol.for("react.memo_cache_sentinel")?($={fontFamily:"'Pixellari', sans-serif"},e[19]=$):$=e[19];let U;e[20]!==n.event_name?(U=h.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-0",style:$,children:n.event_name}),e[20]=n.event_name,e[21]=U):U=e[21];let q;e[22]!==U||e[23]!==L||e[24]!==R?(q=h.jsxs("div",{className:"flex-1",children:[L,R,U]}),e[22]=U,e[23]=L,e[24]=R,e[25]=q):q=e[25];let V;e[26]!==q||e[27]!==M?(V=h.jsxs("div",{className:"flex items-center gap-4",children:[M,q]}),e[26]=q,e[27]=M,e[28]=V):V=e[28];let X;e[29]!==V||e[30]!==T?(X=h.jsx("div",{className:"backdrop-blur-sm rounded-lg p-4 mb-4 border border-white/10 dark:border-white/5 shadow-lg",style:T,children:V}),e[29]=V,e[30]=T,e[31]=X):X=e[31];const B=`linear-gradient(135deg, ${_}60, ${_}80)`;let F;e[32]!==B?(F={background:B},e[32]=B,e[33]=F):F=e[33];let I;e[34]===Symbol.for("react.memo_cache_sentinel")?(I=h.jsx("span",{className:"text-xs font-medium text-black mb-3 block",children:"Room"}),e[34]=I):I=e[34];const A=`linear-gradient(135deg, ${y[3]}, ${y[4]})`;let H;e[35]!==A?(H={background:A},e[35]=A,e[36]=H):H=e[36];let z;e[37]===Symbol.for("react.memo_cache_sentinel")?(z={fontFamily:"'Pixellari', sans-serif"},e[37]=z):z=e[37];const te=n.room_name||"Unknown";let O;if(e[38]!==te){let De;e[40]===Symbol.for("react.memo_cache_sentinel")?(De=/^GH\s+/i,e[40]=De):De=e[40],O=te.replace(De,""),e[38]=te,e[39]=O}else O=e[39];let K;e[41]!==O?(K=h.jsx("span",{className:"text-lg font-medium text-black",style:z,children:O}),e[41]=O,e[42]=K):K=e[42];let re;e[43]!==H||e[44]!==K?(re=h.jsx("div",{className:"backdrop-blur-sm rounded-lg px-3 py-2 border border-white/30 dark:border-white/20 shadow-lg",style:H,children:K}),e[43]=H,e[44]=K,e[45]=re):re=e[45];let ne;e[46]!==F||e[47]!==re?(ne=h.jsxs("div",{className:"backdrop-blur-sm rounded-lg p-3 border border-white/10 dark:border-white/5 shadow-lg",style:F,children:[I,re]}),e[46]=F,e[47]=re,e[48]=ne):ne=e[48];const ce=`linear-gradient(135deg, ${_}30, ${_}50)`;let le;e[49]!==ce?(le={background:ce},e[49]=ce,e[50]=le):le=e[50];let ie;e[51]===Symbol.for("react.memo_cache_sentinel")?(ie=h.jsx("span",{className:"text-xs font-medium text-black mb-1 block",children:"Occurrences"}),e[51]=ie):ie=e[51];const me=`flex items-center gap-2 transition-all duration-200 hover:${m[4]} cursor-pointer rounded-lg p-1 border-2 border-transparent hover:${m[3]} hover:${m[4]}`;let fe;e[52]===Symbol.for("react.memo_cache_sentinel")?(fe=h.jsx("svg",{className:"w-5 h-5 text-black mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})}),e[52]=fe):fe=e[52];let Re;e[53]===Symbol.for("react.memo_cache_sentinel")?(Re=h.jsxs("div",{className:"flex flex-col items-center justify-center p-1 rounded-lg",children:[fe,h.jsx("svg",{className:"w-5 h-5 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),e[53]=Re):Re=e[53];const Me=n.date||"";let Ne;e[54]!==Me?(Ne=J0(Me),e[54]=Me,e[55]=Ne):Ne=e[55];let Le;e[56]!==Ne?(Le=h.jsx("p",{className:"text-xs sm:text-sm text-black mb-0",children:Ne}),e[56]=Ne,e[57]=Le):Le=e[57];let rt;e[58]!==n.start_time?(rt=Pv(n.start_time),e[58]=n.start_time,e[59]=rt):rt=e[59];let We;e[60]!==n.end_time?(We=Pv(n.end_time),e[60]=n.end_time,e[61]=We):We=e[61];let ot;e[62]===Symbol.for("react.memo_cache_sentinel")?(ot=h.jsx("span",{className:"text-xs text-gray-500",children:"CST"}),e[62]=ot):ot=e[62];let Qe;e[63]!==rt||e[64]!==We?(Qe=h.jsxs("p",{className:"text-xs sm:text-sm text-black",children:[rt," - ",We," ",ot]}),e[63]=rt,e[64]=We,e[65]=Qe):Qe=e[65];let $e;e[66]!==Le||e[67]!==Qe?($e=h.jsxs("div",{className:"flex flex-col",children:[Le,Qe]}),e[66]=Le,e[67]=Qe,e[68]=$e):$e=e[68];let pe;e[69]!==k||e[70]!==me||e[71]!==$e?(pe=h.jsxs("div",{className:me,onClick:k,children:[Re,$e]}),e[69]=k,e[70]=me,e[71]=$e,e[72]=pe):pe=e[72];let _e;e[73]!==le||e[74]!==pe?(_e=h.jsxs("div",{className:"backdrop-blur-sm rounded-lg p-2 z-20 relative border border-white/10 dark:border-white/5 shadow-lg",style:le,children:[ie,pe]}),e[73]=le,e[74]=pe,e[75]=_e):_e=e[75];let Oe;e[76]!==ne||e[77]!==_e?(Oe=h.jsxs("div",{className:"flex items-start gap-3 mb-3 sm:mb-4",children:[ne,_e]}),e[76]=ne,e[77]=_e,e[78]=Oe):Oe=e[78];let be;e[79]!==n||e[80]!==c?(be=h.jsx(I6,{event:n,isHandOffTimeLoading:c}),e[79]=n,e[80]=c,e[81]=be):be=e[81];let Pe;e[82]!==X||e[83]!==Oe||e[84]!==be?(Pe=h.jsxs("div",{className:"flex-1 lg:w-1/2 mb-4 lg:mb-0",children:[X,Oe,be]}),e[82]=X,e[83]=Oe,e[84]=be,e[85]=Pe):Pe=e[85];const Je=`linear-gradient(135deg, ${_}90, ${_}aa)`;let Ye;e[86]!==Je?(Ye={background:Je},e[86]=Je,e[87]=Ye):Ye=e[87];let at;e[88]===Symbol.for("react.memo_cache_sentinel")?(at=h.jsx("h3",{className:"text-xs font-semibold text-black mb-1 uppercase tracking-wide",children:"Event Details"}),e[88]=at):at=e[88];let Ke;e[89]===Symbol.for("react.memo_cache_sentinel")?(Ke=h.jsx("span",{className:"text-xs font-medium text-black mb-0.5 block",children:"Event"}),e[89]=Ke):Ke=e[89];const je=`px-1.5 py-0.5 text-xs font-medium rounded inline-flex items-center justify-center ${m[7]} text-black`;let Ue;e[90]!==n.event_name||e[91]!==n.event_type?(Ue=n.event_type==="Lecture"&&n.event_name&&n.event_name.length>=4?B6(n.event_name.substring(0,4)):n.event_name||"Unknown",e[90]=n.event_name,e[91]=n.event_type,e[92]=Ue):Ue=e[92];let ve;e[93]!==je||e[94]!==Ue?(ve=h.jsxs("div",{children:[Ke,h.jsx("span",{className:je,children:Ue})]}),e[93]=je,e[94]=Ue,e[95]=ve):ve=e[95];let gt;e[96]===Symbol.for("react.memo_cache_sentinel")?(gt=h.jsx("span",{className:"text-xs font-medium text-black mb-0.5 block",children:"Type"}),e[96]=gt):gt=e[96];const tn=`px-1.5 py-0.5 text-xs font-medium rounded inline-flex items-center justify-center ${m[7]} text-black`,qt=n.event_type||"Unknown";let It;e[97]!==tn||e[98]!==qt?(It=h.jsxs("div",{children:[gt,h.jsx("span",{className:tn,children:qt})]}),e[97]=tn,e[98]=qt,e[99]=It):It=e[99];let Yt;e[100]!==ve||e[101]!==It?(Yt=h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[ve,It]}),e[100]=ve,e[101]=It,e[102]=Yt):Yt=e[102];let Ct;e[103]!==Ye||e[104]!==Yt?(Ct=h.jsxs("div",{className:"backdrop-blur-sm rounded-lg p-2 mb-3 border border-white/10 dark:border-white/5 shadow-lg",style:Ye,children:[at,Yt]}),e[103]=Ye,e[104]=Yt,e[105]=Ct):Ct=e[105];let Qt;e[106]!==o||e[107]!==m[10]||e[108]!==m[7]||e[109]!==m[8]||e[110]!==m[9]||e[111]!==y[2]||e[112]!==y[3]||e[113]!==y[4]||e[114]!==y[5]||e[115]!==y[6]||e[116]!==y[7]?(Qt=o.length>0&&h.jsxs("div",{className:"backdrop-blur-sm rounded-xl shadow-2xl border border-white/20 dark:border-white/10 overflow-visible",style:{background:`linear-gradient(135deg, ${y[3]}, ${y[4]})`},children:[h.jsx("div",{className:"backdrop-blur-sm px-4 py-2 border-b border-white/10 dark:border-white/5",style:{background:`linear-gradient(to right, ${y[2]}, ${y[3]})`},children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-bold text-white tracking-tight",children:"Resources"}),h.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${m[8]} text-white`,children:[o.length," total"]})]})}),(()=>{const De=o.filter(V6),Kt=o.filter(K6);return h.jsx("div",{className:"p-3",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[h.jsx("div",{children:(De.length>0||Kt.length===0)&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`h-6 w-1 bg-gradient-to-b ${m[10]} ${m[9]} rounded-full`}),h.jsx("h4",{className:"text-base font-bold text-white",children:"AV Resources"}),h.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${m[7]} text-white`,children:De.length})]}),h.jsx("div",{className:"space-y-2",children:De.map((et,Xr)=>h.jsx("div",{className:"group backdrop-blur-sm rounded-lg p-3 border border-white/20 dark:border-white/10 hover:border-white/30 dark:hover:border-white/20 hover:shadow-lg transition-all duration-300",style:{background:`linear-gradient(135deg, ${y[5]}CC, ${y[6]}AA)`},children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:`flex-shrink-0 w-8 h-8 bg-gradient-to-br ${m[9]} ${m[10]} rounded-lg flex items-center justify-center shadow-sm group-hover:shadow-md transition-all duration-300`,children:eu(et.itemName)==="ZOOM_ICON"?h.jsx("img",{src:"/zoomicon.png",alt:"Zoom",className:"w-5 h-5 object-contain"}):h.jsx("span",{className:"text-sm text-white font-bold",children:eu(et.itemName)})}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h5",{className:"text-base font-semibold text-white mb-1 leading-tight",children:C0(et.itemName)}),h.jsx("p",{className:"text-xs text-gray-400 font-normal mb-1 truncate",children:et.itemName}),et.instruction&&h.jsx("p",{className:"text-xs text-white leading-snug",children:et.instruction})]}),et.quantity&&et.quantity>1&&h.jsx("div",{className:"flex-shrink-0",children:h.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${m[9]} ${m[10]} text-white shadow-sm`,children:[et.quantity,"x"]})})]})})]})},`ksm-${Xr}`))})]})}),h.jsx("div",{children:Kt.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`h-6 w-1 bg-gradient-to-b ${m[10]} ${m[9]} rounded-full`}),h.jsx("h4",{className:"text-base font-bold text-white",children:"General Resources"}),h.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${m[7]} text-white`,children:Kt.length})]}),h.jsx("div",{className:"space-y-1",children:Kt.map((et,Xr)=>h.jsx("div",{className:"group backdrop-blur-sm rounded-lg p-3 border border-white/20 dark:border-white/10 hover:border-white/30 dark:hover:border-white/20 hover:shadow-lg transition-all duration-200",style:{background:`linear-gradient(135deg, ${y[6]}CC, ${y[7]}AA)`},children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-xs text-gray-300 font-normal",children:et.itemName}),et.instruction&&h.jsx("p",{className:"text-xs text-white leading-snug mt-1",children:et.instruction})]}),et.quantity&&et.quantity>1&&h.jsx("div",{className:"flex-shrink-0 ml-3",children:h.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold ${m[8]} text-white`,children:[et.quantity,"x"]})})]})},`other-${Xr}`))})]})})]})})})()]}),e[106]=o,e[107]=m[10],e[108]=m[7],e[109]=m[8],e[110]=m[9],e[111]=y[2],e[112]=y[3],e[113]=y[4],e[114]=y[5],e[115]=y[6],e[116]=y[7],e[117]=Qt):Qt=e[117];let Lt;e[118]!==Ct||e[119]!==Qt?(Lt=h.jsxs("div",{className:"flex-1 lg:w-1/2 lg:pl-8",children:[Ct,Qt]}),e[118]=Ct,e[119]=Qt,e[120]=Lt):Lt=e[120];let Sn;e[121]!==Pe||e[122]!==Lt?(Sn=h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between",children:[Pe,Lt]}),e[121]=Pe,e[122]=Lt,e[123]=Sn):Sn=e[123];let we;return e[124]!==D||e[125]!==Sn?(we=h.jsx("div",{className:" rounded-xl shadow-2xl border border-white/20 dark:border-white/10 p-4 sm:p-6 mb-4 sm:mb-6",style:D,children:Sn}),e[124]=D,e[125]=Sn,e[126]=we):we=e[126],we}function K6(t){return!t.itemName?.toLowerCase().startsWith("ksm-kgh-video")&&!t.itemName?.toLowerCase().startsWith("ksm-kgh-av")}function V6(t){return t.itemName?.toLowerCase().startsWith("ksm-kgh-video")||t.itemName?.toLowerCase().startsWith("ksm-kgh-av")}function W6(t){const e=t.split(" ");return e.length>1?e[e.length-1]:t}function G6(t){const e=t.target;e.style.display="none";const n=e.nextElementSibling;n&&(n.style.display="flex")}const X6=async t=>{if(console.log("fetchFacultyUpdates called with facultyId:",t),!t)return console.log("No faculty ID provided, returning empty array"),[];try{const{data:e,error:n}=await de.from("faculty_updates").select("*").eq("faculty",t).order("created_at",{ascending:!0});return n?(console.error("Error fetching faculty updates:",n),[]):(console.log("Fetched faculty updates:",e),e||[])}catch(e){return console.error("Error in fetchFacultyUpdates:",e),[]}},Z6=async({facultyId:t,content:e})=>{if(console.log("createFacultyUpdate called with:",{facultyId:t,content:e}),!t||!e.trim())throw new Error("Faculty ID and content are required");const{data:{user:n}}=await de.auth.getUser();if(!n)throw new Error("User not authenticated");console.log("User authenticated:",n.email||n.id);const{data:r,error:s}=await de.from("faculty").select("id").eq("id",t).single();if(s||!r)throw console.error("Faculty member not found:",{facultyId:t,error:s}),new Error(`Faculty member with ID ${t} not found`);console.log("Faculty member verified:",r);const o={faculty:t,content:e.trim(),author:n.id};console.log("Inserting faculty update with data:",o);const{data:c,error:u}=await de.from("faculty_updates").insert(o).select().single();if(u)throw console.error("Error creating faculty update:",u),console.error("Error details:",{message:u.message,details:u.details,hint:u.hint,code:u.code}),u;return console.log("Faculty update created successfully:",c),c},J6=async({updateId:t,content:e})=>{if(console.log("updateFacultyUpdate called with:",{updateId:t,content:e}),!t||!e.trim())throw new Error("Update ID and content are required");const{data:{user:n}}=await de.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:r,error:s}=await de.from("faculty_updates").select("author").eq("id",t).single();if(s||!r)throw new Error("Update not found");if(r.author!==n.id)throw new Error("You can only edit your own updates");const{data:o,error:c}=await de.from("faculty_updates").update({content:e.trim()}).eq("id",t).select().single();if(c)throw console.error("Error updating faculty update:",c),c;return console.log("Faculty update updated successfully:",o),o},eM=async({updateId:t})=>{if(console.log("deleteFacultyUpdate called with:",{updateId:t}),!t)throw new Error("Update ID is required");const{data:{user:e}}=await de.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:n,error:r}=await de.from("faculty_updates").select("author").eq("id",t).single();if(r||!n)throw new Error("Update not found");if(n.author!==e.id)throw new Error("You can only delete your own updates");const{error:s}=await de.from("faculty_updates").delete().eq("id",t);if(s)throw console.error("Error deleting faculty update:",s),s;return console.log("Faculty update deleted successfully"),t},tM=t=>{const e=ue.c(7);let n,r;e[0]!==t?(n=["facultyUpdates",t],r=()=>X6(t),e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const s=!!t;let o;return e[3]!==n||e[4]!==r||e[5]!==s?(o={queryKey:n,queryFn:r,enabled:s},e[3]=n,e[4]=r,e[5]=s,e[6]=o):o=e[6],pt(o)},nM=()=>{const t=ue.c(2),e=Ot();let n;return t[0]!==e?(n={mutationFn:Z6,onSuccess:(r,s)=>{e.invalidateQueries({queryKey:["facultyUpdates",s.facultyId]})},onError:sM},t[0]=e,t[1]=n):n=t[1],Ft(n)},rM=()=>{const t=ue.c(2),e=Ot();let n;return t[0]!==e?(n={mutationFn:J6,onSuccess:(r,s)=>{e.invalidateQueries({queryKey:["facultyUpdates"]})},onError:iM},t[0]=e,t[1]=n):n=t[1],Ft(n)},aM=()=>{const t=ue.c(2),e=Ot();let n;return t[0]!==e?(n={mutationFn:eM,onSuccess:(r,s)=>{e.invalidateQueries({queryKey:["facultyUpdates"]})},onError:oM},t[0]=e,t[1]=n):n=t[1],Ft(n)};function sM(t){console.error("Mutation failed:",t)}function iM(t){console.error("Update mutation failed:",t)}function oM(t){console.error("Delete mutation failed:",t)}function lM(t){const e=ue.c(63),{event:n,facultyMember:r}=t,[s,o]=N.useState(""),[c,u]=N.useState(!1),[f,m]=N.useState(null),[p,y]=N.useState(""),{user:b}=_n();let w;e[0]!==n?(w=Vn(n),e[0]=n,e[1]=w):w=e[1];const x=w,{data:k,isLoading:_}=tM(r?.id||0),S=nM(),D=rM(),C=aM();let T;e[2]!==S||e[3]!==r||e[4]!==s?(T=async()=>{if(!r?.id||!s.trim()){console.log("Missing faculty ID or note content:",{facultyId:r?.id,noteContent:s});return}console.log("Attempting to create faculty update:",{facultyId:r.id,content:s.trim()});try{await S.mutateAsync({facultyId:r.id,content:s.trim()}),o(""),u(!1)}catch(le){console.error("Error adding faculty update:",le)}},e[2]=S,e[3]=r,e[4]=s,e[5]=T):T=e[5];const M=T;let L;e[6]===Symbol.for("react.memo_cache_sentinel")?(L=()=>{o(""),u(!1)},e[6]=L):L=e[6];const R=L;let $;e[7]===Symbol.for("react.memo_cache_sentinel")?($=le=>{m(le.id),y(le.content)},e[7]=$):$=e[7];const U=$;let q;e[8]!==p||e[9]!==f||e[10]!==D?(q=async()=>{if(!(!f||!p.trim()))try{await D.mutateAsync({updateId:f,content:p.trim()}),m(null),y("")}catch(le){console.error("Error updating faculty update:",le)}},e[8]=p,e[9]=f,e[10]=D,e[11]=q):q=e[11];const V=q;let X;e[12]===Symbol.for("react.memo_cache_sentinel")?(X=()=>{m(null),y("")},e[12]=X):X=e[12];const B=X;let F;e[13]!==C?(F=async le=>{if(window.confirm("Are you sure you want to delete this note?"))try{await C.mutateAsync({updateId:le})}catch(ie){console.error("Error deleting faculty update:",ie)}},e[13]=C,e[14]=F):F=e[14];const I=F,A=cM;if(!r){const le=`${x[3]} rounded-lg shadow-lg p-6`;let ie,me;e[15]===Symbol.for("react.memo_cache_sentinel")?(me=h.jsx("h3",{className:"text-xl font-semibold text-black mb-4",children:"Setup History"}),ie=h.jsx("p",{className:"text-black opacity-70",children:"No faculty member assigned to this session."}),e[15]=ie,e[16]=me):(ie=e[15],me=e[16]);let fe;return e[17]!==le?(fe=h.jsxs("div",{className:le,children:[me,ie]}),e[17]=le,e[18]=fe):fe=e[18],fe}const H=`${x[3]} rounded-lg shadow-lg p-2`;let z;e[19]===Symbol.for("react.memo_cache_sentinel")?(z=h.jsx("h3",{className:"text-xl font-semibold text-black",children:"Setup History"}),e[19]=z):z=e[19];let te;e[20]!==c||e[21]!==x[6]||e[22]!==x[8]||e[23]!==x.text1||e[24]!==x.text10?(te=!c&&h.jsx("button",{onClick:()=>u(!0),className:`p-2 border-2 ${x[6]} ${x.text10} rounded-full hover:${x[8]} hover:${x.text1} transition-all duration-200 hover:scale-105`,title:"Add note",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),e[20]=c,e[21]=x[6],e[22]=x[8],e[23]=x.text1,e[24]=x.text10,e[25]=te):te=e[25];let O;e[26]!==te?(O=h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z,te]}),e[26]=te,e[27]=O):O=e[27];let K;e[28]!==S||e[29]!==M||e[30]!==c||e[31]!==s||e[32]!==x[3]||e[33]!==x[4]||e[34]!==x[6]||e[35]!==x[7]||e[36]!==x[8]||e[37]!==x.text1||e[38]!==x.text10?(K=c&&h.jsxs("div",{className:`mb-6 p-4 ${x[4]} rounded-lg border`,children:[h.jsx("textarea",{value:s,onChange:le=>o(le.target.value),placeholder:"Enter a new setup note...",className:`w-full h-24 p-3 border rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x[3]} text-black mb-3`}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:M,disabled:!s.trim()||S.isPending,className:`px-3 py-1.5 ${x[8]} ${x.text1} text-sm rounded-md hover:${x[6]} transition-colors disabled:opacity-50 font-medium`,children:S.isPending?"Adding...":"Add Note"}),h.jsx("button",{onClick:R,disabled:S.isPending,className:`px-3 py-1.5 ${x[7]} ${x.text10} text-sm rounded-md hover:${x[6]} transition-colors disabled:opacity-50 font-medium`,children:"Cancel"})]})]}),e[28]=S,e[29]=M,e[30]=c,e[31]=s,e[32]=x[3],e[33]=x[4],e[34]=x[6],e[35]=x[7],e[36]=x[8],e[37]=x.text1,e[38]=x.text10,e[39]=K):K=e[39];let re;e[40]!==p||e[41]!==f||e[42]!==k||e[43]!==I||e[44]!==V||e[45]!==_||e[46]!==x[3]||e[47]!==x[4]||e[48]!==x[6]||e[49]!==x[7]||e[50]!==x[8]||e[51]!==x.text1||e[52]!==x.text10||e[53]!==D||e[54]!==b?.id?(re=_?h.jsxs("div",{className:"text-center py-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"text-sm text-black opacity-70 mt-2",children:"Loading notes..."})]}):k&&k.length>0?k.map(le=>h.jsxs("div",{className:`p-4 ${x[4]} rounded-lg border`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[le.author?h.jsx(_i,{userId:le.author,size:"sm"}):h.jsx("div",{className:"w-6 h-6 bg-gray-400 rounded-full flex items-center justify-center text-white text-xs font-medium",children:"?"}),h.jsx("span",{className:"text-xs text-black opacity-70",children:A(le.created_at)})]}),le.author&&le.author===b?.id&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>U(le),className:`p-1 ${x.text10} hover:text-blue-600 transition-colors`,title:"Edit note",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),h.jsx("button",{onClick:()=>I(le.id),className:`p-1 ${x.text10} hover:text-red-600 transition-colors`,title:"Delete note",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),f===le.id?h.jsxs("div",{className:"space-y-3",children:[h.jsx("textarea",{value:p,onChange:ie=>y(ie.target.value),className:`w-full h-24 p-3 border rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x[3]} text-black`}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:V,disabled:!p.trim()||D.isPending,className:`px-3 py-1 ${x[8]} ${x.text1} text-sm rounded hover:${x[6]} transition-colors disabled:opacity-50`,children:D.isPending?"Saving...":"Save"}),h.jsx("button",{onClick:B,disabled:D.isPending,className:`px-3 py-1 ${x[7]} ${x.text10} text-sm rounded hover:${x[6]} transition-colors disabled:opacity-50`,children:"Cancel"})]})]}):h.jsx("p",{className:"text-black whitespace-pre-wrap",children:le.content})]},le.id)):h.jsxs("div",{className:"text-center py-8",children:[h.jsx("p",{className:"text-black opacity-70 italic",children:"No setup notes available."}),h.jsx("p",{className:"text-sm text-black opacity-50 mt-1",children:'Click "Add Note" to create the first note for this faculty member.'})]}),e[40]=p,e[41]=f,e[42]=k,e[43]=I,e[44]=V,e[45]=_,e[46]=x[3],e[47]=x[4],e[48]=x[6],e[49]=x[7],e[50]=x[8],e[51]=x.text1,e[52]=x.text10,e[53]=D,e[54]=b?.id,e[55]=re):re=e[55];let ne;e[56]!==re?(ne=h.jsx("div",{className:"space-y-4",children:re}),e[56]=re,e[57]=ne):ne=e[57];let ce;return e[58]!==O||e[59]!==K||e[60]!==ne||e[61]!==H?(ce=h.jsxs("div",{className:H,children:[O,K,ne]}),e[58]=O,e[59]=K,e[60]=ne,e[61]=H,e[62]=ce):ce=e[62],ce}function cM(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function uM(t){const e=ue.c(45),{event:n,facultyMember:r,primaryInstructorName:s,openPanelModal:o}=t,[c,u]=N.useState(!1),{data:f,isLoading:m}=Ox(r.id),p=Ax();let y;e[0]!==n?(y=Vn(n),e[0]=n,e[1]=y):y=e[1];const b=y;let w;e[2]!==n?(w=gs(n),e[2]=n,e[3]=w):w=e[3];const x=w;if(m){const I=`linear-gradient(135deg, ${x[1]}BB, ${x[2]}99)`;let A;e[4]!==I?(A={background:I},e[4]=I,e[5]=A):A=e[5];let H;e[6]===Symbol.for("react.memo_cache_sentinel")?(H=h.jsx("div",{className:"flex items-center justify-center h-32",children:h.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-white border-t-transparent rounded-full"})}),e[6]=H):H=e[6];let z;return e[7]!==A?(z=h.jsx("div",{className:"backdrop-blur-sm border border-white/10 dark:border-white/5 rounded-lg p-3 sm:p-4 shadow-lg",style:A,children:H}),e[7]=A,e[8]=z):z=e[8],z}const k=`linear-gradient(135deg, ${x[1]}BB, ${x[2]}99)`;let _;e[9]!==k?(_={background:k},e[9]=k,e[10]=_):_=e[10];let S;e[11]===Symbol.for("react.memo_cache_sentinel")?(S=h.jsx("h4",{className:"text-base sm:text-lg font-medium text-black",children:"Setup Options"}),e[11]=S):S=e[11];let D;e[12]!==c?(D=()=>u(!c),e[12]=c,e[13]=D):D=e[13];const C=`flex items-center gap-2 px-3 py-1.5 rounded-lg border transition-colors text-sm font-medium ${c?"bg-blue-100 border-blue-300 text-blue-700 hover:bg-blue-200":"bg-white/20 border-white/20 text-black hover:bg-white/30"}`,T=c?"Exit edit mode":"Enter edit mode";let M;e[14]===Symbol.for("react.memo_cache_sentinel")?(M=h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),e[14]=M):M=e[14];const L=c?"Exit Edit":"Edit";let R;e[15]!==L||e[16]!==D||e[17]!==C||e[18]!==T?(R=h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S,h.jsxs("button",{onClick:D,className:C,title:T,children:[M,L]})]}),e[15]=L,e[16]=D,e[17]=C,e[18]=T,e[19]=R):R=e[19];let $;e[20]===Symbol.for("react.memo_cache_sentinel")?($=h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"relative m-0 p-0",children:[h.jsx("div",{className:"absolute top-0 left-0 w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 dark:bg-purple-200 rounded-full"}),h.jsx("img",{src:"/lapel.png",alt:"Lapel microphone",className:"relative z-10 w-10 h-10 sm:w-12 sm:h-12 object-cover m-0 p-0 scale-150 -top-3 sm:-top-4"})]}),h.jsx("span",{className:"text-sm sm:text-base text-black font-medium",children:"Uses Microphone"})]}),e[20]=$):$=e[20];let U;e[21]!==r.id||e[22]!==f||e[23]!==c||e[24]!==m||e[25]!==b||e[26]!==p?(U=h.jsxs("div",{className:"flex items-center justify-between",children:[$,c?h.jsxs("label",{className:"inline-flex items-center cursor-pointer select-none",children:[h.jsx("input",{type:"checkbox",className:"hidden peer",checked:f?.uses_mic||!1,onChange:()=>{!p.isPending&&f&&p.mutate({facultyId:r.id,attributes:{uses_mic:!f.uses_mic,left_source:f.left_source??"",right_source:f.right_source??""}})},disabled:p.isPending||m}),h.jsx("span",{className:`w-6 h-6 flex items-center justify-center border-2 rounded transition-colors duration-150
                ${f?.uses_mic?"border-green-600 bg-green-100":`border-gray-400 ${b[3]}`}
                ${p.isPending?"opacity-60":""}`,children:p.isPending?h.jsx("span",{className:"animate-spin w-4 h-4 border-2 border-green-400 border-t-transparent rounded-full"}):f?.uses_mic?h.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:"3",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):null})]}):h.jsx("div",{className:"flex items-center",children:h.jsx("span",{className:`w-6 h-6 flex items-center justify-center border-2 rounded ${f?.uses_mic?"border-green-600 bg-green-100":"border-gray-400 bg-gray-100"}`,children:f?.uses_mic?h.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:"3",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):null})})]}),e[21]=r.id,e[22]=f,e[23]=c,e[24]=m,e[25]=b,e[26]=p,e[27]=U):U=e[27];let q;e[28]!==f||e[29]!==c||e[30]!==o||e[31]!==s||e[32]!==x[1]||e[33]!==x[2]?(q=(f?.right_source||f?.left_source)&&h.jsxs("div",{className:"mt-6",children:[h.jsx("h4",{className:"text-base sm:text-lg font-medium text-black mb-3",children:"Panel"}),h.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[f?.left_source&&h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-xs sm:text-sm text-black mb-2",children:"Left Panel"}),c?h.jsx("button",{onClick:()=>o("left"),className:"w-full h-24 sm:h-32 rounded-lg border border-white/10 dark:border-white/5 flex items-center justify-center transition-colors cursor-pointer backdrop-blur-sm shadow-lg hover:shadow-xl",style:{background:`linear-gradient(135deg, ${x[1]}AA, ${x[2]}88)`},title:"Click to change panel setup",children:h.jsx("img",{src:`/panel-images/${f.left_source}.png`,alt:`Left panel setup for ${s}`,className:"max-w-full max-h-full object-contain",onError:I=>{console.error("Error loading left panel image:",f.left_source,"Full path:",`/panel-images/${f.left_source}.png`),I.target.style.display="none",I.target.parentElement.innerHTML=`<span class="text-black">Failed to load: ${f.left_source}.png</span>`}})}):h.jsx("div",{className:"w-full h-24 sm:h-32 rounded-lg border border-white/10 dark:border-white/5 flex items-center justify-center backdrop-blur-sm shadow-lg",style:{background:`linear-gradient(135deg, ${x[1]}AA, ${x[2]}88)`},children:h.jsx("img",{src:`/panel-images/${f.left_source}.png`,alt:`Left panel setup for ${s}`,className:"max-w-full max-h-full object-contain",onError:I=>{console.error("Error loading left panel image:",f.left_source,"Full path:",`/panel-images/${f.left_source}.png`),I.target.style.display="none",I.target.parentElement.innerHTML=`<span class="text-black">Failed to load: ${f.left_source}.png</span>`}})}),h.jsx("p",{className:"text-xs text-black text-center mt-2 font-medium",children:f.left_source.replace(/_/g," ")})]}),f?.right_source&&h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-xs sm:text-sm text-black mb-2",children:"Right Panel"}),c?h.jsx("button",{onClick:()=>o("right"),className:"w-full h-24 sm:h-32 rounded-lg border border-white/10 dark:border-white/5 flex items-center justify-center transition-colors cursor-pointer backdrop-blur-sm shadow-lg hover:shadow-xl",style:{background:`linear-gradient(135deg, ${x[1]}AA, ${x[2]}88)`},title:"Click to change panel setup",children:h.jsx("img",{src:`/panel-images/${f.right_source}.png`,alt:`Right panel setup for ${s}`,className:"max-w-full max-h-full object-contain",onError:I=>{console.error("Error loading right panel image:",f.right_source,"Full path:",`/panel-images/${f.right_source}.png`),I.target.style.display="none",I.target.parentElement.innerHTML=`<span class="text-black">Failed to load: ${f.right_source}.png</span>`}})}):h.jsx("div",{className:"w-full h-24 sm:h-32 rounded-lg border border-white/10 dark:border-white/5 flex items-center justify-center backdrop-blur-sm shadow-lg",style:{background:`linear-gradient(135deg, ${x[1]}AA, ${x[2]}88)`},children:h.jsx("img",{src:`/panel-images/${f.right_source}.png`,alt:`Right panel setup for ${s}`,className:"max-w-full max-h-full object-contain",onError:I=>{console.error("Error loading right panel image:",f.right_source,"Full path:",`/panel-images/${f.right_source}.png`),I.target.style.display="none",I.target.parentElement.innerHTML=`<span class="text-black">Failed to load: ${f.right_source}.png</span>`}})}),h.jsx("p",{className:"text-xs text-black text-center mt-2 font-medium",children:f.right_source.replace(/_/g," ")})]})]})]}),e[28]=f,e[29]=c,e[30]=o,e[31]=s,e[32]=x[1],e[33]=x[2],e[34]=q):q=e[34];const V=f?.updated_at?`Last updated: ${new Date(f.updated_at).toLocaleString()}`:"Never updated";let X;e[35]!==V?(X=h.jsx("div",{className:"mt-4 pt-3 border-t border-white/10",children:h.jsx("p",{className:"text-xs text-black/70",children:V})}),e[35]=V,e[36]=X):X=e[36];let B;e[37]!==U||e[38]!==q||e[39]!==X?(B=h.jsxs("div",{className:"space-y-4",children:[U,q,X]}),e[37]=U,e[38]=q,e[39]=X,e[40]=B):B=e[40];let F;return e[41]!==R||e[42]!==B||e[43]!==_?(F=h.jsxs("div",{className:"backdrop-blur-sm border border-white/10 dark:border-white/5 rounded-lg p-3 sm:p-4 shadow-lg",style:_,children:[R,B]}),e[41]=R,e[42]=B,e[43]=_,e[44]=F):F=e[44],F}function Rx(t){const e=ue.c(33),{event:n,facultyMembers:r,instructorNames:s,isFacultyLoading:o,openPanelModal:c}=t,u=r&&r.length>0?r[0]:null,f=s&&s.length>0?s[0]:"";Vn(n);let m;e[0]!==n?(m=gs(n),e[0]=n,e[1]=m):m=e[1];const p=m,[y,b]=N.useState(!1),[w,x]=N.useState(!1),k=`linear-gradient(135deg, ${p[1]}CC, ${p[2]}AA)`;let _;e[2]!==k?(_={background:k},e[2]=k,e[3]=_):_=e[3];let S;e[4]!==w?(S=()=>x(!w),e[4]=w,e[5]=S):S=e[5];const D=u?.kelloggdirectory_name?` - ${u.kelloggdirectory_name.split(" ").pop()}`:f?` - ${f.split(" ").pop()}`:"";let C;e[6]!==D?(C=h.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-black",children:["Faculty Profile",D]}),e[6]=D,e[7]=C):C=e[7];const T=w?"Expand session setup":"Collapse session setup",M=`w-5 h-5 text-gray-600 transition-transform duration-200 ${w?"rotate-180":""}`;let L;e[8]===Symbol.for("react.memo_cache_sentinel")?(L=h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}),e[8]=L):L=e[8];let R;e[9]!==M?(R=h.jsx("svg",{className:M,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L}),e[9]=M,e[10]=R):R=e[10];let $;e[11]!==R||e[12]!==T?($=h.jsx("button",{className:"flex items-center justify-center w-8 h-8 backdrop-blur-sm bg-white/20 dark:bg-black/20 hover:bg-white/30 dark:hover:bg-black/30 border border-white/20 dark:border-white/10 rounded-full transition-colors shadow-lg","aria-label":T,children:R}),e[11]=R,e[12]=T,e[13]=$):$=e[13];let U;e[14]!==$||e[15]!==S||e[16]!==C?(U=h.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:S,children:[C,$]}),e[14]=$,e[15]=S,e[16]=C,e[17]=U):U=e[17];let q;e[18]!==n||e[19]!==u||e[20]!==s||e[21]!==w||e[22]!==y||e[23]!==o||e[24]!==c||e[25]!==f||e[26]!==p[1]||e[27]!==p[2]?(q=!w&&h.jsxs(h.Fragment,{children:[s.length>0&&h.jsx("div",{className:"mb-4 sm:mb-6",children:h.jsx("div",{className:"backdrop-blur-sm border border-white/10 dark:border-white/5 rounded-lg p-3 sm:p-4 shadow-lg",style:{background:`linear-gradient(135deg, ${p[1]}BB, ${p[2]}99)`},children:h.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[u?.kelloggdirectory_image_url?h.jsx("div",{onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:h.jsx(tu,{imageUrl:u.kelloggdirectory_image_url,cutoutImageUrl:u.cutout_image,instructorName:f,isHovering:y,size:"lg",priority:!0})}):h.jsx("div",{className:"h-12 w-12 sm:h-16 sm:w-16 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:h.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-lg sm:text-xl",children:"👤"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"text-base sm:text-lg font-medium text-black truncate",children:u?.kelloggdirectory_name?`Dr. ${u.kelloggdirectory_name}`:f}),u?.kelloggdirectory_bio_url&&h.jsx("a",{href:u.kelloggdirectory_bio_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors flex-shrink-0",title:"View faculty directory page",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]}),u?.kelloggdirectory_title&&h.jsx("p",{className:"text-xs sm:text-sm text-black truncate",children:u.kelloggdirectory_title}),o&&h.jsx("p",{className:"text-xs text-black",children:"Loading faculty info..."})]})]})})}),h.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6",children:[h.jsx("div",{className:"space-y-4 sm:space-y-6",children:s.length>0&&u&&h.jsx(uM,{event:n,facultyMember:u,primaryInstructorName:f,openPanelModal:c})}),h.jsx("div",{className:"",children:s.length>0&&u&&h.jsx("div",{children:h.jsx(lM,{event:n,facultyMember:u})})})]})]}),e[18]=n,e[19]=u,e[20]=s,e[21]=w,e[22]=y,e[23]=o,e[24]=c,e[25]=f,e[26]=p[1],e[27]=p[2],e[28]=q):q=e[28];let V;return e[29]!==U||e[30]!==q||e[31]!==_?(V=h.jsxs("div",{className:"backdrop-blur-md rounded-xl shadow-2xl border border-white/20 dark:border-white/10 p-3 sm:p-6 mb-8",style:_,children:[U,q]}),e[29]=U,e[30]=q,e[31]=_,e[32]=V):V=e[32],V}const dM=t=>{const e=Ot(),n=N.useRef(e);n.current=e;const r=pt({queryKey:["panoptoChecks",t],queryFn:async()=>{const{data:s,error:o}=await de.from("panopto_checks").select(`
          check_time, 
          completed_time, 
          completed_by_user_id,
          status,
          profiles!panopto_checks_completed_by_user_id_fkey(id, name)
        `).eq("event_id",t).order("check_time");if(o)throw o;return s||[]},enabled:!!t,staleTime:12e4});return N.useEffect(()=>{if(!t)return;let s=null;return(async()=>{await de.realtime.setAuth(),s=de.channel(`topic:${t}`).on("broadcast",{event:"INSERT"},c=>{n.current.invalidateQueries({queryKey:["panoptoChecks",t]})}).on("broadcast",{event:"UPDATE"},c=>{n.current.invalidateQueries({queryKey:["panoptoChecks",t]})}).on("broadcast",{event:"DELETE"},c=>{n.current.invalidateQueries({queryKey:["panoptoChecks",t]})}).subscribe(c=>{console.log("🔴 Broadcast subscription status:",c)})})(),()=>{s&&de.removeChannel(s)}},[t]),r},Uv=1800*1e3,fM=t=>{const e=ue.c(28),{user:n}=_n(),r=Ot(),{data:s,isLoading:o,error:c}=Eu(t),{profile:u}=ys();let f;e[0]!==s||e[1]!==t||e[2]!==n?.id?(f=async _=>{const{checkNumber:S}=_;if(!s)throw new Error("Event data not available");let D=null;if(s.start_time){const T=new Date(`${s.date}T${s.start_time}`);D=new Date(T.getTime()+(S-1)*Uv).toTimeString().split(" ")[0]}if(!D)throw new Error("Could not calculate check time");const{error:C}=await de.from("panopto_checks").update({completed_time:new Date().toTimeString().split(" ")[0],completed_by_user_id:n?.id||null,status:"completed",updated_at:new Date().toISOString()}).eq("event_id",t).eq("check_time",D).is("completed_time",null);if(C)throw new Error(`Error updating check completion: ${C.message}`);return{eventId:t,checkNumber:S,checkTime:D}},e[0]=s,e[1]=t,e[2]=n?.id,e[3]=f):f=e[3];let m;e[4]!==u||e[5]!==s||e[6]!==t||e[7]!==r||e[8]!==n?.id?(m=async _=>{const{checkNumber:S}=_;await r.cancelQueries({queryKey:["panoptoChecks",t]});const D=r.getQueryData(["panoptoChecks",t]);return r.setQueryData(["panoptoChecks",t],C=>C&&C.map(T=>{if(s?.start_time){const M=new Date(`${s.date}T${s.start_time}`),R=new Date(M.getTime()+(S-1)*Uv).toTimeString().split(" ")[0];if(T.check_time===R)return{...T,completed_time:new Date().toTimeString().split(" ")[0],completed_by_user_id:n?.id||null,status:"completed",updated_at:new Date().toISOString(),profiles:u?{id:u.id,name:u.name}:null}}return T})),{previousChecks:D}},e[4]=u,e[5]=s,e[6]=t,e[7]=r,e[8]=n?.id,e[9]=m):m=e[9];let p,y;e[10]!==t||e[11]!==r?(p=(_,S,D)=>{D?.previousChecks&&r.setQueryData(["panoptoChecks",t],D.previousChecks)},y=()=>{r.invalidateQueries({queryKey:["panoptoChecks",t]}),r.invalidateQueries({queryKey:["allPanoptoChecks"]})},e[10]=t,e[11]=r,e[12]=p,e[13]=y):(p=e[12],y=e[13]);let b;e[14]!==f||e[15]!==m||e[16]!==p||e[17]!==y?(b={mutationFn:f,onMutate:m,onError:p,onSettled:y},e[14]=f,e[15]=m,e[16]=p,e[17]=y,e[18]=b):b=e[18];const w=Ft(b);let x;e[19]!==t||e[20]!==w?(x=_=>{if(!t){console.error("No event ID provided");return}w.mutate({checkNumber:_})},e[19]=t,e[20]=w,e[21]=x):x=e[21];let k;return e[22]!==s||e[23]!==c||e[24]!==o||e[25]!==w||e[26]!==x?(k={...w,eventData:s,eventLoading:o,eventError:c,completeCheck:x},e[22]=s,e[23]=c,e[24]=o,e[25]=w,e[26]=x,e[27]=k):k=e[27],k},pi=1800*1e3;function hM({event:t}){const{data:e=[],isLoading:n}=dM(t.id),{completeCheck:r,mutateAsync:s}=fM(t.id),[o,c]=N.useState(!1),u=N.useRef(null),[f,m]=N.useState(!1),[p,y]=N.useState(0),[b,w]=N.useState(0),x=Vn(t),k=gs(t),_=N.useMemo(()=>{if(n||e.length===0)return!1;let B=0;if(t.start_time&&t.end_time){const I=new Date(`${t.date}T${t.start_time}`),H=new Date(`${t.date}T${t.end_time}`).getTime()-I.getTime();B=Math.floor(H/pi)}return B===0?!0:e.filter(I=>I.completed_time!==null).length>=B},[e,t.start_time,t.end_time,t.date,n]);N.useMemo(()=>e.map(B=>B.completed_time!==null),[e]),N.useMemo(()=>{if(!t.date||!t.start_time||!t.end_time)return 0;const B=new Date(`${t.date}T${t.start_time}`),I=new Date(`${t.date}T${t.end_time}`).getTime()-B.getTime();return Math.floor(I/pi)},[t.date,t.start_time,t.end_time]);const S=N.useMemo(()=>{if(!t.date||!t.start_time||!t.end_time||n)return console.log("Panopto timeline calculation skipped:",{hasDate:!!t.date,hasStartTime:!!t.start_time,hasEndTime:!!t.end_time,isLoading:n}),[];const B=new Date(`${t.date}T${t.start_time}`),I=new Date(`${t.date}T${t.end_time}`).getTime()-B.getTime(),A=Math.floor(I/pi);if(A===0)return console.log("No checks needed for event duration:",I),[];const H=new Date,z=[];for(let te=0;te<A;te++){const O=te+1,K=new Date(B.getTime()+te*pi);let re="upcoming",ne=!1;const ce=e.find(le=>{const ie=new Date(`${t.date}T${le.check_time}`),me=new Date(B.getTime()+(O-1)*pi);return Math.abs(ie.getTime()-me.getTime())<6e4});if(O<=3&&console.log(`Check ${O} database data:`,{checkNumber:O,checkData:ce,databaseStatus:ce?.status,completedTime:ce?.completed_time}),ce?.status==="missed")re="missed",ne=!1;else if(ce?.completed_time)re="completed",ne=!1;else{const le=H.getTime()-K.getTime(),ie=600*1e3,me=1800*1e3;le>=me?(re="missed",ne=!1):le>=ie?(re="overdue",ne=!0):le>=0?(re="current",ne=!0):(re="upcoming",ne=!1)}z.push({checkNumber:O,scheduledTime:K,dueTime:K,status:re,canComplete:ne})}return z},[t,n,e]),D=B=>Zh(B,"h:mm a"),C=B=>{const[F,I]=B.split(":"),A=parseInt(F),H=parseInt(I),z=A>=12?"PM":"AM";return`${A%12||12}:${H.toString().padStart(2,"0")} ${z}`},T=(B,F,I)=>{const A=new Date(`${I}T${B}`),z=new Date(`${I}T${F}`).getTime()-A.getTime(),K=Math.floor(z/(1e3*60))-10;if(K<=0)return{isLate:!1,minutesLate:0,message:"On time"};{const re=Math.floor(K/60),ne=K%60;let ce="";return re>0?ce=`${re}h ${ne}m late`:ce=`${ne}m late`,{isLate:!0,minutesLate:K,message:ce}}},M=B=>{try{return ex(B,{addSuffix:!0})}catch{return"Unknown time"}},L=B=>{switch(B){case"completed":return"bg-green-100 border-green-300 text-green-800";case"current":return"bg-orange-50 border-orange-200 text-orange-800";case"overdue":return"bg-red-50 border-red-200 text-red-800";case"missed":return"bg-gray-200 border-gray-400 text-gray-700";default:return"bg-gray-50 border-gray-200 text-black dark:text-white"}},R=async B=>{if(!t.date){console.error("Event date is required for completing check");return}s({checkNumber:B})},$=B=>{if(!u.current)return;const F=B.target;F.closest(".check-card")||F.closest(".timeline-dot")||(m(!0),y(B.pageX-u.current.offsetLeft),w(u.current.scrollLeft),u.current.style.cursor="grabbing")},U=()=>{m(!1),u.current&&(u.current.style.cursor="default")},q=()=>{m(!1)},V=B=>{if(!f||!u.current)return;B.preventDefault();const I=(B.pageX-u.current.offsetLeft-p)*2;u.current.scrollLeft=b-I},X=B=>{if(!u.current)return;const F=B.target;F.closest(".check-card")||F.closest(".timeline-dot")?u.current.style.cursor="default":u.current.style.cursor="grab"};return n?h.jsxs("div",{className:"rounded-xl shadow-2xl border border-white/20 dark:border-white/10 p-6 mb-6",style:{background:`${k[7]}`},children:[h.jsxs("div",{className:"flex items-center justify-between mb-6 cursor-pointer select-none",onClick:()=>c(!o),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[o?h.jsx(kh,{className:"w-5 h-5 text-black dark:text-white"}):h.jsx(_h,{className:"w-5 h-5 text-black dark:text-white"}),h.jsx(Ch,{className:"w-6 h-6 text-black dark:text-white"}),h.jsx(Dh,{className:"w-2 h-2 bg-red-500 rounded-full -ml-1"}),h.jsx("h2",{className:"text-xl font-bold text-black dark:text-black",style:{fontFamily:"'Olympus Mount', sans-serif"},children:"PANOPTO RECORDING CHECKS"})]}),h.jsxs("a",{href:"https://kellogg-northwestern.hosted.panopto.com/Panopto/Pages/Sessions/List.aspx#status=%5B2%2C5%5D",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-white rounded-lg transition-colors hover:opacity-80",style:{background:`linear-gradient(135deg, ${k[8]}, ${k[9]})`},onClick:B=>B.stopPropagation(),children:[h.jsx(Eh,{className:"w-4 h-4"}),"Go to Panopto"]})]}),!o&&h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:`absolute top-2 h-0.5 ${x[3]}`,style:{left:"32px",right:"32px",width:"auto"}}),h.jsx("div",{className:"flex items-start gap-4 justify-between",children:Array.from({length:4},(B,F)=>h.jsxs("div",{className:"flex flex-col items-center relative flex-shrink-0",children:[h.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${x[3]} ${x[7]} animate-pulse`}),h.jsxs("div",{className:"mt-4 p-3 rounded-lg border border-white/10 dark:border-white/5 text-center w-40 animate-pulse",style:{background:`${k[1]}`},children:[h.jsx("div",{className:`h-4 ${x[3]} rounded mb-2`}),h.jsx("div",{className:`h-3 ${x[3]} rounded mb-3`}),h.jsx("div",{className:`h-6 ${x[3]} rounded mb-2`}),h.jsx("div",{className:`h-6 ${x[3]} rounded`})]})]},F))})]})})]}):S.length===0?h.jsxs("div",{className:"rounded-xl shadow-2xl border border-white/20 dark:border-white/10 p-6 mb-6",style:{background:`${k[7]}`},children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer select-none",onClick:()=>c(!o),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[o?h.jsx(kh,{className:"w-5 h-5 text-black dark:text-white"}):h.jsx(_h,{className:"w-5 h-5 text-black dark:text-white"}),h.jsx(Ch,{className:"w-6 h-6 text-black dark:text-white"}),h.jsx(Dh,{className:"w-2 h-2 bg-red-500 rounded-full -ml-1"}),h.jsx("h2",{className:"text-xl font-bold text-black dark:text-black",style:{fontFamily:"'Olympus Mount', sans-serif"},children:"PANOPTO RECORDING CHECKS"})]}),h.jsxs("a",{href:"https://kellogg-northwestern.hosted.panopto.com/Panopto/Pages/Sessions/List.aspx#status=%5B2%2C5%5D",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-white rounded-lg transition-colors hover:opacity-80",style:{background:`linear-gradient(135deg, ${k[8]}, ${k[9]})`},onClick:B=>B.stopPropagation(),children:[h.jsx(Eh,{className:"w-4 h-4"}),"Go to Panopto"]})]}),!o&&h.jsxs("div",{className:"flex items-center gap-2 text-black dark:text-white",children:[h.jsx(r0,{className:"w-4 h-4"}),h.jsx("span",{children:"No Panopto checks scheduled for this event duration"})]})]}):h.jsxs("div",{className:"rounded-xl shadow-2xl border border-white/20 dark:border-white/10 p-6 mb-6",style:{background:`${k[7]}`},children:[h.jsxs("div",{className:"flex items-center justify-between mb-6 cursor-pointer select-none",onClick:()=>c(!o),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[o?h.jsx(kh,{className:"w-5 h-5 text-black dark:text-white"}):h.jsx(_h,{className:"w-5 h-5 text-black dark:text-white"}),_&&!n?h.jsx(Sh,{className:"w-6 h-6 text-green-600"}):h.jsx(Ch,{className:"w-6 h-6 text-black dark:text-white"}),_&&!n?null:h.jsx(Dh,{className:"w-2 h-2 bg-red-500 rounded-full -ml-1"}),h.jsx("h2",{className:"text-xl font-bold text-black dark:text-black",style:{fontFamily:"'Olympus Mount', sans-serif"},children:"PANOPTO RECORDING CHECKS"})]}),h.jsxs("a",{href:"https://kellogg-northwestern.hosted.panopto.com/Panopto/Pages/Sessions/List.aspx#status=%5B2%2C5%5D",target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 px-3 py-2 text-sm font-medium ${x.text1} ${x[8]} rounded-lg transition-colors`,onClick:B=>B.stopPropagation(),children:[h.jsx(Eh,{className:"w-4 h-4"}),"Go to Panopto"]})]}),!o&&h.jsx(h.Fragment,{children:h.jsxs("div",{ref:u,className:"relative overflow-x-auto select-none",onMouseDown:$,onMouseLeave:U,onMouseUp:q,onMouseMove:V,onMouseOver:X,style:{cursor:f?"grabbing":"default"},children:[h.jsx("div",{className:`absolute top-2 h-0.5 ${x[3]}`,style:{left:"32px",right:S.length>4?"auto":"32px",width:S.length>4?`${S.length*176}px`:"auto"}}),h.jsx("div",{className:`flex items-start gap-4 ${S.length>4?"min-w-max px-4":"justify-between"}`,children:S.map((B,F)=>h.jsxs("div",{className:"flex flex-col items-center relative flex-shrink-0",children:[h.jsxs("div",{className:`timeline-dot w-4 h-4 rounded-full border-2 z-10 relative ${B.status==="completed"?"bg-green-600 border-green-600":B.status==="current"||B.status==="overdue"?"bg-red-600 border-red-600":B.status==="missed"?"bg-gray-500 border-gray-500":`${x[7]} ${x[7]}`}`,children:[B.status==="completed"&&h.jsx(Sh,{className:"w-4 h-4 text-white absolute -top-0.5 -left-0.5"}),B.status==="missed"&&h.jsx("svg",{className:"w-4 h-4 text-white absolute -top-0.5 -left-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),h.jsxs("div",{className:`check-card mt-4 p-3 rounded-lg border text-center w-40 transition-colors backdrop-blur-sm shadow-lg ${L(B.status)}`,children:[h.jsxs("div",{className:"font-semibold text-xs sm:text-sm mb-1",children:["Check #",B.checkNumber]}),h.jsx("div",{className:"text-xs font-medium mb-2",children:D(B.scheduledTime)}),B.status==="current"&&h.jsx("div",{className:"text-xs bg-red-600 text-white px-2 py-1 rounded-full mb-2",children:"DUE"}),B.status==="overdue"&&h.jsx("div",{className:"text-xs bg-red-600 text-white px-2 py-1 rounded-full mb-2",children:"OVERDUE"}),B.status==="missed"&&h.jsx("div",{className:"text-xs bg-gray-500 text-white px-2 py-1 rounded-full mb-2",children:"MISSED"}),h.jsxs("div",{className:"text-xs opacity-75 mb-3 leading-tight",children:[B.status==="upcoming"&&h.jsxs(h.Fragment,{children:["In ",M(B.scheduledTime).replace(" ago","").replace("in ","")]}),B.status==="current"&&h.jsx(h.Fragment,{children:"Due now"}),B.status==="overdue"&&h.jsxs(h.Fragment,{children:["Late by ",M(B.dueTime).replace(" ago","")]}),B.status==="missed"&&h.jsx(h.Fragment,{children:"Check was missed"}),B.status!=="completed"&&B.status!=="missed"&&B.status!=="upcoming"&&B.status!=="current"&&B.status!=="overdue"&&h.jsxs(h.Fragment,{children:["Scheduled for ",D(B.scheduledTime)]}),B.status==="completed"&&h.jsxs(h.Fragment,{children:["✓ Completed",(()=>{const I=new Date(`${t.date}T${t.start_time}`),A=e.find(H=>{const z=new Date(`${t.date}T${H.check_time}`),te=new Date(I.getTime()+(B.checkNumber-1)*pi);return Math.abs(z.getTime()-te.getTime())<6e4});if(A?.completed_time){console.log("Check data for display:",A),console.log("Profiles data:",A.profiles);const H=A.profiles?.name||(A.completed_by_user_id?`User ${A.completed_by_user_id.slice(0,8)}...`:"Unknown User"),z=T(A.check_time,A.completed_time,t.date);return h.jsxs("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400 text-center",children:[h.jsxs("div",{children:["by ",H]}),h.jsxs("div",{children:["at ",C(A.completed_time)]}),h.jsxs("div",{className:`mt-1 font-medium flex items-center justify-center gap-1 ${z.isLate?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[z.isLate?h.jsx(r0,{className:"w-3 h-3"}):h.jsx(Sh,{className:"w-3 h-3"}),z.message]})]})}return null})()]})]}),B.canComplete&&B.status!=="completed"&&B.status!=="missed"&&h.jsx("button",{onClick:I=>{I.stopPropagation(),R(B.checkNumber)},className:`w-full px-2 py-1 text-xs font-medium rounded transition-colors ${B.status==="current"||B.status==="overdue"?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:"Complete"})]})]},B.checkNumber))})]})})]})}function mM(t){const e=ue.c(18),{isModalOpen:n,editingPanel:r,panelOptions:s,onClose:o,onSelectPanel:c}=t;if(!n)return null;const u=r==="left"?"Left":"Right";let f;e[0]!==u?(f=h.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Select ",u," Panel Setup"]}),e[0]=u,e[1]=f):f=e[1];let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m=h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e[2]=m):m=e[2];let p;e[3]!==o?(p=h.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:m}),e[3]=o,e[4]=p):p=e[4];let y;e[5]!==f||e[6]!==p?(y=h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f,p]}),e[5]=f,e[6]=p,e[7]=y):y=e[7];let b;if(e[8]!==c||e[9]!==s){let k;e[11]!==c?(k=_=>h.jsxs("button",{onClick:()=>c(_.id),className:"flex flex-col items-center p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[h.jsx("img",{src:_.image,alt:_.label,className:"w-16 h-16 object-contain mb-2"}),h.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white text-center",children:_.label})]},_.id),e[11]=c,e[12]=k):k=e[12],b=s.map(k),e[8]=c,e[9]=s,e[10]=b}else b=e[10];let w;e[13]!==b?(w=h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:b}),e[13]=b,e[14]=w):w=e[14];let x;return e[15]!==y||e[16]!==w?(x=h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[y,w]})})}),e[15]=y,e[16]=w,e[17]=x):x=e[17],x}const pu=t=>{if(!t)return 0;try{const[e,n]=t.split(":").map(Number);return e+n/60}catch(e){return console.error("Error converting time to float hours:",t,e),0}},Jt=(t,e)=>{if(!t||typeof t!="string"||!t.startsWith("#"))return`rgba(79, 70, 229, ${e})`;let n=t.trim();if(n.length===4&&(n=`#${n[1]}${n[1]}${n[2]}${n[2]}${n[3]}${n[3]}`),n.length!==7)return`rgba(79, 70, 229, ${e})`;const r=parseInt(n.slice(1,3),16),s=parseInt(n.slice(3,5),16),o=parseInt(n.slice(5,7),16);return[r,s,o].some(Number.isNaN)?`rgba(79, 70, 229, ${e})`:`rgba(${r}, ${s}, ${o}, ${e})`},Lx=t=>{if(!t)return"Instructor TBD";if(Array.isArray(t)){const e=t.map(n=>String(n)).filter(Boolean);return e.length===0?"Instructor TBD":e.length<=2?e.join(", "):`${e.slice(0,2).join(", ")} +${e.length-2} more`}return typeof t=="string"&&t.trim().length>0?t:"Instructor TBD"},pM=({event:t,index:e,isCurrentEvent:n,totalCards:r})=>{const s=gn(),{data:o}=O0(t.id),c=o?.resources||[],u=ee.useMemo(()=>gs(t),[t]),f=u?.[6]??"#4b5563",m=u?.[4]??"#9ca3af",p=u?.[2]??"#e5e7eb",y=ee.useMemo(()=>c.filter(x=>!!x.instruction),[c]),b=ee.useCallback(()=>{const x=t.date||"";s(`/${x}/${t.id}`)},[t.date,t.id,s]),w=x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),b())};return h.jsxs("div",{className:"group relative",role:"listitem",children:[h.jsx("span",{"aria-hidden":"true",className:"absolute inset-y-4 left-0 w-[3px] rounded-full transition-transform duration-300 group-hover:scale-y-105",style:{backgroundColor:f}}),h.jsxs("div",{role:"button",tabIndex:0,onClick:b,onKeyDown:w,className:"relative flex flex-col gap-4 rounded-2xl border px-5 py-4 text-left text-gray-900 shadow-sm transition-all duration-300 ease-out hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-900/20 focus-visible:ring-offset-2 dark:text-gray-100",style:{background:`linear-gradient(155deg, ${Jt(p,.96)} 0%, ${Jt(m,.42)} 55%, ${Jt(f,n?.5:.34)} 100%)`,borderColor:Jt(f,n?.85:.35),boxShadow:n?`0 24px 46px -24px ${Jt(f,.72)}`:`0 18px 42px -28px ${Jt(f,.38)}`},children:[h.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400",children:"Occurrence"}),h.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:J0(t.date||"")}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[mu(pu(t.start_time))," - ",mu(pu(t.end_time))]})]}),h.jsxs("div",{className:"flex flex-col items-end gap-2 text-right",children:[n&&h.jsx("span",{className:"inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold uppercase tracking-wide",style:{backgroundColor:Jt(p,.45),borderColor:f,color:f},children:"Current"}),h.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e+1," of ",r]})]})]}),h.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400",children:"Room"}),h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.room_name||"Unknown Room"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:Lx(t.instructor_names)})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400",children:"Event Type"}),h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.event_type||"Uncategorized"}),t.section&&h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Section ",t.section]})]})]}),c.length>0&&h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400",children:"Resources"}),h.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:c.map((x,k)=>h.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-medium transition-colors backdrop-blur-sm",style:{backgroundColor:Jt(p,.4),borderColor:Jt(f,n?.55:.35),color:f},children:[h.jsx("span",{className:"text-sm","aria-hidden":"true",children:eu(x.itemName)}),h.jsx("span",{children:C0(x.itemName)}),x.quantity&&x.quantity>1&&h.jsxs("span",{className:"text-[10px] font-semibold uppercase",style:{color:Jt(f,.7)},children:["x",x.quantity]})]},`${t.id}-resource-${k}`))}),y.length>0&&h.jsx("div",{className:"mt-3 space-y-1 text-xs text-gray-600 dark:text-gray-300",children:y.map((x,k)=>h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"mt-[3px] inline-block h-1.5 w-1.5 rounded-full",style:{backgroundColor:Jt(f,.6)}}),h.jsx("span",{className:"flex-1 leading-relaxed",title:x.instruction,children:x.instruction})]},`${t.id}-instruction-${k}`))})]})]})]})};function gM(){const{eventId:t}=Gr(),e=gn(),{data:n}=pt({queryKey:["event",t],queryFn:async()=>{if(!t)return null;const{data:w,error:x}=await de.from("events").select("*").eq("id",parseInt(t,10)).single();if(x)throw console.error("Error fetching current event:",x),x;return w},enabled:!!t}),{data:r,isLoading:s,error:o}=q1(n),c=r?.occurrences||[],u=ee.useMemo(()=>!c||!Array.isArray(c)||!t?[]:c.filter(w=>w.id!==parseInt(t,10)),[c,t]),f=ee.useMemo(()=>n?gs(n):null,[n]),m=f?.[6]??"#4b5563",p=ee.useMemo(()=>f?`linear-gradient(135deg, ${Jt(f[1],.98)} 0%, ${Jt(f[3],.9)} 55%, ${Jt(f[5],.85)} 100%)`:"linear-gradient(135deg, rgba(248, 250, 252, 0.98) 0%, rgba(226, 232, 240, 0.92) 55%, rgba(203, 213, 225, 0.88) 100%)",[f]),y=ee.useMemo(()=>{if(!c||!Array.isArray(c)||!n)return null;const w=c.findIndex(x=>x.id===n.id);return w===-1?null:{index:w+1,total:c.length}},[c,n]),b=()=>{e(-1)};return n?h.jsx("div",{className:"relative w-full max-w-3xl",children:h.jsxs("div",{className:"overflow-hidden rounded-3xl border bg-white shadow-2xl ring-1 ring-black/5 dark:border-gray-800/70 dark:bg-gray-950 dark:ring-white/10",style:{borderColor:Jt(f?.[4],.45)},children:[h.jsxs("div",{className:"relative",style:{background:p},children:[h.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-40",style:{background:`radial-gradient(circle at top right, ${Jt(f?.[6]??m,.45)}, transparent 65%)`}}),h.jsxs("div",{className:"relative px-8 py-6 text-gray-900 dark:text-gray-100",children:[h.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-gray-600/90 dark:text-gray-300/90",children:"Occurrences"}),h.jsx("h2",{className:"text-2xl font-semibold leading-snug sm:text-3xl",children:n.event_name}),h.jsx("p",{className:"text-sm text-gray-700/90 dark:text-gray-300/90",children:Lx(n.instructor_names)})]}),h.jsxs("div",{className:"flex flex-col items-end gap-3",children:[h.jsx("span",{className:"inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold uppercase tracking-wide",style:{borderColor:m,color:m,backgroundColor:Jt(f?.[1]??"#e5e7eb",.6)},children:n.event_type||"Uncategorized"}),h.jsx("button",{type:"button",onClick:b,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-black/10 bg-white text-gray-600 transition-colors duration-200 hover:border-black/20 hover:text-gray-900 dark:border-white/10 dark:bg-gray-950/70 dark:text-gray-400 dark:hover:text-gray-100","aria-label":"Close occurrences modal",children:h.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.6,d:"M6 18L18 6M6 6l12 12"})})})]})]}),h.jsxs("div",{className:"mt-6 grid gap-6 text-sm text-gray-700 dark:text-gray-200 sm:grid-cols-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600/90 dark:text-gray-400",children:"Current Date"}),h.jsx("p",{className:"mt-1 text-base font-semibold text-gray-900 dark:text-gray-100",children:J0(n.date||"")}),h.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[mu(pu(n.start_time))," - ",mu(pu(n.end_time))]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600/90 dark:text-gray-400",children:"Room"}),h.jsx("p",{className:"mt-1 text-base font-semibold text-gray-900 dark:text-gray-100",children:n.room_name||"Unknown Room"}),n.section&&h.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Section ",n.section]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600/90 dark:text-gray-400",children:"Occurrences"}),h.jsx("p",{className:"mt-1 text-base font-semibold text-gray-900 dark:text-gray-100",children:y?`${y.index} of ${y.total}`:c?.length||0}),h.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Event ID #",n.id]})]})]})]})]}),h.jsx("div",{className:"bg-gray-50 px-8 py-6 dark:bg-gray-900",style:{borderTop:`1px solid ${Jt(f?.[3]??"#d1d5db",.5)}`},children:s?h.jsx("div",{className:"flex items-center justify-center py-12 text-gray-500 dark:text-gray-400",children:h.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-gray-300 border-t-transparent dark:border-gray-600"})}):o?h.jsx("div",{className:"rounded-2xl border border-red-200/70 bg-white px-6 py-8 text-center text-red-600 dark:border-red-500/40 dark:bg-gray-950/90 dark:text-red-300",children:"Error loading occurrences"}):u&&u.length>0?h.jsx("div",{className:"max-h-[55vh] space-y-4 overflow-y-auto pr-1",role:"list",children:u.map((w,x)=>h.jsx(pM,{event:w,index:x,isCurrentEvent:!1,totalCards:u.length},w.id))}):h.jsx("div",{className:"rounded-2xl border border-dashed border-gray-300/80 bg-white px-6 py-10 text-center text-gray-600 dark:border-gray-700 dark:bg-gray-950/80 dark:text-gray-300",children:"No other occurrences found"})})]})}):h.jsx("div",{className:"rounded-3xl border border-gray-200 bg-white p-6 text-center shadow-xl dark:border-gray-700 dark:bg-gray-900 dark:text-gray-200",children:"Event not found"})}const yM=t=>t?Array.isArray(t)?t.filter(e=>typeof e=="string"&&e.trim()!==""):typeof t=="string"?[t]:[]:[];function bM(){const t=gn(),e=_r(),{eventId:n,date:r}=Gr(),s=e.pathname.endsWith("/occurrences"),[o,c]=N.useState(!1),[u,f]=N.useState(null),m=[{id:"ROOM_PC",label:"Room PC",image:"/panel-images/ROOM_PC.png"},{id:"DOC_CAM",label:"Document Camera",image:"/panel-images/DOC_CAM.png"},{id:"LAPTOP_1",label:"Laptop 1",image:"/panel-images/LAPTOP_1.png"},{id:"LAPTOP_2",label:"Laptop 2",image:"/panel-images/LAPTOP_2.png"},{id:"LAPTOP_3",label:"Laptop 3",image:"/panel-images/LAPTOP_3.png"},{id:"PC_EXT",label:"PC Extension",image:"/panel-images/PC_EXT.png"}],p=r?(()=>{const[I,A,H]=r.split("-").map(Number),z=new Date(I,A-1,H,12,0,0);return isNaN(z.getTime())?new Date:z})():new Date,{data:y,isLoading:b,error:w}=M0(p),x=ee.useMemo(()=>!y||!n?null:y.find(I=>I.id===parseInt(n,10))||null,[y,n]),k=ee.useMemo(()=>x?yM(x.instructor_names):[],[x]),{data:_,isLoading:S}=R0(k),D=Ax(),C=_&&_.length>0?_[0]:null,{data:T}=Ox(C?.id||0),{data:M,isLoading:L}=j0(x?.id),R=M?.handOffTimes&&M.handOffTimes.length>0?M.handOffTimes[0]:null,{data:$}=O0(x?.id&&x.id>0?x.id:-1),U=x&&$?$.resources:[],q=U.some(I=>I.itemName?.toLowerCase().includes("panopto")||I.itemName?.toLowerCase().includes("recording"));x&&Vn(x),x&&gs(x);const V=()=>{t(`/${r}`)},X=I=>{f(I),c(!0)},B=()=>{c(!1),f(null)},F=I=>{if(!u||!_||_.length===0||!x||!T)return;const A=_[0],H=T.left_source??"",z=T.right_source??"",O={uses_mic:T.uses_mic??!1,left_source:u==="left"?I:H,right_source:u==="right"?I:z};D.mutate({facultyId:A.id,attributes:O}),B()};return b||!x?null:w?h.jsx("div",{className:"p-4",children:h.jsxs("div",{className:"text-center text-red-600 dark:text-red-400",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Event"}),h.jsx("p",{children:w.message})]})}):h.jsxs("div",{className:"relative min-h-screen",children:[h.jsx("button",{onClick:V,className:"absolute top-4 right-4 z-20 flex items-center justify-center w-10 h-10 backdrop-blur-sm bg-white/20 dark:bg-black/20 text-gray-600 dark:text-gray-300 rounded-full hover:bg-white/30 dark:hover:bg-black/30 border border-white/20 dark:border-white/10 transition-colors shadow-lg","aria-label":"Close",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("div",{className:"p-4 sm:p-6 overflow-y-auto max-h-screen",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:h.jsxs("div",{className:"flex-1 w-full",children:[h.jsx(Q6,{event:x,facultyMembers:_||[],instructorNames:k,isFacultyLoading:S,resources:U,handOffTime:R||null,isHandOffTimeLoading:L}),q&&h.jsx(hM,{event:x}),k.length>0&&k.map((I,A)=>{const H=_?.find(z=>z.twentyfivelive_name===I);return h.jsx(Rx,{event:x,resources:U,facultyMembers:H?[H]:[],instructorNames:[I],isFacultyLoading:S,openPanelModal:X},`session-setup-${A}`)})]})})})}),h.jsx(mM,{isModalOpen:o,editingPanel:u,panelOptions:m,onClose:B,onSelectPanel:F}),s&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-10 z-[9999] flex items-center justify-center p-4",onClick:()=>t(`/${r}/${n}`),children:h.jsx("div",{className:"w-full max-w-2xl max-h-[80vh] overflow-visible bg-transparent",onClick:I=>I.stopPropagation(),children:h.jsx(gM,{})})})]})}function Wr(t){return Array.isArray?Array.isArray(t):Ux(t)==="[object Array]"}function vM(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function xM(t){return t==null?"":vM(t)}function vr(t){return typeof t=="string"}function $x(t){return typeof t=="number"}function wM(t){return t===!0||t===!1||_M(t)&&Ux(t)=="[object Boolean]"}function Px(t){return typeof t=="object"}function _M(t){return Px(t)&&t!==null}function On(t){return t!=null}function Nh(t){return!t.trim().length}function Ux(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const kM="Incorrect 'index' type",SM=t=>`Invalid value for key ${t}`,DM=t=>`Pattern length exceeds max of ${t}.`,EM=t=>`Missing ${t} property in key`,CM=t=>`Property 'weight' in key '${t}' must be a positive integer`,Bv=Object.prototype.hasOwnProperty;class NM{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let s=Bx(r);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Bx(t){let e=null,n=null,r=null,s=1,o=null;if(vr(t)||Wr(t))r=t,e=Hv(t),n=a0(t);else{if(!Bv.call(t,"name"))throw new Error(EM("name"));const c=t.name;if(r=c,Bv.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(CM(c));e=Hv(c),n=a0(c),o=t.getFn}return{path:e,id:n,weight:s,src:r,getFn:o}}function Hv(t){return Wr(t)?t:t.split(".")}function a0(t){return Wr(t)?t.join("."):t}function jM(t,e){let n=[],r=!1;const s=(o,c,u)=>{if(On(o))if(!c[u])n.push(o);else{let f=c[u];const m=o[f];if(!On(m))return;if(u===c.length-1&&(vr(m)||$x(m)||wM(m)))n.push(xM(m));else if(Wr(m)){r=!0;for(let p=0,y=m.length;p<y;p+=1)s(m[p],c,u+1)}else c.length&&s(m,c,u+1)}};return s(t,vr(e)?e.split("."):e,0),r?n:n[0]}const TM={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},MM={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},OM={location:0,threshold:.6,distance:100},AM={useExtendedSearch:!1,getFn:jM,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ce={...MM,...TM,...OM,...AM};const RM=/[^ ]+/g;function LM(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(s){const o=s.match(RM).length;if(n.has(o))return n.get(o);const c=1/Math.pow(o,.5*t),u=parseFloat(Math.round(c*r)/r);return n.set(o,u),u},clear(){n.clear()}}}class em{constructor({getFn:e=Ce.getFn,fieldNormWeight:n=Ce.fieldNormWeight}={}){this.norm=LM(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,vr(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();vr(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!On(e)||Nh(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((s,o)=>{let c=s.getFn?s.getFn(e):this.getFn(e,s.path);if(On(c)){if(Wr(c)){let u=[];const f=[{nestedArrIndex:-1,value:c}];for(;f.length;){const{nestedArrIndex:m,value:p}=f.pop();if(On(p))if(vr(p)&&!Nh(p)){let y={v:p,i:m,n:this.norm.get(p)};u.push(y)}else Wr(p)&&p.forEach((y,b)=>{f.push({nestedArrIndex:b,value:y})})}r.$[o]=u}else if(vr(c)&&!Nh(c)){let u={v:c,n:this.norm.get(c)};r.$[o]=u}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Hx(t,e,{getFn:n=Ce.getFn,fieldNormWeight:r=Ce.fieldNormWeight}={}){const s=new em({getFn:n,fieldNormWeight:r});return s.setKeys(t.map(Bx)),s.setSources(e),s.create(),s}function $M(t,{getFn:e=Ce.getFn,fieldNormWeight:n=Ce.fieldNormWeight}={}){const{keys:r,records:s}=t,o=new em({getFn:e,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(s),o}function Bc(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:s=Ce.distance,ignoreLocation:o=Ce.ignoreLocation}={}){const c=e/t.length;if(o)return c;const u=Math.abs(r-n);return s?c+u/s:u?1:c}function PM(t=[],e=Ce.minMatchCharLength){let n=[],r=-1,s=-1,o=0;for(let c=t.length;o<c;o+=1){let u=t[o];u&&r===-1?r=o:!u&&r!==-1&&(s=o-1,s-r+1>=e&&n.push([r,s]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}const rs=32;function UM(t,e,n,{location:r=Ce.location,distance:s=Ce.distance,threshold:o=Ce.threshold,findAllMatches:c=Ce.findAllMatches,minMatchCharLength:u=Ce.minMatchCharLength,includeMatches:f=Ce.includeMatches,ignoreLocation:m=Ce.ignoreLocation}={}){if(e.length>rs)throw new Error(DM(rs));const p=e.length,y=t.length,b=Math.max(0,Math.min(r,y));let w=o,x=b;const k=u>1||f,_=k?Array(y):[];let S;for(;(S=t.indexOf(e,x))>-1;){let R=Bc(e,{currentLocation:S,expectedLocation:b,distance:s,ignoreLocation:m});if(w=Math.min(R,w),x=S+p,k){let $=0;for(;$<p;)_[S+$]=1,$+=1}}x=-1;let D=[],C=1,T=p+y;const M=1<<p-1;for(let R=0;R<p;R+=1){let $=0,U=T;for(;$<U;)Bc(e,{errors:R,currentLocation:b+U,expectedLocation:b,distance:s,ignoreLocation:m})<=w?$=U:T=U,U=Math.floor((T-$)/2+$);T=U;let q=Math.max(1,b-U+1),V=c?y:Math.min(b+U,y)+p,X=Array(V+2);X[V+1]=(1<<R)-1;for(let F=V;F>=q;F-=1){let I=F-1,A=n[t.charAt(I)];if(k&&(_[I]=+!!A),X[F]=(X[F+1]<<1|1)&A,R&&(X[F]|=(D[F+1]|D[F])<<1|1|D[F+1]),X[F]&M&&(C=Bc(e,{errors:R,currentLocation:I,expectedLocation:b,distance:s,ignoreLocation:m}),C<=w)){if(w=C,x=I,x<=b)break;q=Math.max(1,2*b-x)}}if(Bc(e,{errors:R+1,currentLocation:b,expectedLocation:b,distance:s,ignoreLocation:m})>w)break;D=X}const L={isMatch:x>=0,score:Math.max(.001,C)};if(k){const R=PM(_,u);R.length?f&&(L.indices=R):L.isMatch=!1}return L}function BM(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const s=t.charAt(n);e[s]=(e[s]||0)|1<<r-n-1}return e}const gu=String.prototype.normalize?(t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(t=>t);class Fx{constructor(e,{location:n=Ce.location,threshold:r=Ce.threshold,distance:s=Ce.distance,includeMatches:o=Ce.includeMatches,findAllMatches:c=Ce.findAllMatches,minMatchCharLength:u=Ce.minMatchCharLength,isCaseSensitive:f=Ce.isCaseSensitive,ignoreDiacritics:m=Ce.ignoreDiacritics,ignoreLocation:p=Ce.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:s,includeMatches:o,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:p},e=f?e:e.toLowerCase(),e=m?gu(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const y=(w,x)=>{this.chunks.push({pattern:w,alphabet:BM(w),startIndex:x})},b=this.pattern.length;if(b>rs){let w=0;const x=b%rs,k=b-x;for(;w<k;)y(this.pattern.substr(w,rs),w),w+=rs;if(x){const _=b-rs;y(this.pattern.substr(_),_)}}else y(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s}=this.options;if(e=n?e:e.toLowerCase(),e=r?gu(e):e,this.pattern===e){let k={isMatch:!0,score:0};return s&&(k.indices=[[0,e.length-1]]),k}const{location:o,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,ignoreLocation:p}=this.options;let y=[],b=0,w=!1;this.chunks.forEach(({pattern:k,alphabet:_,startIndex:S})=>{const{isMatch:D,score:C,indices:T}=UM(e,k,_,{location:o+S,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,includeMatches:s,ignoreLocation:p});D&&(w=!0),b+=C,D&&T&&(y=[...y,...T])});let x={isMatch:w,score:w?b/this.chunks.length:1};return w&&s&&(x.indices=y),x}}class Aa{constructor(e){this.pattern=e}static isMultiMatch(e){return Fv(e,this.multiRegex)}static isSingleMatch(e){return Fv(e,this.singleRegex)}search(){}}function Fv(t,e){const n=t.match(e);return n?n[1]:null}class HM extends Aa{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class FM extends Aa{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class zM extends Aa{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class qM extends Aa{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class IM extends Aa{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class YM extends Aa{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class zx extends Aa{constructor(e,{location:n=Ce.location,threshold:r=Ce.threshold,distance:s=Ce.distance,includeMatches:o=Ce.includeMatches,findAllMatches:c=Ce.findAllMatches,minMatchCharLength:u=Ce.minMatchCharLength,isCaseSensitive:f=Ce.isCaseSensitive,ignoreDiacritics:m=Ce.ignoreDiacritics,ignoreLocation:p=Ce.ignoreLocation}={}){super(e),this._bitapSearch=new Fx(e,{location:n,threshold:r,distance:s,includeMatches:o,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:p})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class qx extends Aa{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const s=[],o=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+o,s.push([r,n-1]);const c=!!s.length;return{isMatch:c,score:c?0:1,indices:s}}}const s0=[HM,qx,zM,qM,YM,IM,FM,zx],zv=s0.length,QM=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,KM="|";function VM(t,e={}){return t.split(KM).map(n=>{let r=n.trim().split(QM).filter(o=>o&&!!o.trim()),s=[];for(let o=0,c=r.length;o<c;o+=1){const u=r[o];let f=!1,m=-1;for(;!f&&++m<zv;){const p=s0[m];let y=p.isMultiMatch(u);y&&(s.push(new p(y,e)),f=!0)}if(!f)for(m=-1;++m<zv;){const p=s0[m];let y=p.isSingleMatch(u);if(y){s.push(new p(y,e));break}}}return s})}const WM=new Set([zx.type,qx.type]);class GM{constructor(e,{isCaseSensitive:n=Ce.isCaseSensitive,ignoreDiacritics:r=Ce.ignoreDiacritics,includeMatches:s=Ce.includeMatches,minMatchCharLength:o=Ce.minMatchCharLength,ignoreLocation:c=Ce.ignoreLocation,findAllMatches:u=Ce.findAllMatches,location:f=Ce.location,threshold:m=Ce.threshold,distance:p=Ce.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s,minMatchCharLength:o,findAllMatches:u,ignoreLocation:c,location:f,threshold:m,distance:p},e=n?e:e.toLowerCase(),e=r?gu(e):e,this.pattern=e,this.query=VM(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s,ignoreDiacritics:o}=this.options;e=s?e:e.toLowerCase(),e=o?gu(e):e;let c=0,u=[],f=0;for(let m=0,p=n.length;m<p;m+=1){const y=n[m];u.length=0,c=0;for(let b=0,w=y.length;b<w;b+=1){const x=y[b],{isMatch:k,indices:_,score:S}=x.search(e);if(k){if(c+=1,f+=S,r){const D=x.constructor.type;WM.has(D)?u=[...u,..._]:u.push(_)}}else{f=0,c=0,u.length=0;break}}if(c){let b={isMatch:!0,score:f/c};return r&&(b.indices=u),b}}return{isMatch:!1,score:1}}}const i0=[];function XM(...t){i0.push(...t)}function o0(t,e){for(let n=0,r=i0.length;n<r;n+=1){let s=i0[n];if(s.condition(t,e))return new s(t,e)}return new Fx(t,e)}const yu={AND:"$and",OR:"$or"},l0={PATH:"$path",PATTERN:"$val"},c0=t=>!!(t[yu.AND]||t[yu.OR]),ZM=t=>!!t[l0.PATH],JM=t=>!Wr(t)&&Px(t)&&!c0(t),qv=t=>({[yu.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Ix(t,e,{auto:n=!0}={}){const r=s=>{let o=Object.keys(s);const c=ZM(s);if(!c&&o.length>1&&!c0(s))return r(qv(s));if(JM(s)){const f=c?s[l0.PATH]:o[0],m=c?s[l0.PATTERN]:s[f];if(!vr(m))throw new Error(SM(f));const p={keyId:a0(f),pattern:m};return n&&(p.searcher=o0(m,e)),p}let u={children:[],operator:o[0]};return o.forEach(f=>{const m=s[f];Wr(m)&&m.forEach(p=>{u.children.push(r(p))})}),u};return c0(t)||(t=qv(t)),r(t)}function eO(t,{ignoreFieldNorm:e=Ce.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:s,norm:o,score:c})=>{const u=s?s.weight:null;r*=Math.pow(c===0&&u?Number.EPSILON:c,(u||1)*(e?1:o))}),n.score=r})}function tO(t,e){const n=t.matches;e.matches=[],On(n)&&n.forEach(r=>{if(!On(r.indices)||!r.indices.length)return;const{indices:s,value:o}=r;let c={indices:s,value:o};r.key&&(c.key=r.key.src),r.idx>-1&&(c.refIndex=r.idx),e.matches.push(c)})}function nO(t,e){e.score=t.score}function rO(t,e,{includeMatches:n=Ce.includeMatches,includeScore:r=Ce.includeScore}={}){const s=[];return n&&s.push(tO),r&&s.push(nO),t.map(o=>{const{idx:c}=o,u={item:e[c],refIndex:c};return s.length&&s.forEach(f=>{f(o,u)}),u})}class Pi{constructor(e,n={},r){this.options={...Ce,...n},this.options.useExtendedSearch,this._keyStore=new NM(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof em))throw new Error(kM);this._myIndex=n||Hx(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){On(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,s=this._docs.length;r<s;r+=1){const o=this._docs[r];e(o,r)&&(this.removeAt(r),r-=1,s-=1,n.push(o))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:o,sortFn:c,ignoreFieldNorm:u}=this.options;let f=vr(e)?vr(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return eO(f,{ignoreFieldNorm:u}),o&&f.sort(c),$x(n)&&n>-1&&(f=f.slice(0,n)),rO(f,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(e){const n=o0(e,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:o,i:c,n:u})=>{if(!On(o))return;const{isMatch:f,score:m,indices:p}=n.searchIn(o);f&&s.push({item:o,idx:c,matches:[{score:m,value:o,norm:u,indices:p}]})}),s}_searchLogical(e){const n=Ix(e,this.options),r=(u,f,m)=>{if(!u.children){const{keyId:y,searcher:b}=u,w=this._findMatches({key:this._keyStore.get(y),value:this._myIndex.getValueForItemAtKeyId(f,y),searcher:b});return w&&w.length?[{idx:m,item:f,matches:w}]:[]}const p=[];for(let y=0,b=u.children.length;y<b;y+=1){const w=u.children[y],x=r(w,f,m);if(x.length)p.push(...x);else if(u.operator===yu.AND)return[]}return p},s=this._myIndex.records,o={},c=[];return s.forEach(({$:u,i:f})=>{if(On(u)){let m=r(n,u,f);m.length&&(o[f]||(o[f]={idx:f,item:u,matches:[]},c.push(o[f])),m.forEach(({matches:p})=>{o[f].matches.push(...p)}))}}),c}_searchObjectList(e){const n=o0(e,this.options),{keys:r,records:s}=this._myIndex,o=[];return s.forEach(({$:c,i:u})=>{if(!On(c))return;let f=[];r.forEach((m,p)=>{f.push(...this._findMatches({key:m,value:c[p],searcher:n}))}),f.length&&o.push({idx:u,item:c,matches:f})}),o}_findMatches({key:e,value:n,searcher:r}){if(!On(n))return[];let s=[];if(Wr(n))n.forEach(({v:o,i:c,n:u})=>{if(!On(o))return;const{isMatch:f,score:m,indices:p}=r.searchIn(o);f&&s.push({score:m,key:e,value:o,idx:c,norm:u,indices:p})});else{const{v:o,n:c}=n,{isMatch:u,score:f,indices:m}=r.searchIn(o);u&&s.push({score:f,key:e,value:o,norm:c,indices:m})}return s}}Pi.version="7.1.0";Pi.createIndex=Hx;Pi.parseIndex=$M;Pi.config=Ce;Pi.parseQuery=Ix;XM(GM);const aO={keys:[{name:"kelloggdirectory_name",weight:.6},{name:"kelloggdirectory_title",weight:.2},{name:"kelloggdirectory_subtitle",weight:.1},{name:"kelloggdirectory_bio",weight:.1},{name:"twentyfivelive_name",weight:.2}],threshold:.4,includeScore:!0,minMatchCharLength:2,ignoreLocation:!0},sO=t=>{const e=ue.c(108),{isOpen:n,onClose:r}=t,{isDarkMode:s}=zt(),{data:o,isLoading:c,error:u}=R5(),[f,m]=N.useState(""),[p,y]=N.useState(""),[b,w]=N.useState(!1),[x,k]=N.useState(null),_=gn(),{date:S}=Gr();let D,C;e[0]!==o||e[1]!==p?(D=()=>{if(!o){k(null);return}if(!p){k(o),w(!1);return}w(!0),setTimeout(()=>{const De=new Pi(o,aO).search(p);k(De.map(iO)),w(!1)},0)},C=[o,p],e[0]=o,e[1]=p,e[2]=D,e[3]=C):(D=e[2],C=e[3]),N.useEffect(D,C);let T;e[4]!==f?(T=we=>{we&&we.preventDefault(),y(f.trim())},e[4]=f,e[5]=T):T=e[5];const M=T;let L,R;if(e[6]!==n||e[7]!==r?(L=()=>{const we=De=>{De.key==="Escape"&&r()};return n&&(document.addEventListener("keydown",we),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",we),document.body.style.overflow="unset"}},R=[n,r],e[6]=n,e[7]=r,e[8]=L,e[9]=R):(L=e[8],R=e[9]),N.useEffect(L,R),!n)return null;const $=s?"rgba(0, 0, 0, 0.4)":"rgba(255, 255, 255, 0.3)";let U;e[10]!==$?(U={background:$},e[10]=$,e[11]=U):U=e[11];const q=s?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.25)",V=s?"rgba(255, 255, 255, 0.2)":"rgba(255, 255, 255, 0.4)",X=s?"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1)":"0 8px 32px rgba(31, 38, 135, 0.37), 0 0 0 1px rgba(255, 255, 255, 0.5)",B=s?"#ffffff":"#1a1a1a";let F;e[12]!==X||e[13]!==B||e[14]!==q||e[15]!==V?(F={background:q,borderColor:V,boxShadow:X,color:B},e[12]=X,e[13]=B,e[14]=q,e[15]=V,e[16]=F):F=e[16];const I=s?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.3)",A=s?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.3)";let H;e[17]!==I||e[18]!==A?(H={background:I,borderBottomColor:A},e[17]=I,e[18]=A,e[19]=H):H=e[19];const z=s?"#ffffff":"#1a1a1a";let te;e[20]!==z?(te=h.jsx("h2",{className:"text-2xl font-bold",style:{color:z,textShadow:"0 0 20px rgba(255, 255, 255, 0.5)"},children:"Faculty List"}),e[20]=z,e[21]=te):te=e[21];const O=s?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.4)",K=s?"rgba(255, 255, 255, 0.2)":"rgba(255, 255, 255, 0.5)",re=s?"#ffffff":"#1a1a1a";let ne;e[22]!==O||e[23]!==K||e[24]!==re?(ne={background:O,borderColor:K,color:re},e[22]=O,e[23]=K,e[24]=re,e[25]=ne):ne=e[25];let ce,le;e[26]!==s?(ce=we=>{we.currentTarget.style.transform="translateY(-1px) scale(1.05)",we.currentTarget.style.background=s?"rgba(255, 255, 255, 0.15)":"rgba(255, 255, 255, 0.6)",we.currentTarget.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.15)"},le=we=>{we.currentTarget.style.transform="translateY(0) scale(1)",we.currentTarget.style.background=s?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.4)",we.currentTarget.style.boxShadow="none"},e[26]=s,e[27]=ce,e[28]=le):(ce=e[27],le=e[28]);let ie;e[29]===Symbol.for("react.memo_cache_sentinel")?(ie=h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e[29]=ie):ie=e[29];let me;e[30]!==r||e[31]!==ne||e[32]!==ce||e[33]!==le?(me=h.jsx("button",{onClick:r,className:"rounded-full p-2 transition-all duration-300 backdrop-blur-sm border",style:ne,onMouseEnter:ce,onMouseLeave:le,children:ie}),e[30]=r,e[31]=ne,e[32]=ce,e[33]=le,e[34]=me):me=e[34];let fe;e[35]!==te||e[36]!==me?(fe=h.jsxs("div",{className:"flex justify-between items-center p-6",children:[te,me]}),e[35]=te,e[36]=me,e[37]=fe):fe=e[37];const Re=s?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.3)",Me=s?"rgba(255, 255, 255, 0.02)":"rgba(255, 255, 255, 0.1)";let Ne;e[38]!==Re||e[39]!==Me?(Ne={borderBottomColor:Re,background:Me},e[38]=Re,e[39]=Me,e[40]=Ne):Ne=e[40];let Le;e[41]===Symbol.for("react.memo_cache_sentinel")?(Le=we=>m(we.target.value),e[41]=Le):Le=e[41];const rt=s?"rgba(255, 255, 255, 0.08)":"rgba(255, 255, 255, 0.3)",We=s?"rgba(255, 255, 255, 0.15)":"rgba(255, 255, 255, 0.4)",ot=s?"#ffffff":"#1a1a1a";let Qe;e[42]!==rt||e[43]!==We||e[44]!==ot?(Qe={background:rt,borderColor:We,color:ot},e[42]=rt,e[43]=We,e[44]=ot,e[45]=Qe):Qe=e[45];let $e;e[46]!==M?($e=we=>{we.key==="Enter"&&M(we)},e[46]=M,e[47]=$e):$e=e[47];let pe,_e;e[48]!==s?(pe=we=>{we.target.style.borderColor=s?"rgba(139, 92, 246, 0.5)":"rgba(139, 92, 246, 0.6)",we.target.style.boxShadow="0 0 20px rgba(139, 92, 246, 0.3)",we.target.style.background=s?"rgba(255, 255, 255, 0.12)":"rgba(255, 255, 255, 0.5)"},_e=we=>{we.target.style.borderColor=s?"rgba(255, 255, 255, 0.15)":"rgba(255, 255, 255, 0.4)",we.target.style.boxShadow="none",we.target.style.background=s?"rgba(255, 255, 255, 0.08)":"rgba(255, 255, 255, 0.3)"},e[48]=s,e[49]=pe,e[50]=_e):(pe=e[49],_e=e[50]);let Oe;e[51]!==f||e[52]!==Qe||e[53]!==$e||e[54]!==pe||e[55]!==_e?(Oe=h.jsx("input",{type:"text",value:f,onChange:Le,placeholder:"Search faculty (name, title, bio, etc)",className:"w-full px-4 py-3 rounded-xl border backdrop-blur-sm focus:outline-none transition-all duration-300",style:Qe,autoFocus:!0,onKeyDown:$e,onFocus:pe,onBlur:_e}),e[51]=f,e[52]=Qe,e[53]=$e,e[54]=pe,e[55]=_e,e[56]=Oe):Oe=e[56];const be=s?"rgba(139, 92, 246, 0.2)":"rgba(139, 92, 246, 0.3)",Pe=s?"rgba(139, 92, 246, 0.4)":"rgba(139, 92, 246, 0.5)",Je=s?"#ffffff":"#1a1a1a";let Ye;e[57]!==be||e[58]!==Pe||e[59]!==Je?(Ye={background:be,borderColor:Pe,color:Je},e[57]=be,e[58]=Pe,e[59]=Je,e[60]=Ye):Ye=e[60];let at,Ke;e[61]!==s||e[62]!==b?(at=we=>{b||(we.currentTarget.style.transform="translateY(-2px)",we.currentTarget.style.background=s?"rgba(139, 92, 246, 0.3)":"rgba(139, 92, 246, 0.4)",we.currentTarget.style.boxShadow="0 8px 25px rgba(139, 92, 246, 0.4)")},Ke=we=>{b||(we.currentTarget.style.transform="translateY(0)",we.currentTarget.style.background=s?"rgba(139, 92, 246, 0.2)":"rgba(139, 92, 246, 0.3)",we.currentTarget.style.boxShadow="none")},e[61]=s,e[62]=b,e[63]=at,e[64]=Ke):(at=e[63],Ke=e[64]);let je;e[65]!==b?(je=b?h.jsxs("svg",{className:"animate-spin h-5 w-5 mx-auto",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}):h.jsx("svg",{className:"h-5 w-5 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-4.35-4.35M17 11a6 6 0 11-12 0 6 6 0 0112 0z"})}),e[65]=b,e[66]=je):je=e[66];let Ue;e[67]!==b||e[68]!==Ye||e[69]!==at||e[70]!==Ke||e[71]!==je?(Ue=h.jsx("button",{type:"submit",className:"px-4 py-3 rounded-xl border backdrop-blur-sm transition-all duration-300",style:Ye,disabled:b,"aria-label":"Search",onMouseEnter:at,onMouseLeave:Ke,children:je}),e[67]=b,e[68]=Ye,e[69]=at,e[70]=Ke,e[71]=je,e[72]=Ue):Ue=e[72];let ve;e[73]!==M||e[74]!==Ne||e[75]!==Oe||e[76]!==Ue?(ve=h.jsxs("form",{className:"px-6 pt-4 pb-6 flex gap-3 items-center backdrop-blur-sm border-b",style:Ne,onSubmit:M,children:[Oe,Ue]}),e[73]=M,e[74]=Ne,e[75]=Oe,e[76]=Ue,e[77]=ve):ve=e[77];let gt;e[78]!==H||e[79]!==fe||e[80]!==ve?(gt=h.jsxs("div",{className:"sticky top-0 z-10 backdrop-blur-lg border-b overflow-hidden",style:H,children:[fe,ve]}),e[78]=H,e[79]=fe,e[80]=ve,e[81]=gt):gt=e[81];const tn=s?"rgba(255, 255, 255, 0.02)":"rgba(255, 255, 255, 0.1)";let qt;e[82]!==tn?(qt={maxHeight:"60vh",background:tn},e[82]=tn,e[83]=qt):qt=e[83];let It;e[84]!==s||e[85]!==c?(It=c&&h.jsx("div",{className:"text-center py-8",style:{color:s?"#ffffff":"#1a1a1a"},children:"Loading faculty..."}),e[84]=s,e[85]=c,e[86]=It):It=e[86];let Yt;e[87]!==u?(Yt=u&&h.jsx("div",{className:"text-center py-8",style:{color:"#ef4444"},children:"Error loading faculty."}),e[87]=u,e[88]=Yt):Yt=e[88];let Ct;e[89]!==S||e[90]!==x||e[91]!==s||e[92]!==b||e[93]!==_?(Ct=b?h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsxs("svg",{className:"animate-spin h-8 w-8",viewBox:"0 0 24 24",style:{color:"#8b5cf6"},children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}):x!==null?x.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(we=>h.jsxs("div",{className:"p-5 flex flex-col items-center cursor-pointer transition-all duration-300 rounded-xl backdrop-blur-md border",style:{background:s?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.25)",borderColor:s?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.3)",boxShadow:s?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 8px 32px rgba(31, 38, 135, 0.37)"},onClick:()=>_(`/${S}/faculty/${we.id}`),onMouseEnter:De=>{De.currentTarget.style.transform="translateY(-5px) scale(1.02)",De.currentTarget.style.background=s?"rgba(255, 255, 255, 0.08)":"rgba(255, 255, 255, 0.35)",De.currentTarget.style.borderColor=s?"rgba(139, 92, 246, 0.4)":"rgba(139, 92, 246, 0.5)",De.currentTarget.style.boxShadow=s?"0 15px 40px rgba(0, 0, 0, 0.4), 0 0 20px rgba(139, 92, 246, 0.3)":"0 15px 40px rgba(31, 38, 135, 0.5), 0 0 20px rgba(139, 92, 246, 0.4)"},onMouseLeave:De=>{De.currentTarget.style.transform="translateY(0) scale(1)",De.currentTarget.style.background=s?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.25)",De.currentTarget.style.borderColor=s?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.3)",De.currentTarget.style.boxShadow=s?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 8px 32px rgba(31, 38, 135, 0.37)"},children:[we.kelloggdirectory_image_url&&h.jsx("div",{className:"relative mb-4",children:h.jsxs("div",{className:"w-24 h-24 rounded-full overflow-hidden border backdrop-blur-sm",style:{borderColor:s?"rgba(255, 255, 255, 0.2)":"rgba(255, 255, 255, 0.4)",boxShadow:s?"0 4px 15px rgba(0, 0, 0, 0.3)":"0 4px 15px rgba(31, 38, 135, 0.3)"},children:[h.jsx("img",{src:we.kelloggdirectory_image_url,alt:we.kelloggdirectory_name||"Faculty",className:"w-full h-full object-cover filter grayscale opacity-80"}),h.jsx("div",{className:"absolute inset-0 rounded-full bg-[#8b5cf6] mix-blend-overlay opacity-30"})]})}),h.jsx("div",{className:"text-lg font-bold text-center mb-2",style:{color:s?"#ffffff":"#1a1a1a",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)"},children:we.kelloggdirectory_name||we.twentyfivelive_name||"Unknown"}),h.jsx("div",{className:"text-sm text-center mb-1",style:{color:s?"rgba(255, 255, 255, 0.8)":"rgba(26, 26, 26, 0.8)"},children:we.kelloggdirectory_title}),h.jsx("div",{className:"text-xs text-center mb-3",style:{color:s?"rgba(255, 255, 255, 0.6)":"rgba(26, 26, 26, 0.6)"},children:we.kelloggdirectory_subtitle}),we.kelloggdirectory_bio_url&&h.jsx("a",{href:we.kelloggdirectory_bio_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs mt-1 px-3 py-1 rounded-full transition-all duration-300 backdrop-blur-sm border",style:{color:s?"#ffffff":"#1a1a1a",background:s?"rgba(139, 92, 246, 0.2)":"rgba(139, 92, 246, 0.3)",borderColor:s?"rgba(139, 92, 246, 0.4)":"rgba(139, 92, 246, 0.5)",textDecoration:"none"},onClick:lO,onMouseEnter:De=>{De.currentTarget.style.background=s?"rgba(139, 92, 246, 0.3)":"rgba(139, 92, 246, 0.4)",De.currentTarget.style.transform="scale(1.05)",De.currentTarget.style.boxShadow="0 5px 15px rgba(139, 92, 246, 0.4)"},onMouseLeave:De=>{De.currentTarget.style.background=s?"rgba(139, 92, 246, 0.2)":"rgba(139, 92, 246, 0.3)",De.currentTarget.style.transform="scale(1)",De.currentTarget.style.boxShadow="none"},children:"View Bio"})]},we.id))}):h.jsx("div",{className:"text-center py-8",style:{color:s?"#ffffff":"#1a1a1a"},children:"No faculty found."}):null,e[89]=S,e[90]=x,e[91]=s,e[92]=b,e[93]=_,e[94]=Ct):Ct=e[94];let Qt;e[95]!==qt||e[96]!==It||e[97]!==Yt||e[98]!==Ct?(Qt=h.jsxs("div",{className:"p-6 pt-4 overflow-y-auto backdrop-blur-sm",style:qt,children:[It,Yt,Ct]}),e[95]=qt,e[96]=It,e[97]=Yt,e[98]=Ct,e[99]=Qt):Qt=e[99];let Lt;e[100]!==F||e[101]!==gt||e[102]!==Qt?(Lt=h.jsxs("div",{className:"max-w-5xl w-full mx-4 max-h-[90vh] rounded-2xl backdrop-blur-md border overflow-hidden",style:F,onClick:oO,children:[gt,Qt]}),e[100]=F,e[101]=gt,e[102]=Qt,e[103]=Lt):Lt=e[103];let Sn;return e[104]!==r||e[105]!==Lt||e[106]!==U?(Sn=h.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[9999] backdrop-blur-sm",style:U,onClick:r,children:Lt}),e[104]=r,e[105]=Lt,e[106]=U,e[107]=Sn):Sn=e[107],Sn};function iO(t){return t.item}function oO(t){return t.stopPropagation()}function lO(t){return t.stopPropagation()}const cO=async t=>{const{data:e,error:n}=await de.from("faculty").select("*").eq("id",Number(t)).single();if(n)throw n;return e},uO=()=>{const t=ue.c(37),{facultyId:e,date:n}=Gr(),r=gn();let s,o;t[0]!==e?(s=["faculty",e],o=()=>cO(e),t[0]=e,t[1]=s,t[2]=o):(s=t[1],o=t[2]);const c=!!e;let u;t[3]!==s||t[4]!==o||t[5]!==c?(u={queryKey:s,queryFn:o,enabled:c},t[3]=s,t[4]=o,t[5]=c,t[6]=u):u=t[6];const{data:f,isLoading:m,error:p}=pt(u);let y,b,w,x,k,_;if(t[7]!==n||t[8]!==p||t[9]!==f||t[10]!==m||t[11]!==r){const C=f?{instructor_names:[f.twentyfivelive_name||f.kelloggdirectory_name||"Unknown Faculty"]}:null,T=dO;k="fixed inset-0 bg-black bg-opacity-50 z-[10000] flex items-center justify-center p-4",t[18]!==n||t[19]!==r?(_=()=>r(`/${n}/faculty`),t[18]=n,t[19]=r,t[20]=_):_=t[20],y="w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-white dark:bg-gray-900 rounded-lg shadow-xl p-6",b=fO;let M;t[21]===Symbol.for("react.memo_cache_sentinel")?(M=h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Faculty Details"}),t[21]=M):M=t[21];let L;t[22]!==n||t[23]!==r?(L=()=>r(`/${n}/faculty`),t[22]=n,t[23]=r,t[24]=L):L=t[24];let R;t[25]===Symbol.for("react.memo_cache_sentinel")?(R=h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),t[25]=R):R=t[25],t[26]!==L?(w=h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M,h.jsx("button",{onClick:L,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:R})]}),t[26]=L,t[27]=w):w=t[27],x=m?h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-600",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}):p?h.jsx("div",{className:"text-red-600",children:"Error loading faculty details."}):f&&C?h.jsx(Rx,{event:C,resources:[],facultyMembers:[f],instructorNames:Array.isArray(C.instructor_names)?C.instructor_names.filter(hO):[],isFacultyLoading:!1,openPanelModal:T}):null,t[7]=n,t[8]=p,t[9]=f,t[10]=m,t[11]=r,t[12]=y,t[13]=b,t[14]=w,t[15]=x,t[16]=k,t[17]=_}else y=t[12],b=t[13],w=t[14],x=t[15],k=t[16],_=t[17];let S;t[28]!==y||t[29]!==b||t[30]!==w||t[31]!==x?(S=h.jsxs("div",{className:y,onClick:b,children:[w,x]}),t[28]=y,t[29]=b,t[30]=w,t[31]=x,t[32]=S):S=t[32];let D;return t[33]!==S||t[34]!==k||t[35]!==_?(D=h.jsx("div",{className:k,onClick:_,children:S}),t[33]=S,t[34]=k,t[35]=_,t[36]=D):D=t[36],D};function dO(t){console.log(`Panel modal requested for ${t} panel`)}function fO(t){return t.stopPropagation()}function hO(t){return typeof t=="string"&&t.trim()!==""}const mO=()=>{const t=ue.c(12),{currentFilter:e}=ys(),{loadFilter:n,getFilterByName:r}=Cu();let s;t[0]!==r||t[1]!==n?(s=async()=>{try{const b=r("All Rooms");b&&await n(b)}catch(b){console.error("Error handling clear filter:",b)}},t[0]=r,t[1]=n,t[2]=s):s=t[2];const o=s;let c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c=h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent dark:from-white/5 dark:to-transparent rounded-2xl"}),t[3]=c):c=t[3];let u;t[4]===Symbol.for("react.memo_cache_sentinel")?(u=h.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3 text-center",children:"No Events Found"}),t[4]=u):u=t[4];const f=e||"All Rooms";let m;t[5]!==f?(m=h.jsxs("p",{className:"text-gray-700 dark:text-gray-200 mb-8 text-center leading-relaxed",children:["No events match the filter ",h.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:f})," for this day."]}),t[5]=f,t[6]=m):m=t[6];let p;t[7]!==o?(p=h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{onClick:o,className:"px-8 py-3 bg-gradient-to-r from-purple-600/60 to-purple-700/60 hover:from-purple-500/70 hover:to-purple-600/70 text-white font-medium rounded-xl transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105 border border-white/30 backdrop-blur-sm hover:backdrop-blur-md",children:"Clear Filter"})}),t[7]=o,t[8]=p):p=t[8];let y;return t[9]!==m||t[10]!==p?(y=h.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:h.jsx("div",{className:"pointer-events-auto",children:h.jsxs("div",{className:"bg-white/20 dark:bg-gray-900/30 backdrop-blur-2xl rounded-2xl p-8 shadow-2xl border border-white/30 dark:border-gray-600/40 max-w-md w-full mx-4 relative overflow-hidden",children:[c,h.jsxs("div",{className:"relative z-10",children:[u,m,p]})]})})}),t[9]=m,t[10]=p,t[11]=y):y=t[11],y};function Fo(){const t=ue.c(94),[e]=N.useState(!0),n=gn(),r=_r(),{date:s,eventId:o}=Gr();let c;e:{if(!s){let _e;if(t[0]===Symbol.for("react.memo_cache_sentinel")){const Oe=new Date;_e=new Date(Oe.getFullYear(),Oe.getMonth(),Oe.getDate(),12,0,0),t[0]=_e}else _e=t[0];c=_e;break e}let pe;if(t[1]!==s){const[_e,Oe,be]=s.split("-").map(Number),Pe=new Date(_e,Oe-1,be,12,0,0);pe=isNaN(Pe.getTime())?new Date:Pe,t[1]=s,t[2]=pe}else pe=t[2];c=pe}const u=c,{data:f,isLoading:m,error:p}=E5(u);j5(u),R6(u);let y;t[3]!==f?(y=pe=>f?f.filter(_e=>{if(!_e.room_name)return!1;if(_e.room_name.includes("&")){const Oe=_e.room_name.split("&");if(Oe.length===2)return Oe[0].trim()===pe}return _e.room_name===pe}):[],t[3]=f,t[4]=y):y=t[4];const b=y;let w;t[5]!==f?(w=f||[],t[5]=f,t[6]=w):w=t[6];const{data:x}=k5(w);let k;if(t[7]!==r.pathname){let pe;t[9]===Symbol.for("react.memo_cache_sentinel")?(pe=/\/\d{4}-\d{2}-\d{2}\/\d+(\/.*)?$/,t[9]=pe):pe=t[9],k=r.pathname.match(pe),t[7]=r.pathname,t[8]=k}else k=t[8];const _=k;let S;t[10]!==r.pathname?(S=r.pathname.endsWith("/faculty"),t[10]=r.pathname,t[11]=S):S=t[11];const D=S;let C;if(t[12]!==r.pathname){let pe;t[14]===Symbol.for("react.memo_cache_sentinel")?(pe=/\/faculty\/[0-9]+$/,t[14]=pe):pe=t[14],C=r.pathname.match(pe),t[12]=r.pathname,t[13]=C}else C=t[13];const T=C;let M;t[15]!==n?(M=pe=>{const _e=new Date(pe);_e.setHours(0,0,0,0);const Oe=_e.toISOString().split("T")[0];n(`/${Oe}`)},t[15]=n,t[16]=M):M=t[16];const L=M;let R,$;t[17]!==s||t[18]!==n||t[19]!==u?(R=()=>{if(!s&&u){const pe=new Date(u);pe.setHours(0,0,0,0);const _e=pe.toISOString().split("T")[0];n(`/${_e}`,{replace:!0})}},$=[s,u,n],t[17]=s,t[18]=n,t[19]=u,t[20]=R,t[21]=$):(R=t[20],$=t[21]),ee.useEffect(R,$);let U;t[22]!==n||t[23]!==u?(U=pe=>{const _e=u.toISOString().split("T")[0];n(`/${_e}/${pe.id}`)},t[22]=n,t[23]=u,t[24]=U):U=t[24];const q=U;if(p){let pe;return t[25]!==p.message?(pe=h.jsxs("div",{className:"flex items-center justify-center h-screen text-red-500",children:["Error: ",p.message]}),t[25]=p.message,t[26]=pe):pe=t[26],pe}let V;t[27]!==f?(V=f||[],t[27]=f,t[28]=V):V=t[28];let X;t[29]!==L||t[30]!==m||t[31]!==u||t[32]!==V?(X=h.jsx(PT,{selectedDate:u,setSelectedDate:L,isLoading:m,events:V}),t[29]=L,t[30]=m,t[31]=u,t[32]=V,t[33]=X):X=t[33];let B;t[34]===Symbol.for("react.memo_cache_sentinel")?(B=h.jsxs("div",{className:"z-50 pointer-events-none relative h-auto 2xl:pt-10 lg:pt-0 pt-2",children:[h.jsx("div",{className:"absolute rounded-full blur-2xl opacity-100",style:{background:"radial-gradient(circle, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.95) 15%, rgba(255, 255, 255, 0.8) 30%, rgba(255, 255, 255, 0.6) 50%, rgba(255, 255, 255, 0.4) 70%, rgba(255, 255, 255, 0.2) 85%, transparent 100%)",width:"320px",height:"320px",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:1}}),h.jsx("img",{src:"/Kellogg_H_RGB.png",alt:"Kellogg School of Management",className:`3xl:h-64 2xl:h-64 xl:h-24 lg:h-20 h-10\r
            object-contain opacity-90 relative z-10`})]}),t[34]=B):B=t[34];let F;t[35]!==X?(F=h.jsxs("div",{className:"flex flex-col items-center justifty-between h-full w-full- ",children:[X,B]}),t[35]=X,t[36]=F):F=t[36];let I;t[37]===Symbol.for("react.memo_cache_sentinel")?(I=h.jsx(BT,{}),t[37]=I):I=t[37];let A;t[38]!==f?(A=f||[],t[38]=f,t[39]=A):A=t[39];let H;t[40]!==u||t[41]!==A?(H=h.jsxs("div",{className:"flex fixed top-4 right-4 z-[9998] gap-2",children:[I,h.jsx(T6,{selectedDate:u,events:A})]}),t[40]=u,t[41]=A,t[42]=H):H=t[42];let z;t[43]!==L||t[44]!==u?(z=()=>{const pe=new Date(u);pe.setDate(pe.getDate()+1),pe.setHours(0,0,0,0),L(pe)},t[43]=L,t[44]=u,t[45]=z):z=t[45];const te=`!hidden xl:!flex fixed right-2 top-1/2 transform -translate-y-1/2 h-16 w-16 p-3 rounded-lg transition-all duration-200 items-center justify-center z-50 opacity-40 ${m?"opacity-20 cursor-not-allowed":"hover:opacity-60 h hover:scale-150 active:scale-95"}`;let O;t[46]===Symbol.for("react.memo_cache_sentinel")?(O=h.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),t[46]=O):O=t[46];let K;t[47]!==m||t[48]!==z||t[49]!==te?(K=h.jsx("button",{onClick:z,disabled:m,className:te,"aria-label":"Next day",children:O}),t[47]=m,t[48]=z,t[49]=te,t[50]=K):K=t[50];let re;t[51]===Symbol.for("react.memo_cache_sentinel")?(re={clipPath:"polygon(0 0, 100% 0, 100% calc(100% - 100px), calc(100% - 100px) 100%, 0 100%)"},t[51]=re):re=t[51];const ne=x?.length||0;let ce,le;t[52]===Symbol.for("react.memo_cache_sentinel")?(ce={width:"1920px",minHeight:"100%"},le=h.jsx(I4,{startHour:7,endHour:23,pixelsPerMinute:2}),t[52]=ce,t[53]=le):(ce=t[52],le=t[53]);const ie=x?.length||0;let me;t[54]!==ie?(me=h.jsx(X5,{startHour:7,endHour:23,pixelsPerMinute:2,actualRowCount:ie}),t[54]=ie,t[55]=me):me=t[55];let fe;t[56]===Symbol.for("react.memo_cache_sentinel")?(fe=h.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none h-full",children:h.jsx(Q4,{startHour:7,endHour:23,pixelsPerMinute:2})}),t[56]=fe):fe=t[56];let Re;t[57]!==b||t[58]!==q||t[59]!==x?(Re=x.filter(yO).map((pe,_e)=>{const Oe=b(pe);return pe.match(/GH (\d)/)?.[1],h.jsx(W5,{room:pe,roomEvents:Oe,startHour:7,pixelsPerMinute:2,rooms:x,onEventClick:q,isEvenRow:_e%2===0,isLastRow:_e===x.length-1,isFloorBreak:!1},`${pe}`)}),t[57]=b,t[58]=q,t[59]=x,t[60]=Re):Re=t[60];let Me;t[61]!==me||t[62]!==Re?(Me=h.jsxs("div",{className:"min-w-max rounded-lg  h-content relative shadow-2xl ",style:ce,children:[le,me,fe,Re]}),t[61]=me,t[62]=Re,t[63]=Me):Me=t[63];let Ne;t[64]!==e||t[65]!==ne||t[66]!==Me?(Ne=h.jsx(Mx,{className:"grid-container  h-[calc(100vh-1rem)] rounded-lg relative overflow-hidden",style:re,startHour:7,endHour:23,pixelsPerMinute:2,actualRowCount:ne,isDragEnabled:e,children:Me}),t[64]=e,t[65]=ne,t[66]=Me,t[67]=Ne):Ne=t[67];let Le;t[68]!==f||t[69]!==m?(Le=(!f||f.length===0)&&!m&&h.jsx(mO,{}),t[68]=f,t[69]=m,t[70]=Le):Le=t[70];let rt;t[71]!==s||t[72]!==o||t[73]!==_||t[74]!==n?(rt=_&&o&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999] flex items-center justify-center p-4",onClick:()=>n(`/${s}`),children:h.jsx("div",{className:"w-full max-w-7xl max-h-[90vh] overflow-y-auto rounded-lg",onClick:gO,children:h.jsx(bM,{})})}),t[71]=s,t[72]=o,t[73]=_,t[74]=n,t[75]=rt):rt=t[75];let We;t[76]!==s||t[77]!==T||t[78]!==D||t[79]!==n?(We=D&&!T&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999] flex items-center justify-center p-4",onClick:()=>n(`/${s}`),children:h.jsx("div",{className:"w-full max-w-5xl max-h-[90vh] overflow-y-auto bg-white dark:bg-gray-900 rounded-lg shadow-xl",onClick:pO,children:h.jsx(sO,{isOpen:!0,onClose:()=>n(`/${s}`)})})}),t[76]=s,t[77]=T,t[78]=D,t[79]=n,t[80]=We):We=t[80];let ot;t[81]!==T?(ot=T&&h.jsx(uO,{}),t[81]=T,t[82]=ot):ot=t[82];let Qe;t[83]!==K||t[84]!==Ne||t[85]!==Le||t[86]!==rt||t[87]!==We||t[88]!==ot?(Qe=h.jsxs("div",{className:"flex-1 2xl:pr-16 pr-4 overflow-hidden",children:[K,Ne,Le,rt,We,ot]}),t[83]=K,t[84]=Ne,t[85]=Le,t[86]=rt,t[87]=We,t[88]=ot,t[89]=Qe):Qe=t[89];let $e;return t[90]!==F||t[91]!==H||t[92]!==Qe?($e=h.jsxs("div",{className:"flex  justify-center p-1 min-h-screen  gpu-optimized",children:[F,H,Qe," "]}),t[90]=F,t[91]=H,t[92]=Qe,t[93]=$e):$e=t[93],$e}function pO(t){return t.stopPropagation()}function gO(t){return t.stopPropagation()}function yO(t){return!t.includes("&")}const bO=new uS({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*60*24,refetchOnWindowFocus:!1}}});function vO(){const t=ue.c(9);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=h.jsx(fr,{path:"/auth",element:h.jsx(H4,{})}),t[0]=e):e=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=h.jsx(fr,{path:"/auth/callback",element:h.jsx(F4,{})}),t[1]=n):n=t[1];let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=h.jsx(fr,{path:"/",element:h.jsx(Ja,{children:h.jsx(Fo,{})})}),t[2]=r):r=t[2];let s;t[3]===Symbol.for("react.memo_cache_sentinel")?(s=h.jsx(fr,{path:":date",element:h.jsx(Ja,{children:h.jsx(Fo,{})})}),t[3]=s):s=t[3];let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=h.jsx(fr,{path:":date/:eventId/*",element:h.jsx(Ja,{children:h.jsx(Fo,{})})}),t[4]=o):o=t[4];let c;t[5]===Symbol.for("react.memo_cache_sentinel")?(c=h.jsx(fr,{path:":date/faculty",element:h.jsx(Ja,{children:h.jsx(Fo,{})})}),t[5]=c):c=t[5];let u;t[6]===Symbol.for("react.memo_cache_sentinel")?(u=h.jsx(fr,{path:":date/faculty/:facultyId",element:h.jsx(Ja,{children:h.jsx(Fo,{})})}),t[6]=u):u=t[6];let f;t[7]===Symbol.for("react.memo_cache_sentinel")?(f=h.jsx(fr,{path:"/account",element:h.jsx(Ja,{children:h.jsx(z4,{})})}),t[7]=f):f=t[7];let m;return t[8]===Symbol.for("react.memo_cache_sentinel")?(m=h.jsx(N4,{children:h.jsx(dS,{client:bO,children:h.jsx(B4,{children:h.jsx(T4,{children:h.jsx(R4,{children:h.jsxs(O4,{children:[h.jsx(Mk,{children:h.jsx(P4,{children:h.jsxs(ok,{children:[e,n,r,s,o,c,u,f,h.jsx(fr,{path:"/about",element:h.jsx(Ja,{children:h.jsx(q4,{})})})]})})}),h.jsx(U4,{initialIsOpen:!1})]})})})})})}),t[8]=m):m=t[8],m}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("Service Worker registered successfully:",t)}).catch(t=>{console.error("Service Worker registration failed:",t)})});const xO=h_.createRoot(document.getElementById("root"));xO.render(h.jsx(vO,{}));
//# sourceMappingURL=index-DIeX4ErN.js.map
